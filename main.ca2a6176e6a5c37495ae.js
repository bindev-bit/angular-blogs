(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,o),a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=Object(r.g)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"1G5W":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("zx2A");function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new o(t),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class o extends r.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1kSV":function(t,e,n){"use strict";n.d(e,"a",function(){return It}),n.d(e,"b",function(){return st});var r=n("fXoL"),i=n("ofXK"),s=n("HDdC"),o=n("EY2u"),a=n("LRne"),u=n("XNiG"),c=n("xgIS"),l=n("D0XW"),h=n("Y7HM"),f=n("z+Ro");function d(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var p=n("DH7j"),g=n("yCtX"),m=n("l7GE"),y=n("ZUHj");class b{call(t,e){return e.subscribe(new v(t))}}class v extends m.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=t[n],r=Object(y.a)(this,e,void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("2Vo4"),n("itXk"),n("KqfI");var _=n("7o/Q"),w=n("Lhse"),S=n("zx2A");function E(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(g.a)(t,void 0).lift(new O(e))}class O{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new T(t,this.resultSelector))}}class T extends _.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(p.a)(t)?e.push(new C(t)):e.push("function"==typeof t[w.a]?new x(t[w.a]()):new k(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class x{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class C{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[w.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class k extends S.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[w.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(S.c)(this.observable,new S.a(this))}}n("VRyK");var I=n("GyhO"),A=n("1G5W"),j=n("pLZG"),D=n("IzEk"),P=n("lJxs"),R=(n("JX91"),n("/uUt"),n("eIep")),N=n("vkgz");function L(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new M(t,n))}}class M{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new F(t,this.observables,this.project))}}class F extends m.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(Object(y.a)(this,t,void 0,i))}}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("5+tZ"),n("w1tV");var V=n("3Pt+");const U=["*"],B=["dialog"];function q(t){return null!=t}function H(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const z={animation:!0,transitionTimerDelayMs:5};let G=(()=>{class t{constructor(){this.animation=z.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const $=()=>{},{transitionTimerDelayMs:K}=z,W=new Map,Q=(t,e,n,r)=>{let i=r.context||{};const m=W.get(e);if(m)switch(r.runningTransition){case"continue":return o.a;case"stop":t.run(()=>m.transition$.complete()),i=Object.assign(m.context,i),W.delete(e)}const y=n(e,r.animation,i)||$;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>y()),Object(a.a)(void 0).pipe(function(t){return e=>new s.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const v=new u.a,_=new u.a,w=v.pipe(function(...t){return e=>Object(I.a)(e,Object(a.a)(...t))}(!0));W.set(e,{transition$:v,complete:()=>{_.next(),_.complete()},context:i});const S=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Object(c.a)(e,"transitionend").pipe(Object(A.a)(w),Object(j.a)(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(p.a)(t[0]))return t[0];t=t[0]}return Object(g.a)(t,void 0).lift(new b)})(function(t=0,e,n){let r=-1;return Object(h.a)(e)?r=Number(e)<1?1:Number(e):Object(f.a)(e)&&(n=e),Object(f.a)(n)||(n=l.a),new s.a(e=>{const i=Object(h.a)(t)?t:+t-n.now();return n.schedule(d,i,{index:0,period:r,subscriber:e})})}(S+K).pipe(Object(A.a)(w)),n,_).pipe(Object(A.a)(w)).subscribe(()=>{W.delete(e),t.run(()=>{y(),v.next(),v.complete()})})}),v.asObservable()};let Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();var et=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const nt=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rt(t){const e=Array.from(t.querySelectorAll(nt)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=o.top-(e.offsetHeight+u+c);break;case"bottom":f=o.top+o.height;break;case"left":d=o.left-(e.offsetWidth+l+h);break;case"right":d=o.left+o.width}switch(s){case"top":f=o.top;break;case"bottom":f=o.top+o.height-e.offsetHeight;break;case"left":d=o.left;break;case"right":d=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=o.left+o.width/2-e.offsetWidth/2:f=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c,V.b]]}),t})(),st=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["",8,"navbar"]]}),t})(),ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),at=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.ac(G))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(G))},token:t,providedIn:"root"}),t})();class ut{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const ct=()=>{};let lt=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):ct}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.ac(i.d))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(i.d))},token:t,providedIn:"root"}),t})(),ht=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Object(D.a)(1)).subscribe(()=>{Q(this._zone,this._el.nativeElement,(t,e)=>{e&&H(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Q(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Eb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Gb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class ft{close(t){}dismiss(t){}}class dt{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new u.a,this._dismissed=new u.a,this._hidden=new u.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Object(A.a)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Object(A.a)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(a.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),E(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var pt=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let gt=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new u.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new u.a,this.hidden=new u.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Object(D.a)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=E(Q(this._zone,t,()=>t.classList.remove("show"),e),Q(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};E(Q(this._zone,this._elRef.nativeElement,(t,e)=>{e&&H(t),t.classList.add("show")},t),Q(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Object(c.a)(t,"keydown").pipe(Object(A.a)(this._closed$),Object(j.a)(t=>t.which===et.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(pt.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Object(c.a)(this._dialogEl.nativeElement,"mousedown").pipe(Object(A.a)(this._closed$),Object(N.a)(()=>e=!1),Object(R.a)(()=>Object(c.a)(t,"mouseup").pipe(Object(A.a)(this._closed$),Object(D.a)(1))),Object(j.a)(({target:e})=>t===e)).subscribe(()=>{e=!0}),Object(c.a)(t,"click").pipe(Object(A.a)(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(pt.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=rt(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Q(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(i.d),r.Ob(r.l),r.Ob(r.A))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Gc(B,3),2&t){let t;r.uc(t=r.fc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Eb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Gb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:U,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.mc(),r.Tb(0,"div",0,1),r.Tb(2,"div",2),r.lc(3),r.Sb(),r.Sb()),2&t&&r.Eb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),mt=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new u.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Object(c.a)(e,"focusin").pipe(Object(A.a)(n),Object(P.a)(t=>t.target));Object(c.a)(e,"keydown").pipe(Object(A.a)(n),Object(j.a)(t=>t.which===et.Tab),L(t)).subscribe(([t,n])=>{const[r,i]=rt(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Object(c.a)(e,"click").pipe(Object(A.a)(n),L(t),Object(P.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:q(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new ft,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new dt(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(o,o),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(ht).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(gt).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{q(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{q(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new ut([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new ut([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new ut([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:ft,useValue:i}],parent:e}),u=o.create(a),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new ut([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.g),r.ac(r.s),r.ac(i.d),r.ac(lt),r.ac(r.F),r.ac(r.A))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(r.g),Object(r.ac)(r.o),Object(r.ac)(i.d),Object(r.ac)(lt),Object(r.ac)(r.F),Object(r.ac)(r.A))},token:t,providedIn:"root"}),t})(),yt=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.j),r.ac(r.s),r.ac(mt),r.ac(at))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.ac)(r.j),Object(r.ac)(r.o),Object(r.ac)(mt),Object(r.ac)(at))},token:t,providedIn:"root"}),t})(),bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[yt]}),t})(),vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),St=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),Ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),Tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})(),xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[i.c]]}),t})();const kt=[Y,X,Z,J,tt,it,ot,bt,vt,_t,wt,St,Et,Ot,Tt,xt,Ct];let It=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[kt,Y,X,Z,J,tt,it,ot,bt,vt,_t,wt,St,Et,Ot,Tt,xt,Ct]}),t})()},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("XNiG"),i=n("9ppp");class s extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",function(){return g}),n.d(e,"b",function(){return mt}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return j}),n.d(e,"f",function(){return D}),n.d(e,"g",function(){return J}),n.d(e,"h",function(){return nt}),n.d(e,"i",function(){return ut}),n.d(e,"j",function(){return pt}),n.d(e,"k",function(){return rt}),n.d(e,"l",function(){return ft});var r=n("fXoL"),i=n("ofXK"),s=n("Cfvw"),o=n("HDdC"),a=n("DH7j"),u=n("lJxs"),c=n("XoHu");function l(t,e){return new o.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,a=0;for(let u=0;u<r;u++){const c=Object(s.a)(t[u]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,a++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(a===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class h{}const f=new r.r("NgValueAccessor"),d={provide:f,useExisting:Object(r.U)(()=>g),multi:!0},p=new r.r("CompositionEventMode");let g=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i.C)()?Object(i.C)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.E),r.Ob(r.l),r.Ob(p,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ec("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([d])]}),t})();const m=new r.r("NgValidators"),y=new r.r("NgAsyncValidators");function b(t){return null!=t}function v(t){const e=Object(r.tb)(t)?Object(s.a)(t):t;return Object(r.sb)(e),e}function _(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function w(t,e){return e.map(e=>e(t))}function S(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function E(t){return null!=t?function(t){if(!t)return null;const e=t.filter(b);return 0==e.length?null:function(t){return _(w(t,e))}}(S(t)):null}function O(t){return null!=t?function(t){if(!t)return null;const e=t.filter(b);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(a.a)(e))return l(e,null);if(Object(c.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(a.a)(t[0])?t[0]:t,null).pipe(Object(u.a)(t=>e(...t)))}return l(t,null)}(w(t,e).map(v)).pipe(Object(u.a)(_))}}(S(t)):null}function T(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let x=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=E(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=O(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),C=(()=>{class t extends x{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return k(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.zb]}),t})();const k=r.Vb(C);class I extends x{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let j=(()=>{class t extends A{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(I,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})(),D=(()=>{class t extends A{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(C,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function P(t,e){N(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&L(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&L(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function R(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function N(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(T(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(T(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();R(e._rawValidators,n),R(e._rawAsyncValidators,n)}}function L(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function M(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const F="VALID",V="INVALID",U="PENDING",B="DISABLED";function q(t){return($(t)?t.validators:t)||null}function H(t){return Array.isArray(t)?E(t):t||null}function z(t,e){return($(e)?e.asyncValidators:t)||null}function G(t){return Array.isArray(t)?O(t):t||null}function $(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class K{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=H(this._rawValidators),this._composedAsyncValidatorFn=G(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===F}get invalid(){return this.status===V}get pending(){return this.status==U}get disabled(){return this.status===B}get enabled(){return this.status!==B}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=H(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=G(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=U,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=B,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=F,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==F&&this.status!==U||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?B:F}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=U,this._hasOwnPendingAsyncValidator=!0;const e=v(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Q?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Y&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?B:this.errors?V:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(U)?U:this._anyControlsHaveStatus(V)?V:F}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class W extends K{constructor(t=null,e,n){super(q(e),z(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){M(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){M(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Q extends K{constructor(t,e,n){super(q(e),z(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof W?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Y extends K{constructor(t,e,n){super(q(e),z(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof W?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const X={provide:C,useExisting:Object(r.U)(()=>J)},Z=(()=>Promise.resolve(null))();let J=(()=>{class t extends C{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Q({},E(t),O(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Z.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),P(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Z.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),M(this._directives,t)})}addFormGroup(t){Z.then(()=>{const e=this._findContainer(t.path),n=new Q({});(function(t,e){N(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Z.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Z.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(m,10),r.Ob(y,10))},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ec("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([X]),r.zb]}),t})();const tt={provide:I,useExisting:Object(r.U)(()=>nt)},et=(()=>Promise.resolve(null))();let nt=(()=>{class t extends I{constructor(t,e,n,i){super(),this.control=new W,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===g?n=t:Object.getPrototypeOf(t.constructor)===h?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){P(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){et.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;et.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(C,9),r.Ob(m,10),r.Ob(y,10),r.Ob(f,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Bb([tt]),r.zb,r.Ab]}),t})(),rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const st={provide:f,useExisting:Object(r.U)(()=>at),multi:!0};function ot(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let at=(()=>{class t extends h{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ot(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.E),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ec("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([st]),r.zb]}),t})(),ut=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ot(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.E),r.Ob(at,9))},t.\u0275dir=r.Jb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const ct={provide:f,useExisting:Object(r.U)(()=>ht),multi:!0};function lt(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ht=(()=>{class t extends h{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.E),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ec("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([ct]),r.zb]}),t})(),ft=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(lt(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(lt(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.E),r.Ob(ht,9))},t.\u0275dir=r.Jb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const dt={provide:m,useExisting:Object(r.U)(()=>pt),multi:!0};let pt=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("required",e.required?"":null)},inputs:{required:"required"},features:[r.Bb([dt])]}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[it]]}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[gt]}),t})()},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r={production:!0,firebase:{apiKey:"AIzaSyDu3kIbCLekwmprjfscPPiYmbl1oqT3Vss",authDomain:"angular-blogs-91db4.firebaseapp.com",projectId:"angular-blogs-91db4",storageBucket:"angular-blogs-91db4.appspot.com",messagingSenderId:"172955181222",appId:"1:172955181222:web:fb10df50e09e8f1ac29467",measurementId:"G-3RDFFK2H9N"}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("LRne"),i=n("bHdf");function s(...t){return Object(i.a)(1)(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"I/3d":function(t,e,n){"use strict";n.d(e,"a",function(){return up}),n.d(e,"b",function(){return cp});var r=n("fXoL"),i=n("D0XW"),s=n("HDdC"),o=n("Cfvw"),a=n("LRne"),u=n("JX91"),c=n("7o/Q");function l(){return t=>t.lift(new h)}class h{call(t,e){return e.subscribe(new f(t))}}class f extends c.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var d=n("lJxs"),p=n("Kqap"),g=n("/uUt"),m=n("pLZG"),y=n("pxpQ"),b=n("spgP"),v=n("ofXK"),_=n("Jgta"),w=n("zIRd"),S=n("qOnz"),E=n("q/0M"),O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function T(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var x,C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},k=k||{},I=C||self;function A(){}function j(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function D(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var P="closure_uid_"+(1e9*Math.random()>>>0),R=0;function N(t,e,n){return t.call.apply(t.bind,arguments)}function L(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function M(t,e,n){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?N:L).apply(null,arguments)}function F(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function V(){return Date.now()}function U(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function B(){this.j=this.j,this.i=this.i}B.prototype.j=!1,B.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,P)&&t[P]||(t[P]=++R)}(this)},B.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function z(t){return Array.prototype.concat.apply([],arguments)}function G(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $(t){return/^[\s\xa0]*$/.test(t)}var K,W=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Q(t,e){return-1!=t.indexOf(e)}function Y(t,e){return t<e?-1:t>e?1:0}t:{var X=I.navigator;if(X){var Z=X.userAgent;if(Z){K=Z;break t}}K=""}function J(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tt(t){var e={};for(var n in t)e[n]=t[n];return e}var et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<et.length;s++)n=et[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rt(t){return rt[" "](t),t}rt[" "]=A;var it,st,ot=Q(K,"Opera"),at=Q(K,"Trident")||Q(K,"MSIE"),ut=Q(K,"Edge"),ct=ut||at,lt=Q(K,"Gecko")&&!(Q(K.toLowerCase(),"webkit")&&!Q(K,"Edge"))&&!(Q(K,"Trident")||Q(K,"MSIE"))&&!Q(K,"Edge"),ht=Q(K.toLowerCase(),"webkit")&&!Q(K,"Edge");function ft(){var t=I.document;return t?t.documentMode:void 0}t:{var dt="",pt=(st=K,lt?/rv:([^\);]+)(\)|;)/.exec(st):ut?/Edge\/([\d\.]+)/.exec(st):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(st):ht?/WebKit\/(\S+)/.exec(st):ot?/(?:Version)[ \/]?(\S+)/.exec(st):void 0);if(pt&&(dt=pt?pt[1]:""),at){var gt=ft();if(null!=gt&&gt>parseFloat(dt)){it=String(gt);break t}}it=dt}var mt={};function yt(t){return function(t,e){var n=mt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=W(String(it)).split("."),r=W(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Y(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Y(0==o[2].length,0==a[2].length)||Y(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var bt=I.document&&at&&(ft()||parseInt(it,10))||void 0,vt=!at||9<=Number(bt),_t=at&&!yt("9"),wt=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{I.addEventListener("test",A,e),I.removeEventListener("test",A,e)}catch(n){}return t}();function St(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Et(t,e){if(St.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(lt){t:{try{rt(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}St.prototype.b=function(){this.defaultPrevented=!0},U(Et,St);var Ot={2:"touch",3:"pen",4:"mouse"};Et.prototype.b=function(){Et.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,_t)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Tt="closure_listenable_"+(1e6*Math.random()|0),xt=0;function Ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++xt,this.Y=this.Z=!1}function kt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function It(t){this.src=t,this.a={},this.b=0}function At(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=q(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(kt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function jt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.da==r)return i}return-1}It.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=jt(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Ct(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Dt="closure_lm_"+(1e6*Math.random()|0),Pt={};function Rt(t,e,n,r,i){if(r&&r.once)return Lt(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Rt(t,e[s],n,r,i);return null}return n=zt(n),t&&t[Tt]?t.wa(e,n,D(r)?!!r.capture:!!r,i):Nt(t,e,n,!1,r,i)}function Nt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=D(i)?!!i.capture:!!i;if(o&&!vt)return null;var a=qt(t);if(a||(t[Dt]=a=new It(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Bt,e=vt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wt||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Lt(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Lt(t,e[s],n,r,i);return null}return n=zt(n),t&&t[Tt]?t.xa(e,n,D(r)?!!r.capture:!!r,i):Nt(t,e,n,!0,r,i)}function Mt(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Mt(t,e[s],n,r,i);else r=D(r)?!!r.capture:!!r,n=zt(n),t&&t[Tt]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=jt(s=t.a[e],n,r,i))&&(kt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=qt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=jt(e,n,r,i)),(n=-1<t?e[t]:null)&&Ft(n))}function Ft(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Tt])At(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qt(e))?(At(n,t),0==n.b&&(n.src=null,e[Dt]=null)):kt(t)}}}function Vt(t){return t in Pt?Pt[t]:Pt[t]="on"+t}function Ut(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Ft(t),n.call(r,e)}function Bt(t,e){if(t.Y)return!0;if(!vt){if(!e)t:{e=["window","event"];for(var n=I,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ut(t,e=new Et(e,this))}return Ut(t,new Et(e,this))}function qt(t){return(t=t[Dt])instanceof It?t:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function zt(t){return"function"==typeof t?t:(t[Ht]||(t[Ht]=function(e){return t.handleEvent(e)}),t[Ht])}function Gt(){B.call(this),this.c=new It(this),this.J=this,this.D=null}function $t(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new St(e,t);else if(e instanceof St)e.target=e.target||t;else{var i=e;nt(e=new St(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Kt(o,r,!0,e)&&i}if(i=Kt(o=e.a=t,r,!0,e)&&i,i=Kt(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Kt(o=e.a=n[s],r,!1,e)&&i}function Kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.da||o.src;o.Z&&At(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}U(Gt,B),Gt.prototype[Tt]=!0,(x=Gt.prototype).addEventListener=function(t,e,n,r){Rt(this,t,e,n,r)},x.removeEventListener=function(t,e,n,r){Mt(this,t,e,n,r)},x.H=function(){if(Gt.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)kt(n[r]);delete e.a[t],e.b--}}this.D=null},x.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},x.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Wt=I.JSON.stringify;function Qt(){this.b=this.a=null}var Yt,Xt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Jt},function(t){t.reset()});function Zt(){var t=re,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Jt(){this.next=this.b=this.a=null}function te(t){I.setTimeout(function(){throw t},0)}function ee(t,e){Yt||function(){var t=I.Promise.resolve(void 0);Yt=function(){t.then(ie)}}(),ne||(Yt(),ne=!0),re.add(t,e)}Qt.prototype.add=function(t,e){var n=Xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Jt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Jt.prototype.reset=function(){this.next=this.b=this.a=null};var ne=!1,re=new Qt;function ie(){for(var t;t=Zt();){try{t.a.call(t.b)}catch(n){te(n)}var e=Xt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ne=!1}function se(t,e){Gt.call(this),this.b=t||1,this.a=e||I,this.f=M(this.eb,this),this.g=V()}function oe(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ae(t,e,n){if("function"==typeof t)n&&(t=M(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=M(t.handleEvent,t)}return 2147483647<Number(e)?-1:I.setTimeout(t,e||0)}function ue(t){t.a=ae(function(){t.a=null,t.c&&(t.c=!1,ue(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}U(se,Gt),(x=se.prototype).aa=!1,x.M=null,x.eb=function(){if(this.aa){var t=V()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),$t(this,"tick"),this.aa&&(oe(this),this.start()))}},x.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=V())},x.H=function(){se.X.H.call(this),oe(this),delete this.a};var ce=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ue(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(I.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(B);function le(t){B.call(this),this.b=t,this.a={}}U(le,B);var he=[];function fe(t,e,n,r){Array.isArray(n)||(n&&(he[0]=n.toString()),n=he);for(var i=0;i<n.length;i++){var s=Rt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function de(t){J(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ft(t)},t),t.a={}}function pe(){this.a=!0}function ge(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Wt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}le.prototype.H=function(){le.X.H.call(this),de(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pe.prototype.info=function(){};var me={},ye=null;function be(){return ye=ye||new Gt}function ve(t){St.call(this,me.Ga,t)}function _e(t){var e=be();$t(e,new ve(e,t))}function we(t,e){St.call(this,me.STAT_EVENT,t),this.stat=e}function Se(t){var e=be();$t(e,new we(e,t))}function Ee(t){St.call(this,me.Ha,t)}function Oe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return I.setTimeout(function(){t()},e)}me.Ga="serverreachability",U(ve,St),me.STAT_EVENT="statevent",U(we,St),me.Ha="timingevent",U(Ee,St);var Te={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},xe={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Ce(){}function ke(){}Ce.prototype.b=null;var Ie,Ae={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function je(){St.call(this,"d")}function De(){St.call(this,"c")}function Pe(){}function Re(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new le(this),this.P=Ne,this.R=new se(t=ct?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}U(je,St),U(De,St),U(Pe,Ce),Pe.prototype.a=function(){return new XMLHttpRequest},Pe.prototype.c=function(){return{}},Ie=new Pe;var Ne=45e3,Le={},Me={};function Fe(t,e,n){t.G=1,t.i=an(tn(e)),t.j=n,t.I=!0,Ve(t,null)}function Ve(t,e){t.u=V(),qe(t),t.l=tn(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),_n(n.b,"t",r),t.D=0,t.a=pr(t.g,t.g.C?e:null),0<t.O&&(t.F=new ce(M(t.Da,t,t.a),t.O)),fe(t.J,t.a,"readystatechange",t.bb),e=t.B?tt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),_e(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ue(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Be(t,n);if(i==Me){4==e&&(t.h=4,Se(14),r=!1),ge(t.c,t.f,null,"[Incomplete Response]");break}if(i==Le){t.h=4,Se(15),ge(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ge(t.c,t.f,i,null),Ke(t,i)}4==e&&0==n.length&&(t.h=1,Se(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),or(e),e.F=!0,Se(11))):(ge(t.c,t.f,n,"[Invalid Chunked Response]"),$e(t),Ge(t))}function Be(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Me:(n=Number(e.substring(n,r)),isNaN(n)?Le:(r+=1)+n>e.length?Me:(e=e.substr(r,n),t.D=r+n,e))}function qe(t){t.T=V()+t.P,He(t,t.P)}function He(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Oe(M(t.$a,t),e)}function ze(t){t.o&&(I.clearTimeout(t.o),t.o=null)}function Ge(t){0==t.g.v||t.A||cr(t.g,t)}function $e(t){ze(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,oe(t.R),de(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function Ke(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Cn(n.b,t)))if(n.I=t.N,!t.C&&Cn(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(bd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ur(n),Xn(n)}sr(n),Se(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Oe(M(n.Xa,n),6e3));if(1>=xn(n.b)&&n.fa){try{n.fa()}catch(bd){}n.fa=void 0}}else hr(n,11)}else if((t.C||n.a==t)&&ur(n),!$(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var s=i[3];null!=s&&(n.ia=s,n.c.info("VER="+n.ia));var o=i[4];null!=o&&(n.qa=o,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Q(l,"spdy")||Q(l,"quic")||Q(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(kn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,on(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=V()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=dr(u,u.C?u.ha:null,u.ga),d.C){In(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(ze(p),qe(p)),u.a=d}else ir(u);0<n.g.length&&tr(n)}else"stop"!=i[0]&&"close"!=i[0]||hr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?hr(n,7):Yn(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);_e(4)}catch(bd){}}function We(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(j(t)||"string"==typeof t)H(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(j(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(j(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Qe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Qe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ye(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Xe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(x=Re.prototype).setTimeout=function(t){this.P=t},x.bb=function(t){t=t.target;var e=this.F;e&&3==$n(t)?e.f():this.Da(t)},x.Da=function(t){try{if(t==this.a)t:{var e=$n(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!ct&&!this.a.$())){this.A||4!=e||7==n||_e(8==n||0>=r?3:2),ze(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Se(12),$e(this),Ge(this);break t}ge(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ke(this,u)}this.I?(Ue(this,e,s),ct&&this.b&&3==e&&(fe(this.J,this.R,"tick",this.ab),this.R.start())):(ge(this.c,this.f,s,null),Ke(this,s)),4==e&&$e(this),this.b&&!this.A&&(4==e?cr(this.g,this):(this.b=!1,qe(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Se(12)):(this.h=0,Se(13)),$e(this),Ge(this)}}}catch(c){}},x.ab=function(){if(this.a){var t=$n(this.a),e=this.a.$();this.D<e.length&&(ze(this),Ue(this,t,e),this.b&&4!=t&&qe(this))}},x.cancel=function(){this.A=!0,$e(this)},x.$a=function(){this.o=null;var t=V();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(_e(3),Se(17)),$e(this),this.h=2,Ge(this)):He(this,this.T-t)},(x=Qe.prototype).K=function(){Ye(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},x.L=function(){return Ye(this),this.a.concat()},x.get=function(t,e){return Xe(this.b,t)?this.b[t]:e},x.set=function(t,e){Xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},x.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ze=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Je(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Je){this.a=void 0!==e?e:t.a,en(this,t.f),this.j=t.j,nn(this,t.c),rn(this,t.h),this.g=t.g,e=t.b;var n=new mn;n.c=e.c,e.a&&(n.a=new Qe(e.a),n.b=e.b),sn(this,n),this.i=t.i}else t&&(n=String(t).match(Ze))?(this.a=!!e,en(this,n[1]||"",!0),this.j=un(n[2]||""),nn(this,n[3]||"",!0),rn(this,n[4]),this.g=un(n[5]||"",!0),sn(this,n[6]||"",!0),this.i=un(n[7]||"")):(this.a=!!e,this.b=new mn(null,this.a))}function tn(t){return new Je(t)}function en(t,e,n){t.f=n?un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function nn(t,e,n){t.c=n?un(e,!0):e}function rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function sn(t,e,n){e instanceof mn?(t.b=e,function(t,e){e&&!t.f&&(yn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(bn(this,e),_n(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=cn(e,pn)),t.b=new mn(e,t.a))}function on(t,e,n){t.b.set(e,n)}function an(t){return on(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^V()).toString(36)),t}function un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ln),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ln(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Je.prototype.toString=function(){var t=[],e=this.f;e&&t.push(cn(e,hn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(cn(e,hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(cn(n,"/"==n.charAt(0)?dn:fn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",cn(n,gn)),t.join("")};var hn=/[#\/\?@]/g,fn=/[#\?:]/g,dn=/[#\?]/g,pn=/[#\?@]/g,gn=/#/g;function mn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function yn(t){t.a||(t.a=new Qe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function bn(t,e){yn(t),e=wn(t,e),Xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Xe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ye(t)))}function vn(t,e){return yn(t),e=wn(t,e),Xe(t.a.b,e)}function _n(t,e,n){bn(t,e),0<n.length&&(t.c=null,t.a.set(wn(t,e),G(n)),t.b+=n.length)}function wn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(x=mn.prototype).add=function(t,e){yn(this),this.c=null,t=wn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},x.forEach=function(t,e){yn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},x.L=function(){yn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},x.K=function(t){yn(this);var e=[];if("string"==typeof t)vn(this,t)&&(e=z(e,this.a.get(wn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},x.set=function(t,e){return yn(this),this.c=null,vn(this,t=wn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},x.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},x.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Sn=function(){return function(t,e){this.b=t,this.a=e}}();function En(t){this.g=t||On,t=I.PerformanceNavigationTiming?0<(t=I.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(I.ja&&I.ja.za&&I.ja.za()&&I.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var On=10;function Tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function xn(t){return t.b?1:t.a?t.a.size:0}function Cn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function kn(t,e){t.a?t.a.add(e):t.b=e}function In(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function An(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=T(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return G(t.c)}function jn(){}function Dn(){this.a=new jn}function Pn(t,e,n){var r=n||"";try{We(t,function(t,n){var i=t;D(t)&&(i=Wt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(qd){throw e.push(r+"type="+encodeURIComponent("_badmap")),qd}}function Rn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}En.prototype.cancel=function(){var t,e;if(this.c=An(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=T(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},jn.prototype.stringify=function(t){return I.JSON.stringify(t,void 0)},jn.prototype.parse=function(t){return I.JSON.parse(t,void 0)};var Nn=I.JSON.parse;function Ln(t){Gt.call(this),this.headers=new Qe,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=Mn,this.F=this.G=!1}U(Ln,Gt);var Mn="",Fn=/^https?$/i,Vn=["POST","PUT"];function Un(t){return"content-type"==t.toLowerCase()}function Bn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,qn(t),zn(t)}function qn(t){t.A||(t.A=!0,$t(t,"complete"),$t(t,"error"))}function Hn(t){if(t.b&&void 0!==k&&(!t.u[1]||4!=$n(t)||2!=t.W()))if(t.m&&4==$n(t))ae(t.Aa,0,t);else if($t(t,"readystatechange"),4==$n(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.C).match(Ze)[1]||null;if(!s&&I.self&&I.self.location){var o=I.self.location.protocol;s=o.substr(0,o.length-1)}i=!Fn.test(s?s.toLowerCase():"")}e=i}if(e)$t(t,"complete"),$t(t,"success");else{t.h=6;try{var a=2<$n(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",qn(t)}}finally{zn(t)}}}function zn(t,e){if(t.a){Gn(t);var n=t.a,r=t.u[0]?A:null;t.a=null,t.u=null,e||$t(t,"ready");try{n.onreadystatechange=r}catch(qd){}}}function Gn(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(I.clearTimeout(t.o),t.o=null)}function $n(t){return t.a?t.a.readyState:0}function Kn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return J(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):on(t,e,n))}function Wn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qn(t){this.qa=0,this.g=[],this.c=new pe,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Wn("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Wn("baseRetryDelayMs",5e3,t),this.Sa=Wn("retryDelaySeedMs",1e4,t),this.Na=Wn("forwardChannelMaxRetries",2,t),this.na=Wn("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new En(t&&t.concurrentRequestLimit),this.la=new Dn,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Yn(t){if(Zn(t),3==t.v){var e=t.R++,n=tn(t.B);on(n,"SID",t.J),on(n,"RID",e),on(n,"TYPE","terminate"),nr(t,n),(e=new Re(t,t.c,e,void 0)).G=2,e.i=an(tn(n)),n=!1,I.navigator&&I.navigator.sendBeacon&&(n=I.navigator.sendBeacon(e.i.toString(),"")),!n&&I.Image&&((new Image).src=e.i,n=!0),n||(e.a=pr(e.g,null),e.a.ba(e.i)),e.u=V(),qe(e)}fr(t)}function Xn(t){t.a&&(or(t),t.a.cancel(),t.a=null)}function Zn(t){Xn(t),t.j&&(I.clearTimeout(t.j),t.j=null),ur(t),t.b.cancel(),t.h&&("number"==typeof t.h&&I.clearTimeout(t.h),t.h=null)}function Jn(t,e){t.g.push(new Sn(t.Pa++,e)),3==t.v&&tr(t)}function tr(t){Tn(t.b)||t.h||(t.h=!0,ee(t.Ca,t),t.u=0)}function er(t,e){var n;n=e?e.f:t.R++;var r=tn(t.B);on(r,"SID",t.J),on(r,"RID",n),on(r,"AID",t.P),nr(t,r),t.i&&t.l&&Kn(r,t.i,t.l),n=new Re(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=rr(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),kn(t.b,n),Fe(n,r,e)}function nr(t,e){t.f&&We({},function(t,n){on(e,n,t)})}function rr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?M(t.f.Ka,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Pn(l,o,"req"+c+"_")}catch(Xr){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ir(t){t.a||t.j||(t.T=1,ee(t.Ba,t),t.o=0)}function sr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Oe(M(t.Ba,t),lr(t,t.o)),t.o++,0))}function or(t){null!=t.s&&(I.clearTimeout(t.s),t.s=null)}function ar(t){t.a=new Re(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=tn(t.ma);on(e,"RID","rpc"),on(e,"SID",t.J),on(e,"CI",t.G?"0":"1"),on(e,"AID",t.P),nr(t,e),on(e,"TYPE","xmlhttp"),t.i&&t.l&&Kn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=an(tn(e)),n.j=null,n.I=!0,Ve(n,t)}function ur(t){null!=t.m&&(I.clearTimeout(t.m),t.m=null)}function cr(t,e){var n=null;if(t.a==e){ur(t),or(t),t.a=null;var r=2}else{if(!Cn(t.b,e))return;n=e.s,In(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=V()-e.u;var i=t.u;$t(r=be(),new Ee(r,n,e,i)),tr(t)}else ir(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(xn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Oe(M(t.Ca,t,e),lr(t,t.u)),t.u++,0)))}(t,e)||2==r&&sr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:hr(t,5);break;case 4:hr(t,10);break;case 3:hr(t,6);break;default:hr(t,2)}}function lr(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function hr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=M(t.cb,t);n||(n=new Je("//www.google.com/images/cleardot.gif"),I.location&&"http"==I.location.protocol||en(n,"https"),an(n)),function(t,e){var n=new pe;if(I.Image){var r=new Image;r.onload=F(Rn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=F(Rn,n,r,"TestLoadImage: error",!1,e),r.onabort=F(Rn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=F(Rn,n,r,"TestLoadImage: timeout",!1,e),I.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Se(2);t.v=0,t.f&&t.f.sa(e),fr(t),Zn(t)}function fr(t){t.v=0,t.I=-1,t.f&&(0==An(t.b).length&&0==t.g.length||(t.b.c.length=0,G(t.g),t.g.length=0),t.f.ra())}function dr(t,e,n){var r=function(t){return t instanceof Je?tn(t):new Je(t,void 0)}(n);if(""!=r.c)e&&nn(r,e+"."+r.c),rn(r,r.h);else{var i=I.location;r=function(t,e,n,r){var i=new Je(null,void 0);return t&&en(i,t),e&&nn(i,e),n&&rn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&J(t.V,function(t,e){on(r,e,t)}),n=t.oa,(e=t.A)&&n&&on(r,e,n),on(r,"VER",t.ia),nr(t,r),r}function pr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ln(t.Oa)).G=t.C,e}function gr(){}function mr(){if(at&&!(10<=Number(bt)))throw Error("Environmental error: no available transport.")}function yr(t,e){Gt.call(this),this.a=new Qn(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!$(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new _r(this)}function br(t){je.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function vr(){De.call(this),this.status=1}function _r(t){this.a=t}function wr(t){this.f=t}function Sr(t){Gt.call(this),this.u=t,this.h=void 0,this.readyState=Er,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(x=Ln.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Ie.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Ie),this.a.onreadystatechange=M(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(s){return void Bn(this,s)}t=n||"";var i=new Qe(this.headers);r&&We(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Un,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=I.FormData&&t instanceof I.FormData,!(0<=q(Vn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Gn(this),0<this.s&&((this.F=function(t){return at&&yt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=M(this.ya,this)):this.o=ae(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(s){Bn(this,s)}},x.ya=function(){void 0!==k&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,$t(this,"timeout"),this.abort(8))},x.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,$t(this,"complete"),$t(this,"abort"),zn(this))},x.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),zn(this,!0)),Ln.X.H.call(this)},x.Aa=function(){this.j||(this.B||this.m||this.g?Hn(this):this.Za())},x.Za=function(){Hn(this)},x.W=function(){try{return 2<$n(this)?this.a.status:-1}catch(st){return-1}},x.$=function(){try{return this.a?this.a.responseText:""}catch(st){return""}},x.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Nn(e)}},x.va=function(){return this.h},x.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(x=Qn.prototype).ia=8,x.v=1,x.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Re(this,this.c,t,void 0),r=this.l;if(this.O&&(r?nt(r=tt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=rr(this,n,e),on(i=tn(this.B),"RID",t),on(i,"CVER",22),this.A&&on(i,"X-HTTP-Session-Id",this.A),nr(this,i),this.i&&r&&Kn(i,this.i,r),kn(this.b,n),this.Ja&&on(i,"TYPE","init"),this.ea?(on(i,"$req",e),on(i,"SID","null"),n.U=!0,Fe(n,i,null)):Fe(n,i,e),this.v=2}}else 3==this.v&&(t?er(this,t):0==this.g.length||Tn(this.b)||er(this))},x.Ba=function(){if(this.j=null,ar(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Oe(M(this.Ya,this),t)}},x.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,Se(10),Xn(this),ar(this))},x.Xa=function(){null!=this.m&&(this.m=null,Xn(this),sr(this),Se(19))},x.cb=function(t){t?(this.c.info("Successfully pinged google.com"),Se(2)):(this.c.info("Failed to ping google.com"),Se(1))},(x=gr.prototype).ua=function(){},x.ta=function(){},x.sa=function(){},x.ra=function(){},x.Ka=function(){},mr.prototype.a=function(t,e){return new yr(t,e)},U(yr,Gt),yr.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;Se(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=dr(t,null,t.ga),tr(t)},yr.prototype.close=function(){Yn(this.a)},yr.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,Jn(this.a,e)}else this.m?((e={}).__data__=Wt(t),Jn(this.a,e)):Jn(this.a,t)},yr.prototype.H=function(){this.a.f=null,delete this.f,Yn(this.a),delete this.a,yr.X.H.call(this)},U(br,je),U(vr,De),U(_r,gr),_r.prototype.ua=function(){$t(this.a,"a")},_r.prototype.ta=function(t){$t(this.a,new br(t))},_r.prototype.sa=function(t){$t(this.a,new vr(t))},_r.prototype.ra=function(){$t(this.a,"b")},U(wr,Ce),wr.prototype.a=function(){return new Sr(this.f)},wr.prototype.c=function(t){return function(){return t}}({}),U(Sr,Gt);var Er=0;function Or(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Tr(t){t.readyState=4,t.g=null,t.f=null,t.m=null,xr(t)}function xr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(x=Sr.prototype).open=function(t,e){if(this.readyState!=Er)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,xr(this)},x.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},x.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Tr(this)),this.readyState=Er},x.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,xr(this)),this.a&&(this.readyState=3,xr(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==I.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Or(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},x.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Tr(this):xr(this),3==this.readyState&&Or(this)}},x.Va=function(t){this.a&&(this.responseText=t,Tr(this))},x.Ua=function(){this.a&&Tr(this)},x.ca=function(){this.a&&Tr(this)},x.setRequestHeader=function(t,e){this.l.append(t,e)},x.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},x.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),mr.prototype.createWebChannel=mr.prototype.a,yr.prototype.send=yr.prototype.l,yr.prototype.open=yr.prototype.h,yr.prototype.close=yr.prototype.close,Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,xe.COMPLETE="complete",ke.EventType=Ae,Ae.OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",Gt.prototype.listen=Gt.prototype.wa,Ln.prototype.listenOnce=Ln.prototype.xa,Ln.prototype.getLastError=Ln.prototype.Ra,Ln.prototype.getLastErrorCode=Ln.prototype.va,Ln.prototype.getStatus=Ln.prototype.W,Ln.prototype.getResponseJson=Ln.prototype.Qa,Ln.prototype.getResponseText=Ln.prototype.$,Ln.prototype.send=Ln.prototype.ba;var Cr=Te,kr=xe,Ir=me,Ar=wr,jr=ke,Dr=Ln,Pr=n("mrSG"),Rr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Rr.o=-1;var Nr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Pr.c)(e,t),e}(Error),Mr=new E.b("@firebase/firestore");function Fr(){return Mr.logLevel}function Vr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mr.logLevel<=E.a.DEBUG){var r=e.map(qr);Mr.debug.apply(Mr,Object(Pr.f)(["Firestore (8.6.8): "+t],r))}}function Ur(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mr.logLevel<=E.a.ERROR){var r=e.map(qr);Mr.error.apply(Mr,Object(Pr.f)(["Firestore (8.6.8): "+t],r))}}function Br(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Mr.logLevel<=E.a.WARN){var r=e.map(qr);Mr.warn.apply(Mr,Object(Pr.f)(["Firestore (8.6.8): "+t],r))}}function qr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(qd){return t}}function Hr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.8) INTERNAL ASSERTION FAILED: "+t;throw Ur(e),new Error(e)}function zr(t,e){t||Hr()}function Gr(t,e){return t}function $r(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=$r(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Wr(t,e){return t<e?-1:t>e?1:0}function Qr(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Yr(t){return t+"\0"}var Xr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lr(Nr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lr(Nr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Lr(Nr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lr(Nr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Wr(this.nanoseconds,t.nanoseconds):Wr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Zr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Xr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Jr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ti(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ei(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ni=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Hr(),void 0===n?n=t.length-e:n>t.length-e&&Hr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ni),ii=/^[_a-zA-Z][_a-zA-Z0-9]*$/,si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ii.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Lr(Nr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Lr(Nr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Lr(Nr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ni),oi=function(){function t(t){this.fields=t,t.sort(si.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Qr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ai=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Wr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ai.EMPTY_BYTE_STRING=new ai("");var ui=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(t){if(zr(!!t),"string"==typeof t){var e=0,n=ui.exec(t);if(zr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:li(t.seconds),nanos:li(t.nanos)}}function li(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hi(t){return"string"==typeof t?ai.fromBase64String(t):ai.fromUint8Array(t)}function fi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function di(t){var e=t.mapValue.fields.__previous_value__;return fi(e)?di(e):e}function pi(t){var e=ci(t.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}function gi(t){return null==t}function mi(t){return 0===t&&1/t==-1/0}function yi(t){return"number"==typeof t&&Number.isInteger(t)&&!mi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bi=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ri.fromString(e))},t.fromName=function(e){return new t(ri.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ri.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ri.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ri(e.slice()))},t}();function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fi(t)?4:10:Hr()}function _i(t,e){var n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pi(t).isEqual(pi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ci(t.timestampValue),r=ci(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hi(t.bytesValue).isEqual(hi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return li(t.geoPointValue.latitude)===li(e.geoPointValue.latitude)&&li(t.geoPointValue.longitude)===li(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return li(t.integerValue)===li(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=li(t.doubleValue),r=li(e.doubleValue);return n===r?mi(n)===mi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Qr(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Jr(n)!==Jr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_i(n[i],r[i])))return!1;return!0}(t,e);default:return Hr()}}function wi(t,e){return void 0!==(t.values||[]).find(function(t){return _i(t,e)})}function Si(t,e){var n=vi(t),r=vi(e);if(n!==r)return Wr(n,r);switch(n){case 0:return 0;case 1:return Wr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=li(t.integerValue||t.doubleValue),r=li(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ei(t.timestampValue,e.timestampValue);case 4:return Ei(pi(t),pi(e));case 5:return Wr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=hi(t),r=hi(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Wr(n[i],r[i]);if(0!==s)return s}return Wr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Wr(li(t.latitude),li(e.latitude));return 0!==n?n:Wr(li(t.longitude),li(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Si(n[i],r[i]);if(s)return s}return Wr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Wr(r[o],s[o]);if(0!==a)return a;var u=Si(n[r[o]],i[s[o]]);if(0!==u)return u}return Wr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Hr()}}function Ei(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Wr(t,e);var n=ci(t),r=ci(e),i=Wr(n.seconds,r.seconds);return 0!==i?i:Wr(n.nanos,r.nanos)}function Oi(t){return Ti(t)}function Ti(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ci(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hi(t.bytesValue).toBase64():"referenceValue"in t?bi.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ti(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Ti(t.fields[s])}return e+"}"}(t.mapValue):Hr();var e}function xi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ci(t){return!!t&&"integerValue"in t}function ki(t){return!!t&&"arrayValue"in t}function Ii(t){return!!t&&"nullValue"in t}function Ai(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ji(t){return!!t&&"mapValue"in t}function Di(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},ci(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return ti(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Di(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Di(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Pi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ji(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Di(e)},t.prototype.setAll=function(t){var e=this,n=si.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Di(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());ji(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return _i(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];ji(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ti(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Di(this.value))},t}();function Ri(t){var e=[];return ti(t.fields,function(t,n){var r=new si([t]);if(ji(n)){var i=Ri(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new oi(e)}var Ni=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Zr.min(),Pi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Pi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Pi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Li=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Mi(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Li(t,e,n,r,i,s,o)}function Fi(t){var e=Gr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Oi(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),gi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Xi(e.startAt)),e.endAt&&(n+="|ub:",n+=Xi(e.endAt)),e.h=n}return e.h}function Vi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ji(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!_i(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!es(t.startAt,e.startAt)&&es(t.endAt,e.endAt)}function Ui(t){return bi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Bi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Pr.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new qi(t,n,r):"array-contains"===n?new $i(t,r):"in"===n?new Ki(t,r):"not-in"===n?new Wi(t,r):"array-contains-any"===n?new Qi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Hi(t,n):new zi(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Si(e,this.value)):null!==e&&vi(this.value)===vi(e)&&this.m(Si(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Hr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),qi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=bi.fromName(r.referenceValue),i}return Object(Pr.c)(e,t),e.prototype.matches=function(t){var e=bi.comparator(t.key,this.key);return this.m(e)},e}(Bi),Hi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Gi(0,n),r}return Object(Pr.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Bi),zi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Gi(0,n),r}return Object(Pr.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Bi);function Gi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return bi.fromName(t.referenceValue)})}var $i=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Pr.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ki(e)&&wi(e.arrayValue,this.value)},e}(Bi),Ki=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Pr.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&wi(this.value.arrayValue,e)},e}(Bi),Wi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Pr.c)(e,t),e.prototype.matches=function(t){if(wi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!wi(this.value.arrayValue,e)},e}(Bi),Qi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Pr.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ki(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return wi(e.value.arrayValue,t)})},e}(Bi),Yi=function(t,e){this.position=t,this.before=e};function Xi(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Oi(t)}).join(",")}var Zi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ji(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ts(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?bi.comparator(bi.fromName(o.referenceValue),n.key):Si(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function es(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}var ns=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function rs(t,e,n,r,i,s,o,a){return new ns(t,e,n,r,i,s,o,a)}function is(t){return new ns(t)}function ss(t){return!gi(t.limit)&&"F"===t.limitType}function os(t){return!gi(t.limit)&&"L"===t.limitType}function as(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function us(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function cs(t){return null!==t.collectionGroup}function ls(t){var e=Gr(t);if(null===e.p){e.p=[];var n=us(e),r=as(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Zi(n)),e.p.push(new Zi(si.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Zi(si.keyField(),u))}}}return e.p}function hs(t){var e=Gr(t);if(!e.T)if("F"===e.limitType)e.T=Mi(e.path,e.collectionGroup,ls(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ls(e);r<i.length;r++){var s=i[r];n.push(new Zi(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Yi(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Yi(e.startAt.position,!e.startAt.before):null;e.T=Mi(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function fs(t,e,n){return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ds(t,e){return Vi(hs(t),hs(e))&&t.limitType===e.limitType}function ps(t){return Fi(hs(t))+"|lt:"+t.limitType}function gs(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Oi(e.value);var e}).join(", ")+"]"),gi(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Xi(t.startAt)),t.endAt&&(e+=", endAt: "+Xi(t.endAt)),"Target("+e+")"}(hs(t))+"; limitType="+t.limitType+")"}function ms(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):bi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ts(t.startAt,ls(t),e)||t.endAt&&ts(t.endAt,ls(t),e))}(t,e)}function ys(t){return function(e,n){for(var r=!1,i=0,s=ls(t);i<s.length;i++){var o=s[i],a=bs(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function bs(t,e,n){var r=t.field.isKeyField()?bi.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Si(r,i):Hr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Hr()}}function vs(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mi(e)?"-0":e}}function _s(t){return{integerValue:""+t}}function ws(t,e){return yi(e)?_s(e):vs(t,e)}var Ss=function(){this._=void 0};function Es(t,e,n){return t instanceof xs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Cs?ks(t,e):t instanceof Is?As(t,e):function(t,e){var n=Ts(t,e),r=Ds(n)+Ds(t.A);return Ci(n)&&Ci(t.A)?_s(r):vs(t.R,r)}(t,e)}function Os(t,e,n){return t instanceof Cs?ks(t,e):t instanceof Is?As(t,e):n}function Ts(t,e){return t instanceof js?Ci(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e}(Ss),Cs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pr.c)(e,t),e}(Ss);function ks(t,e){for(var n=Ps(e),r=function(t){n.some(function(e){return _i(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Is=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pr.c)(e,t),e}(Ss);function As(t,e){for(var n=Ps(e),r=function(t){n=n.filter(function(e){return!_i(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var js=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Pr.c)(e,t),e}(Ss);function Ds(t){return li(t.integerValue||t.doubleValue)}function Ps(t){return ki(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Rs=function(t,e){this.field=t,this.transform=e},Ns=function(t,e){this.version=t,this.transformResults=e},Ls=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ms(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Fs=function(){};function Vs(t,e,n){t instanceof zs?function(t,e,n){var r=t.value.clone(),i=Ks(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Gs?function(t,e,n){if(Ms(t.precondition,e)){var r=Ks(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll($s(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Us(t,e,n){t instanceof zs?function(t,e,n){if(Ms(t.precondition,e)){var r=t.value.clone(),i=Ws(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Hs(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Gs?function(t,e,n){if(Ms(t.precondition,e)){var r=Ws(t.fieldTransforms,n,e),i=e.data;i.setAll($s(t)),i.setAll(r),e.convertToFoundDocument(Hs(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ms(t.precondition,e)&&e.convertToNoDocument(Zr.min())}(t,e)}function Bs(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Ts(s.transform,o||null);null!=a&&(null==n&&(n=Pi.empty()),n.set(s.field,a))}return n||null}function qs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Qr(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Cs&&e instanceof Cs||t instanceof Is&&e instanceof Is?Qr(t.elements,e.elements,_i):t instanceof js&&e instanceof js?_i(t.A,e.A):t instanceof xs&&e instanceof xs}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Hs(t){return t.isFoundDocument()?t.version:Zr.min()}var zs=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Pr.c)(e,t),e}(Fs),Gs=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Pr.c)(e,t),e}(Fs);function $s(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Ks(t,e,n){var r=new Map;zr(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Os(o,a,n[i]))}return r}function Ws(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Es(a,u,e))}return r}var Qs,Ys,Xs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Pr.c)(e,t),e}(Fs),Zs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Pr.c)(e,t),e}(Fs),Js=function(t){this.count=t};function to(t){switch(t){case Nr.OK:return Hr();case Nr.CANCELLED:case Nr.UNKNOWN:case Nr.DEADLINE_EXCEEDED:case Nr.RESOURCE_EXHAUSTED:case Nr.INTERNAL:case Nr.UNAVAILABLE:case Nr.UNAUTHENTICATED:return!1;case Nr.INVALID_ARGUMENT:case Nr.NOT_FOUND:case Nr.ALREADY_EXISTS:case Nr.PERMISSION_DENIED:case Nr.FAILED_PRECONDITION:case Nr.ABORTED:case Nr.OUT_OF_RANGE:case Nr.UNIMPLEMENTED:case Nr.DATA_LOSS:return!0;default:return Hr()}}function eo(t){if(void 0===t)return Ur("GRPC error has no .code"),Nr.UNKNOWN;switch(t){case Qs.OK:return Nr.OK;case Qs.CANCELLED:return Nr.CANCELLED;case Qs.UNKNOWN:return Nr.UNKNOWN;case Qs.DEADLINE_EXCEEDED:return Nr.DEADLINE_EXCEEDED;case Qs.RESOURCE_EXHAUSTED:return Nr.RESOURCE_EXHAUSTED;case Qs.INTERNAL:return Nr.INTERNAL;case Qs.UNAVAILABLE:return Nr.UNAVAILABLE;case Qs.UNAUTHENTICATED:return Nr.UNAUTHENTICATED;case Qs.INVALID_ARGUMENT:return Nr.INVALID_ARGUMENT;case Qs.NOT_FOUND:return Nr.NOT_FOUND;case Qs.ALREADY_EXISTS:return Nr.ALREADY_EXISTS;case Qs.PERMISSION_DENIED:return Nr.PERMISSION_DENIED;case Qs.FAILED_PRECONDITION:return Nr.FAILED_PRECONDITION;case Qs.ABORTED:return Nr.ABORTED;case Qs.OUT_OF_RANGE:return Nr.OUT_OF_RANGE;case Qs.UNIMPLEMENTED:return Nr.UNIMPLEMENTED;case Qs.DATA_LOSS:return Nr.DATA_LOSS;default:return Hr()}}(Ys=Qs||(Qs={}))[Ys.OK=0]="OK",Ys[Ys.CANCELLED=1]="CANCELLED",Ys[Ys.UNKNOWN=2]="UNKNOWN",Ys[Ys.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ys[Ys.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ys[Ys.NOT_FOUND=5]="NOT_FOUND",Ys[Ys.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ys[Ys.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ys[Ys.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ys[Ys.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ys[Ys.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ys[Ys.ABORTED=10]="ABORTED",Ys[Ys.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ys[Ys.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ys[Ys.INTERNAL=13]="INTERNAL",Ys[Ys.UNAVAILABLE=14]="UNAVAILABLE",Ys[Ys.DATA_LOSS=15]="DATA_LOSS";var no=function(){function t(t,e){this.comparator=t,this.root=e||io.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,io.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,io.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ro(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ro(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ro(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ro(this.root,t,this.comparator,!0)},t}(),ro=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),io=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Hr();if(this.right.isRed())throw Hr();var t=this.left.check();if(t!==this.right.check())throw Hr();return t+(this.isRed()?0:1)},t}();io.EMPTY=null,io.RED=!0,io.BLACK=!1,io.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Hr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Hr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Hr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Hr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Hr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new io(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var so=function(){function t(t){this.comparator=t,this.data=new no(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new oo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new oo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),oo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ao=new no(bi.comparator);function uo(){return ao}var co=new no(bi.comparator);function lo(){return co}var ho=new no(bi.comparator);function fo(){return ho}var po=new so(bi.comparator);function go(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=po,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var mo=new so(Wr);function yo(){return mo}var bo=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,vo.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Zr.min(),r,yo(),uo(),go())},t}(),vo=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ai.EMPTY_BYTE_STRING,n,go(),go(),go())},t}(),_o=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},wo=function(t,e){this.targetId=t,this.V=e},So=function(t,e,n,r){void 0===n&&(n=ai.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Eo=function(){function t(){this.S=0,this.D=xo(),this.C=ai.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=go(),e=go(),n=go();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Hr()}}),new vo(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=xo()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Oo=function(){function t(t){this.W=t,this.G=new Map,this.H=uo(),this.J=To(),this.Y=new so(Wr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Hr()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ui(i))if(0===n){var s=new bi(i.path);this.tt(e,s,Ni.newNoDocument(s,Zr.min()))}else zr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Ui(s.target)){var o=new bi(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Ni.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=go();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new bo(t,n,this.Y,this.H,r);return this.H=uo(),this.J=To(),this.Y=new so(Wr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Eo,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new so(Wr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Vr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Eo),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function To(){return new no(bi.comparator)}function xo(){return new no(bi.comparator)}var Co={asc:"ASCENDING",desc:"DESCENDING"},ko={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Io=function(t,e){this.databaseId=t,this.I=e};function Ao(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function jo(t,e){return t.I?e.toBase64():e.toUint8Array()}function Do(t,e){return Ao(t,e.toTimestamp())}function Po(t){return zr(!!t),Zr.fromTimestamp(function(t){var e=ci(t);return new Xr(e.seconds,e.nanos)}(t))}function Ro(t,e){return function(t){return new ri(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function No(t){var e=ri.fromString(t);return zr(sa(e)),e}function Lo(t,e){return Ro(t.databaseId,e.path)}function Mo(t,e){var n=No(e);if(n.get(1)!==t.databaseId.projectId)throw new Lr(Nr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Lr(Nr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bi(Bo(n))}function Fo(t,e){return Ro(t.databaseId,e)}function Vo(t){var e=No(t);return 4===e.length?ri.emptyPath():Bo(e)}function Uo(t){return new ri(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bo(t){return zr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qo(t,e,n){return{name:Lo(t,e),fields:n.value.mapValue.fields}}function Ho(t,e,n){var r=Mo(t,e.name),i=Po(e.updateTime),s=new Pi({mapValue:{fields:e.fields}}),o=Ni.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function zo(t,e){var n;if(e instanceof zs)n={update:qo(t,e.key,e.value)};else if(e instanceof Xs)n={delete:Lo(t,e.key)};else if(e instanceof Gs)n={update:qo(t,e.key,e.data),updateMask:ia(e.fieldMask)};else{if(!(e instanceof Zs))return Hr();n={verify:Lo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof xs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cs)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Is)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof js)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Hr()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Do(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Hr()}(t,e.precondition)),n}function Go(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ls.updateTime(Po(t.updateTime)):void 0!==t.exists?Ls.exists(t.exists):Ls.none()}(e.currentDocument):Ls.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(zr("REQUEST_TIME"===e.setToServerValue),n=new xs):"appendMissingElements"in e?n=new Cs(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Is(e.removeAllFromArray.values||[]):"increment"in e?n=new js(t,e.increment):Hr();var r=si.fromServerFormat(e.fieldPath);return new Rs(r,n)}(t,e)}):[];if(e.update){var i=Mo(t,e.update.name),s=new Pi({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new oi((t.fieldPaths||[]).map(function(t){return si.fromServerFormat(t)}))}(e.updateMask);return new Gs(i,s,o,n,r)}return new zs(i,s,n,r)}if(e.delete){var a=Mo(t,e.delete);return new Xs(a,n)}if(e.verify){var u=Mo(t,e.verify);return new Zs(u,n)}return Hr()}function $o(t,e){return{documents:[Fo(t,e.path)]}}function Ko(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fo(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ai(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NAN"}};if(Ii(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ai(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NAN"}};if(Ii(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(t.field),op:Jo(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ta(t.field),direction:Zo(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||gi(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Yo(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Yo(e.endAt)),n}function Wo(t){var e=Vo(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zr(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Qo(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Zi(ea(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return gi(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Xo(n.startAt));var l=null;return n.endAt&&(l=Xo(n.endAt)),rs(e,i,a,o,u,"F",c,l)}function Qo(t){return t?void 0!==t.unaryFilter?[ra(t)]:void 0!==t.fieldFilter?[na(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Qo(t)}).reduce(function(t,e){return t.concat(e)}):Hr():[]}function Yo(t){return{before:t.before,values:t.position}}function Xo(t){return new Yi(t.values||[],!!t.before)}function Zo(t){return Co[t]}function Jo(t){return ko[t]}function ta(t){return{fieldPath:t.canonicalString()}}function ea(t){return si.fromServerFormat(t.fieldPath)}function na(t){return Bi.create(ea(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Hr()}}(t.fieldFilter.op),t.fieldFilter.value)}function ra(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ea(t.unaryFilter.field);return Bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ea(t.unaryFilter.field);return Bi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ea(t.unaryFilter.field);return Bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ea(t.unaryFilter.field);return Bi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Hr()}}function ia(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function sa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function oa(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ua(e)),e=aa(t.get(n),e);return ua(e)}function aa(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function ua(t){return t+"\x01\x01"}function ca(t){var e=t.length;if(zr(e>=2),2===e)return zr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ri.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Hr(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Hr()}s=o+2}return new ri(r)}var la=function(t,e){this.seconds=t,this.nanoseconds=e},ha=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ha.store="owner",ha.key="owner";var fa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};fa.store="mutationQueues",fa.keyPath="userId";var da=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};da.store="mutations",da.keyPath="batchId",da.userMutationsIndex="userMutationsIndex",da.userMutationsKeyPath=["userId","batchId"];var pa=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,oa(e)]},t.key=function(t,e,n){return[t,oa(e),n]},t}();pa.store="documentMutations",pa.PLACEHOLDER=new pa;var ga=function(t,e){this.path=t,this.readTime=e},ma=function(t,e){this.path=t,this.version=e},ya=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};ya.store="remoteDocuments",ya.readTimeIndex="readTimeIndex",ya.readTimeIndexPath="readTime",ya.collectionReadTimeIndex="collectionReadTimeIndex",ya.collectionReadTimeIndexPath=["parentPath","readTime"];var ba=function(t){this.byteSize=t};ba.store="remoteDocumentGlobal",ba.key="remoteDocumentGlobalKey";var va=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};va.store="targets",va.keyPath="targetId",va.queryTargetsIndexName="queryTargetsIndex",va.queryTargetsKeyPath=["canonicalId","targetId"];var _a=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};_a.store="targetDocuments",_a.keyPath=["targetId","path"],_a.documentTargetsIndex="documentTargetsIndex",_a.documentTargetsKeyPath=["path","targetId"];var wa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wa.key="targetGlobalKey",wa.store="targetGlobal";var Sa=function(t,e){this.collectionId=t,this.parent=e};Sa.store="collectionParents",Sa.keyPath=["collectionId","parent"];var Ea=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ea.store="clientMetadata",Ea.keyPath="clientId";var Oa=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Oa.store="bundles",Oa.keyPath="bundleId";var Ta=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ta.store="namedQueries",Ta.keyPath="name";var xa=Object(Pr.f)(Object(Pr.f)([],Object(Pr.f)(Object(Pr.f)([],Object(Pr.f)(Object(Pr.f)([],Object(Pr.f)(Object(Pr.f)([],[fa.store,da.store,pa.store,ya.store,va.store,ha.store,wa.store,_a.store]),[Ea.store])),[ba.store])),[Sa.store])),[Oa.store,Ta.store]),Ca="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ka=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Ia=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Aa=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Hr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),ja=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ia,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ra(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Va(e.target.error);n.ft.reject(new Ra(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ra(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Vr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new La(e)},t}(),Da=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(S.j)())&&Ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Vr("SimpleDb","Removing database:",t),Ma(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(S.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Vr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ra(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Lr(Nr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ra(t,n))},i.onupgradeneeded=function(t){Vr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Vr("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Pr.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Pr.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Pr.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=ja.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Aa.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Vr("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Pa=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ma(this.Pt.delete())},t}(),Ra=function(t){function e(e,n){var r=this;return(r=t.call(this,Nr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Pr.c)(e,t),e}(Lr);function Na(t){return"IndexedDbTransactionError"===t.name}var La=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Vr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Vr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ma(n)},t.prototype.add=function(t){return Vr("SimpleDb","ADD",this.store.name,t,t),Ma(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ma(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Vr("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Vr("SimpleDb","DELETE",this.store.name,t),Ma(this.store.delete(t))},t.prototype.count=function(){return Vr("SimpleDb","COUNT",this.store.name),Ma(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Vr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Aa(function(n,r){e.onerror=function(t){var e=Va(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Aa(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Pa(i),o=e(i.primaryKey,i.value,s);if(o instanceof Aa){var a=o.catch(function(t){return s.done(),Aa.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Aa.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ma(t){return new Aa(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Va(t.target.error);n(e)}})}var Fa=!1;function Va(t){var e=Da._t(Object(S.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Lr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Fa||(Fa=!0,setTimeout(function(){throw r},0)),r}}return t}var Ua=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Pr.c)(e,t),e}(ka);function Ba(t,e){var n=Gr(t);return Da.It(n.Mt,e)}var qa=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Vs(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Us(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Us(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Zr.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},go())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Qr(this.mutations,t.mutations,function(t,e){return qs(t,e)})&&Qr(this.baseMutations,t.baseMutations,function(t,e){return qs(t,e)})},t}(),Ha=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){zr(e.mutations.length===r.length);for(var i=fo(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),za=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Zr.min()),void 0===s&&(s=Zr.min()),void 0===o&&(o=ai.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ga=function(t){this.Lt=t};function $a(t,e){if(e.document)return Ho(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bi.fromSegments(e.noDocument.path),r=Xa(e.noDocument.readTime),i=Ni.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=bi.fromSegments(e.unknownDocument.path);return r=Xa(e.unknownDocument.version),Ni.newUnknownDocument(s,r)}return Hr()}function Ka(t,e,n){var r=Wa(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Lo(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Ao(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new ya(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Ya(e.version);return o=e.hasCommittedMutations,new ya(null,new ga(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Ya(e.version);return new ya(new ma(c,l),null,null,!0,r,i)}return Hr()}function Wa(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Qa(t){var e=new Xr(t[0],t[1]);return Zr.fromTimestamp(e)}function Ya(t){var e=t.toTimestamp();return new la(e.seconds,e.nanoseconds)}function Xa(t){var e=new Xr(t.seconds,t.nanoseconds);return Zr.fromTimestamp(e)}function Za(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Go(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Go(t.Lt,e)}),s=Xr.fromMillis(e.localWriteTimeMs);return new qa(e.batchId,s,n,i)}function Ja(t){var e,n,r=Xa(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Xa(t.lastLimboFreeSnapshotVersion):Zr.min();return void 0!==t.query.documents?(zr(1===(n=t.query).documents.length),e=hs(is(Vo(n.documents[0])))):e=function(t){return hs(Wo(t))}(t.query),new za(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ai.fromBase64String(t.resumeToken))}function tu(t,e){var n,r=Ya(e.snapshotVersion),i=Ya(e.lastLimboFreeSnapshotVersion);n=Ui(e.target)?$o(t.Lt,e.target):Ko(t.Lt,e.target);var s=e.resumeToken.toBase64();return new va(e.targetId,Fi(e.target),r,s,e.sequenceNumber,i,n)}function eu(t){var e=Wo({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?fs(e,e.limit,"L"):e}var nu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return ru(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Xa(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return ru(t).put({bundleId:(n=e).id,createTime:Ya(Po(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return iu(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:eu(e.bundledQuery),readTime:Xa(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return iu(t).put(function(t){return{name:t.name,readTime:Ya(Po(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ru(t){return Ba(t,Oa.store)}function iu(t){return Ba(t,Ta.store)}var su=function(){function t(){this.Bt=new ou}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Aa.resolve()},t.prototype.getCollectionParents=function(t,e){return Aa.resolve(this.Bt.getEntries(e))},t}(),ou=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new so(ri.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new so(ri.comparator)).toArray()},t}(),au=function(){function t(){this.qt=new ou}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:oa(i)};return uu(t).put(s)}return Aa.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Yr(e),""],!1,!0);return uu(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(ca(s.parent))}return n})},t}();function uu(t){return Ba(t,Sa.store)}var cu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lu=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function hu(t,e,n){var r=t.store(da.store),i=t.store(pa.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){zr(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=pa.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Aa.waitFor(s).next(function(){return c})}function fu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Hr();e=t.noDocument}return JSON.stringify(e).length}lu.DEFAULT_COLLECTION_PERCENTILE=10,lu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lu.DEFAULT=new lu(41943040,lu.DEFAULT_COLLECTION_PERCENTILE,lu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lu.DISABLED=new lu(-1,0,0);var du=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return zr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gu(t).$t({index:da.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=mu(t),o=gu(t);return o.add({}).next(function(a){zr("number"==typeof a);for(var u=new qa(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return zo(t.Lt,e)}),i=n.mutations.map(function(e){return zo(t.Lt,e)});return new da(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new so(function(t,e){return Wr(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=pa.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,pa.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Aa.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return gu(t).get(e).next(function(t){return t?(zr(t.userId===n.userId),Za(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Aa.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return gu(t).$t({index:da.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(zr(e.batchId>=r),s=Za(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gu(t).$t({index:da.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gu(t).Nt(da.userMutationsIndex,n).next(function(t){return t.map(function(t){return Za(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=pa.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return mu(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=ca(r[1]);if(a===n.userId&&e.path.isEqual(c))return gu(t).get(u).next(function(t){if(!t)throw Hr();zr(t.userId===n.userId),s.push(Za(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new so(Wr),i=[];return e.forEach(function(e){var s=pa.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=mu(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=ca(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Aa.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=pa.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new so(Wr);return mu(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=ca(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(gu(t).get(e).next(function(t){if(null===t)throw Hr();zr(t.userId===n.userId),r.push(Za(n.R,t))}))}),Aa.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return hu(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Aa.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Aa.resolve();var r=IDBKeyRange.lowerBound(pa.prefixForUser(e.userId)),i=[];return mu(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=ca(t[1]);i.push(s)}else r.done()}).next(function(){zr(0===i.length)})})},t.prototype.containsKey=function(t,e){return pu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return yu(t).get(this.userId).next(function(t){return t||new fa(e.userId,-1,"")})},t}();function pu(t,e,n){var r=pa.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return mu(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function gu(t){return Ba(t,da.store)}function mu(t){return Ba(t,pa.store)}function yu(t){return Ba(t,fa.store)}var bu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),vu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new bu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Zr.fromTimestamp(new Xr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return _u(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return zr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return _u(t).$t(function(o,a){var u=Ja(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Aa.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return _u(t).$t(function(t,n){var r=Ja(n);e(r)})},t.prototype.Xt=function(t){return wu(t).get(wa.key).next(function(t){return zr(null!==t),t})},t.prototype.Zt=function(t,e){return wu(t).put(wa.key,e)},t.prototype.te=function(t,e){return _u(t).put(tu(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Fi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return _u(t).$t({range:r,index:va.queryTargetsIndexName},function(t,n,r){var s=Ja(n);Vi(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Su(t);return e.forEach(function(e){var o=oa(e.path);i.push(s.put(new _a(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Aa.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Su(t);return Aa.forEach(e,function(e){var s=oa(e.path);return Aa.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Su(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Su(t),i=go();return r.$t({range:n,kt:!0},function(t,e,n){var r=ca(t[1]),s=new bi(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=oa(e.path),r=IDBKeyRange.bound([n],[Yr(n)],!1,!0),i=0;return Su(t).$t({index:_a.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return _u(t).get(e).next(function(t){return t?Ja(t):null})},t}();function _u(t){return Ba(t,va.store)}function wu(t){return Ba(t,wa.store)}function Su(t){return Ba(t,_a.store)}function Eu(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){if(t.code!==Nr.FAILED_PRECONDITION||t.message!==Ca)throw t;return Vr("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Ou(t,e){var n=t[1],r=e[1],i=Wr(t[0],e[0]);return 0===i?Wr(n,r):i}var Tu=function(){function t(t){this.ne=t,this.buffer=new so(Ou),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ou(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),xu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Vr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Pr.b)(e,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Na(e=n.sent())?(Vr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Eu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Cu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Aa.resolve(Rr.o);var r=new Tu(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vr("LruGarbageCollector","Garbage collection skipped; disabled"),Aa.resolve(cu)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Vr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),cu):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Vr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Fr()<=E.a.DEBUG&&Vr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Aa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),ku=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Cu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Iu(t,n)},t.prototype.removeReference=function(t,e,n){return Iu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Iu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return yu(t).Ot(function(r){return pu(t,r,e).next(function(t){return t&&(n=!0),Aa.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Su(t).delete([0,oa(o.path)])})});i.push(u)}}).next(function(){return Aa.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Iu(t,e)},t.prototype.we=function(t,e){var n,r=Su(t),i=Rr.o;return r.$t({index:_a.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Rr.o&&e(new bi(ca(n)),i),i=o,n=s):i=Rr.o}).next(function(){i!==Rr.o&&e(new bi(ca(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Iu(t,e){return Su(t).put(function(t,e){return new _a(0,oa(t.path),e)}(e,t.currentSequenceNumber))}var Au=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ti(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return ei(this.inner)},t}(),ju=function(){function t(){this.changes=new Au(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Zr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ni.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Aa.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Du=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Nu(t).put(Lu(e),n)},t.prototype.removeEntry=function(t,e){var n=Nu(t),r=Lu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Nu(t).get(Lu(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Nu(t).get(Lu(e)).next(function(t){return{document:n.ye(e,t),size:fu(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=uo();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=uo(),i=new no(bi.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,fu(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Aa.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Nu(t).$t({range:r},function(t,e,r){for(var o=bi.fromSegments(t);s&&bi.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=uo(),s=e.path.length+1,o={};if(n.isEqual(Zr.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Wa(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=ya.collectionReadTimeIndex}return Nu(t).$t(o,function(t,n,o){if(t.length===s){var a=$a(r.R,n);e.path.isPrefixOf(a.key.path)?ms(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Pu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ru(t).get(ba.key).next(function(t){return zr(!!t),t})},t.prototype.me=function(t,e){return Ru(t).put(ba.key,e)},t.prototype.ye=function(t,e){if(e){var n=$a(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Zr.min()))return n}return Ni.newInvalidDocument(t)},t}(),Pu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Au(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Pr.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new so(function(t,e){return Wr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=Ka(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=fu(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=Ka(e.Ie.R,Ni.newNoDocument(s,Zr.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Aa.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ju);function Ru(t){return Ba(t,ba.store)}function Nu(t){return Ba(t,ya.store)}function Lu(t){return t.path.toArray()}var Mu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;zr(n<r&&n>=0&&r<=11);var s=new ja("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ha.store)}(t),function(t){t.createObjectStore(fa.store,{keyPath:fa.keyPath}),t.createObjectStore(da.store,{keyPath:da.keyPath,autoIncrement:!0}).createIndex(da.userMutationsIndex,da.userMutationsKeyPath,{unique:!0}),t.createObjectStore(pa.store)}(t),Fu(t),function(t){t.createObjectStore(ya.store)}(t));var o=Aa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(_a.store),t.deleteObjectStore(va.store),t.deleteObjectStore(wa.store)}(t),Fu(t)),o=o.next(function(){return function(t){var e=t.store(wa.store),n=new wa(0,0,Zr.min().toTimestamp(),0);return e.put(wa.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(da.store).Nt().next(function(n){t.deleteObjectStore(da.store),t.createObjectStore(da.store,{keyPath:da.keyPath,autoIncrement:!0}).createIndex(da.userMutationsIndex,da.userMutationsKeyPath,{unique:!0});var r=e.store(da.store),i=n.map(function(t){return r.put(t)});return Aa.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Ea.store,{keyPath:Ea.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(ba.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ya.store);e.createIndex(ya.readTimeIndex,ya.readTimeIndexPath,{unique:!1}),e.createIndex(ya.collectionReadTimeIndex,ya.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Oa.store,{keyPath:Oa.keyPath})}(t),function(t){t.createObjectStore(Ta.store,{keyPath:Ta.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(ya.store).$t(function(t,n){e+=fu(n)}).next(function(){var n=new ba(e);return t.store(ba.store).put(ba.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(fa.store),r=t.store(da.store);return n.Nt().next(function(n){return Aa.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(da.userMutationsIndex,i).next(function(r){return Aa.forEach(r,function(r){zr(r.userId===n.userId);var i=Za(e.R,r);return hu(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(_a.store),n=t.store(ya.store);return t.store(wa.store).get(wa.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new ri(n),o=function(t){return[0,oa(t)]}(s);r.push(e.get(o).next(function(n){return n?Aa.resolve():function(n){return e.put(new _a(0,oa(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Aa.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Sa.store,{keyPath:Sa.keyPath});var n=e.store(Sa.store),r=new ou,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:oa(i)})}};return e.store(ya.store).$t({kt:!0},function(t,e){var n=new ri(t);return i(n.popLast())}).next(function(){return e.store(pa.store).$t({kt:!0},function(t,e){var n=ca(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(va.store);return n.$t(function(t,r){var i=Ja(r),s=tu(e.R,i);return n.put(s)})},t}();function Fu(t){t.createObjectStore(_a.store,{keyPath:_a.keyPath}).createIndex(_a.documentTargetsIndex,_a.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(va.store,{keyPath:va.keyPath}).createIndex(va.queryTargetsIndexName,va.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wa.store)}var Vu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uu=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Lr(Nr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ku(this,i),this.Le=n+"main",this.R=new Ga(u),this.Be=new Da(this.Le,11,new Mu(this.R)),this.qe=new vu(this.referenceDelegate,this.R),this.Ut=new au,this.Ue=function(t,e){return new Du(t,e)}(this.R,this.Ut),this.Qe=new nu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Lr(Nr.FAILED_PRECONDITION,Vu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Rr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return qu(e).put(new Ea(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Na(e))return Vr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Vr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Bu(t).get(ha.key).next(function(t){return Aa.resolve(e.tn(t))})},t.prototype.en=function(t){return qu(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ba(t,Ea.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Aa.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Aa.resolve(!0):Bu(t).get(ha.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Lr(Nr.FAILED_PRECONDITION,Vu);return!1}}return!(!e.networkEnabled||!e.inForeground)||qu(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Vr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t=this;return Object(Pr.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ha.store,Ea.store],function(e){var n=new Ua(e,Rr.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return qu(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return du.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Vr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",xa,function(s){return r=new Ua(s,i.Ne?i.Ne.next():Rr.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Ur("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Lr(Nr.FAILED_PRECONDITION,Ca);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Bu(t).get(ha.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Lr(Nr.FAILED_PRECONDITION,Vu)})},t.prototype.Ze=function(t){var e=new ha(this.clientId,this.allowTabSynchronization,Date.now());return Bu(t).put(ha.key,e)},t.yt=function(){return Da.yt()},t.prototype.Xe=function(t){var e=this,n=Bu(t);return n.get(ha.key).next(function(t){return e.tn(t)?(Vr("IndexedDbPersistence","Releasing primary lease."),n.delete(ha.key)):Aa.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ur("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Vr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ur("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ur("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Bu(t){return Ba(t,ha.store)}function qu(t){return Ba(t,Ea.store)}function Hu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var zu=function(t,e){this.progress=t,this.wn=e},Gu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return bi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):cs(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new bi(e)).next(function(t){var e=lo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=lo();return this.Ut.getCollectionParents(t,i).next(function(o){return Aa.forEach(o,function(o){var a=function(t,e){return new ns(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Ni.newInvalidDocument(c),r=r.insert(c,l)),Us(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){ms(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=go(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Gs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),$u=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=go(),i=go(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ku=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Zr.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(ss(e)||os(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Fr()<=E.a.DEBUG&&Vr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gs(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new so(ys(t));return e.forEach(function(e,r){ms(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Fr()<=E.a.DEBUG&&Vr("QueryEngine","Using full collection scan to execute query:",gs(e)),this.Sn.getDocumentsMatchingQuery(t,e,Zr.min())},t}(),Wu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new no(Wr),this.kn=new Au(function(t){return Fi(t)},Vi),this.$n=Zr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Gu(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Qu(t,e,n,r){return new Wu(t,e,n,r)}function Yu(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:return n=Gr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Gu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=go(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Xu(t,e){var n=Gr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Aa.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);zr(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Zu(t){var e=Gr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Ju(t,e){var n=Gr(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return zr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=uo();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(tc(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Zr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Aa.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function tc(t,e,n,r,i){var s=go();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=uo();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Zr.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Vr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function ec(t,e){var n=Gr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function nc(t,e){var n=Gr(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Aa.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new za(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function rc(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:r=Gr(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Na(o=a.sent()))throw o;return Vr("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function ic(t,e,n){var r=Gr(t),i=Zr.min(),s=go();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Gr(t),i=r.kn.get(n);return void 0!==i?Aa.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,hs(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Zr.min(),n?s:go())}).next(function(t){return{documents:t,Bn:s}})})}function sc(t,e){var n=Gr(t),r=Gr(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function oc(t){var e=Gr(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Gr(t),i=uo(),s=Wa(n),o=Nu(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:ya.readTimeIndex,range:a},function(t,e){var n=$a(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Qa(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function ac(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){return[2,(e=Gr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Nu(t),n=Zr.min();return e.$t({index:ya.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Qa(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function uc(t,e,n,r){return Object(Pr.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(Pr.d)(this,function(p){switch(p.label){case 0:for(i=Gr(t),s=go(),o=uo(),a=fo(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,nc(i,function(t){return hs(is(ri.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return tc(t,f,o,Zr.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,s,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function cc(t,e,n){return void 0===n&&(n=go()),Object(Pr.b)(this,void 0,void 0,function(){var r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return[4,nc(t,hs(eu(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Gr(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Po(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(ai.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var lc=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Aa.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Po(n.createTime)}),Aa.resolve()},t.prototype.getNamedQuery=function(t,e){return Aa.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:eu(t.bundledQuery),readTime:Po(t.readTime)}}(e)),Aa.resolve()},t}(),hc=function(){function t(){this.Wn=new so(fc.Gn),this.zn=new so(fc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new fc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new fc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new bi(new ri([])),r=new fc(n,t),i=new fc(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new bi(new ri([])),n=new fc(e,t),r=new fc(e,t+1),i=go();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new fc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),fc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return bi.comparator(t.key,e.key)||Wr(t.ns,e.ns)},t.Hn=function(t,e){return Wr(t.ns,e.ns)||bi.comparator(t.key,e.key)},t}(),dc=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new so(fc.Gn)}return t.prototype.checkEmpty=function(t){return Aa.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new qa(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new fc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Aa.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Aa.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Aa.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Aa.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Aa.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new fc(e,0),i=new fc(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Aa.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new so(Wr);return e.forEach(function(t){var e=new fc(t,0),i=new fc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Aa.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;bi.isDocumentKey(i)||(i=i.child(""));var s=new fc(new bi(i),0),o=new so(Wr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Aa.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;zr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Aa.forEach(e.mutations,function(i){var s=new fc(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new fc(e,0),r=this.rs.firstAfterOrEqual(n);return Aa.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Aa.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),pc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new no(bi.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Aa.resolve(n?n.document.clone():Ni.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=uo();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ni.newInvalidDocument(t))}),Aa.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=uo(),i=new bi(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||ms(e,u)&&(r=r.insert(u.key,u.clone()))}return Aa.resolve(r)},t.prototype.fs=function(t,e){return Aa.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new gc(this)},t.prototype.getSize=function(t){return Aa.resolve(this.size)},t}(),gc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Pr.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Aa.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ju),mc=function(){function t(t){this.persistence=t,this.ds=new Au(function(t){return Fi(t)},Vi),this.lastRemoteSnapshotVersion=Zr.min(),this.highestTargetId=0,this.ws=0,this._s=new hc,this.targetCount=0,this.ys=bu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Aa.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Aa.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Aa.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Aa.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Aa.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new bu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Aa.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Aa.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Aa.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Aa.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Aa.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Aa.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Aa.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Aa.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Aa.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Aa.resolve(n)},t.prototype.containsKey=function(t,e){return Aa.resolve(this._s.containsKey(e))},t}(),yc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Rr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new mc(this),this.Ut=new su,this.Ue=function(t,e){return new pc(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Ga(e),this.Qe=new lc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new dc(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Vr("MemoryPersistence","Starting transaction:",t);var i=new bc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Aa.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),bc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Pr.c)(e,t),e}(ka),vc=function(){function t(t){this.persistence=t,this.As=new hc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Hr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Aa.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Aa.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Aa.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Aa.forEach(this.vs,function(r){var i=bi.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Aa.or([function(){return Aa.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),_c=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function wc(t,e){return"firestore_clients_"+t+"_"+e}function Sc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ec(t,e){return"firestore_targets_"+t+"_"+e}_c.UNAUTHENTICATED=new _c(null),_c.GOOGLE_CREDENTIALS=new _c("google-credentials-uid"),_c.FIRST_PARTY=new _c("first-party-uid");var Oc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Lr(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Ur("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Tc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lr(i.error.code,i.error.message)),s?new t(e,i.state,r):(Ur("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=yo(),o=0;i&&o<r.activeTargetIds.length;++o)i=yi(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Ur("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Cc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ur("SharedClientState","Failed to parse online state: "+e),null)},t}(),kc=function(){function t(){this.activeTargetIds=yo()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ic=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new no(Wr),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=wc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new kc),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Pr.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(wc(this.persistenceKey,r)))&&(s=xc.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ec(this.persistenceKey,t));if(n){var r=Tc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ec(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Vr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Vr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Vr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Vr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Pr.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Pr.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Rr.o;if(null!=t)try{var n=JSON.parse(t);zr("number"==typeof n),e=n}catch(t){Ur("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Rr.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Oc(this.currentUser,t,e,n),i=Sc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Sc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Ec(this.persistenceKey,t),i=new Tc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return xc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Oc.Vs(new _c(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Tc.Vs(r,e)},t.prototype.js=function(t){return Cc.Vs(t)},t.prototype.ii=function(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Vr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=yo();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Ac=function(){function t(){this.li=new kc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new kc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),jc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Dc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Vr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Vr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Pc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Rc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Nc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Pr.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Dr;o.listenOnce(kr.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Cr.NO_ERROR:var e=o.getResponseJson();Vr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Cr.TIMEOUT:Vr("Connection",'RPC "'+t+'" timed out'),s(new Lr(Nr.DEADLINE_EXCEEDED,"Request time out"));break;case Cr.HTTP_ERROR:var n=o.getStatus();if(Vr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Nr).indexOf(e)>=0?e:Nr.UNKNOWN}(r.status);s(new Lr(a,r.message))}else s(new Lr(Nr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Lr(Nr.UNAVAILABLE,"Connection failed."));break;default:Hr()}}finally{Vr("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new mr,i=be(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Ar({})),this.Fi(s.initMessageHeaders,e),Object(S.o)()||Object(S.q)()||Object(S.m)()||Object(S.n)()||Object(S.r)()||Object(S.l)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Vr("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Rc({Ei:function(t){c?Vr("Connection","Not sending because WebChannel is closed:",t):(u||(Vr("Connection","Opening WebChannel transport."),a.open(),u=!0),Vr("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,jr.EventType.OPEN,function(){c||Vr("Connection","WebChannel transport opened.")}),h(a,jr.EventType.CLOSE,function(){c||(c=!0,Vr("Connection","WebChannel transport closed"),l.Vi())}),h(a,jr.EventType.ERROR,function(t){c||(c=!0,Br("Connection","WebChannel transport errored:",t),l.Vi(new Lr(Nr.UNAVAILABLE,"The operation could not be completed")))}),h(a,jr.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];zr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Vr("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Qs[t];if(void 0!==e)return eo(e)}(i),o=r.message;void 0===s&&(s=Nr.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Lr(s,o)),a.close()}else Vr("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Ir.STAT_EVENT,function(t){10===t.stat?Vr("Connection","Detected buffering proxy"):11===t.stat&&Vr("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Vr("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return Vr("RestConnection","Received: ",t),t},function(e){throw Br("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.8",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Pc[t]},t}());function Lc(){return"undefined"!=typeof window?window:null}function Mc(){return"undefined"!=typeof document?document:null}function Fc(t){return new Io(t,!0)}var Vc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Vr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Uc=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Vc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Nr.RESOURCE_EXHAUSTED?(Ur(e.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Nr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Lr(Nr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Pr.b)(t,void 0,void 0,function(){return Object(Pr.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Vr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Vr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Bc=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Pr.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Hr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(zr(void 0===e||"string"==typeof e),ai.fromBase64String(e||"")):(zr(void 0===e||e instanceof Uint8Array),ai.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Nr.UNKNOWN:eo(t.code);return new Lr(e,t.message||"")}(a);n=new So(r,i,s,o||null)}else if("documentChange"in e){i=Mo(t,(r=e.documentChange).document.name),s=Po(r.document.updateTime);var a=new Pi({mapValue:{fields:r.document.fields}}),u=(o=Ni.newFoundDocument(i,s,a),r.targetIds||[]);n=new _o(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Mo(t,(r=e.documentDelete).document),s=r.readTime?Po(r.readTime):Zr.min(),a=Ni.newNoDocument(i,s),n=new _o([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Mo(t,(r=e.documentRemove).document),n=new _o([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Hr();var c=e.filter;i=new Js(r=c.count||0),n=new wo(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Zr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zr.min():e.readTime?Po(e.readTime):Zr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Uo(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ui(r)?{documents:$o(t,r)}:{query:Ko(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=jo(t,e.resumeToken):e.snapshotVersion.compareTo(Zr.min())>0&&(n.readTime=Ao(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Uo(this.R),e.removeTarget=t,this.cr(e)},e}(Uc),qc=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Pr.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(zr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(zr(void 0!==e),t.map(function(t){return function(t,e){var n=Po(t.updateTime?t.updateTime:e);return n.isEqual(Zr.min())&&(n=Po(e)),new Ns(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Po(t.commitTime);return this.listener.Tr(n,e)}return zr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Uo(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return zo(e.R,t)})};this.cr(n)},e}(Uc),Hc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Pr.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Lr(Nr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Nr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Lr(Nr.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Nr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Lr(Nr.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),zc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ur(e),this.Vr=!1):Vr("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Gc=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Pr.b)(s,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return tl(this)?(Vr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return(e=Gr(t)).Or.add(4),[4,Kc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,$c(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new zc(n,r)};function $c(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:if(!tl(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Kc(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wc(t,e){var n=Gr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Jc(n)?Zc(n):gl(n).er()&&Yc(n,e))}function Qc(t,e){var n=Gr(t),r=gl(n);n.$r.delete(e),r.er()&&Xc(n,e),0===n.$r.size&&(r.er()?r.ir():tl(n)&&n.Br.set("Unknown"))}function Yc(t,e){t.qr.U(e.targetId),gl(t).mr(e)}function Xc(t,e){t.qr.U(e),gl(t).yr(e)}function Zc(t){t.qr=new Oo({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),gl(t).start(),t.Br.Sr()}function Jc(t){return tl(t)&&!gl(t).tr()&&t.$r.size>0}function tl(t){return 0===Gr(t).Or.size}function el(t){t.qr=void 0}function nl(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){return t.$r.forEach(function(e,n){Yc(t,e)}),[2]})})}function rl(t,e){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(n){return el(t),Jc(t)?(t.Br.Nr(e),Zc(t)):t.Br.set("Unknown"),[2]})})}function il(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof So&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Vr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sl(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof _o?t.qr.X(e):e instanceof wo?t.qr.rt(e):t.qr.et(e),n.isEqual(Zr.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Zu(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(ai.EMPTY_BYTE_STRING,n.snapshotVersion)),Xc(t,e);var r=new za(n.target,e,1,n.sequenceNumber);Yc(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Vr("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,sl(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function sl(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r=this;return Object(Pr.d)(this,function(i){switch(i.label){case 0:if(!Na(e))throw e;return t.Or.add(1),[4,Kc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Zu(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Pr.b)(r,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return Vr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,$c(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ol(t,e){return e().catch(function(n){return sl(t,n,e)})}function al(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:e=Gr(t),n=ml(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return tl(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,ec(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=ml(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,sl(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return ul(e)&&cl(e),[2]}})})}function ul(t){return tl(t)&&!ml(t).tr()&&t.kr.length>0}function cl(t){ml(t).start()}function ll(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){return ml(t).Ar(),[2]})})}function hl(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n,r;return Object(Pr.d)(this,function(i){for(e=ml(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function fl(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=Ha.from(r,e,n),[4,ol(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,al(t)];case 2:return s.sent(),[2]}})})}function dl(t,e){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e&&ml(t).pr?[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return to(r=e.code)&&r!==Nr.ABORTED?(n=t.kr.shift(),ml(t).sr(),[4,ol(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,al(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ul(t)&&cl(t),[2]}})})}function pl(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return n=Gr(t),e?(n.Or.delete(2),[4,$c(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Kc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function gl(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Gr(t);return r.br(),new Bc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:nl.bind(null,t),Ri:rl.bind(null,t),_r:il.bind(null,t)}),t.Mr.push(function(n){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Jc(t)?Zc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),el(t),e.label=3;case 3:return[2]}})})})),t.Ur}function ml(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Gr(t);return r.br(),new qc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ll.bind(null,t),Ri:dl.bind(null,t),Ir:hl.bind(null,t),Tr:fl.bind(null,t)}),t.Mr.push(function(n){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,al(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Vr("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var yl=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lr(Nr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function bl(t,e){if(Ur("AsyncQueue",e+": "+t),Na(t))return new Lr(Nr.UNAVAILABLE,e+": "+t);throw t}var vl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||bi.comparator(e.key,n.key)}:function(t,e){return bi.comparator(t.key,e.key)},this.keyedMap=lo(),this.sortedSet=new no(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),_l=function(){function t(){this.Kr=new no(bi.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Hr():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),wl=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,vl.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ds(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Sl=function(){this.Wr=void 0,this.listeners=[]},El=function(){this.queries=new Au(function(t){return ps(t)},ds),this.onlineState="Unknown",this.Gr=new Set};function Ol(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Pr.d)(this,function(c){switch(c.label){case 0:if(n=Gr(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Sl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=bl(a,"Initialization of query '"+gs(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&kl(n),[2]}})})}function Tl(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pr.d)(this,function(a){return n=Gr(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function xl(t,e){for(var n=Gr(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&kl(n)}function Cl(t,e,n){var r=Gr(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function kl(t){t.Gr.forEach(function(t){t.next()})}var Il=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new wl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=wl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Al=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),jl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Mo(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ho(this.R,t.document,!1):Ni.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Po(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new jl(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||go()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return[4,uc(this.localStore,new jl(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,cc(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new zu(Object.assign({},this.progress),t))]}})})}}();var Dl=function(t){this.key=t},Pl=function(t){this.key=t},Rl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=go(),this.mutatedKeys=go(),this.lo=ys(t),this.fo=new vl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new _l,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=ss(this.query)&&i.size===this.query.limit?i.last():null,c=os(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ms(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),ss(this.query)||os(this.query))for(;o.size>this.query.limit;){var l=ss(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new wl(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new _l,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=go(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Pl(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Dl(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=go();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return wl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Nl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ll=function(t){this.key=t,this.bo=!1},Ml=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Au(function(t){return ps(t)},ds),this.Vo=new Map,this.So=new Set,this.Do=new no(bi.comparator),this.Co=new Map,this.No=new hc,this.xo={},this.Fo=new Map,this.ko=bu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Fl(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:return n=dh(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,nc(n.localStore,hs(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Vl(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Wc(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Vl(t,e,n,r){return Object(Pr.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Pr.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Pr.b)(this,void 0,void 0,function(){var i,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ic(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(Zl(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,ic(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Rl(e,i.Bn),o=s._o(i.documents),a=vo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),Zl(t,n,u.To),c=new Nl(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Ul(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return n=Gr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!ds(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,rc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Qc(n.remoteStore,r.targetId),Yl(n,r.targetId)}).catch(Eu)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Yl(n,r.targetId),[4,rc(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Bl(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:r=ph(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Gr(t),i=Xr.now(),s=e.reduce(function(t,e){return t.add(e.key)},go());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Bs(c,n.get(c.key));null!=l&&o.push(new Gs(c.key,l,Ri(l.value.mapValue),Ls.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new no(Wr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,eh(r,i.changes)];case 3:return a.sent(),[4,al(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=bl(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function ql(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r;return Object(Pr.d)(this,function(i){switch(i.label){case 0:n=Gr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ju(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(zr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?zr(r.bo):t.removedDocuments.size>0&&(zr(r.bo),r.bo=!1))}),[4,eh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Eu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Hl(t,e,n){var r=Gr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Gr(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&kl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zl(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Pr.d)(this,function(c){switch(c.label){case 0:return(r=Gr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new no(bi.comparator)).insert(s,Ni.newNoDocument(s,Zr.min())),a=go().add(s),u=new bo(Zr.min(),new Map,new so(Wr),o,a),[4,ql(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),th(r),[3,4];case 2:return[4,rc(r.localStore,e,!1).then(function(){return Yl(r,e,n)}).catch(Eu)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Gl(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:n=Gr(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Xu(n.localStore,e)];case 2:return i=s.sent(),Ql(n,r,null),Wl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,eh(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Eu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function $l(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:r=Gr(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Gr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return zr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Ql(r,e,n),Wl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,eh(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Eu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Kl(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:tl((n=Gr(t)).remoteStore)||Vr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Gr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=bl(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Wl(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Ql(t,e,n){var r=Gr(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Yl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Xl(t,e)})}function Xl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Qc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),th(t))}function Zl(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Dl?(t.No.addReference(s.key,e),Jl(t,s)):s instanceof Pl?(Vr("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Xl(t,s.key)):Hr()}}function Jl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Vr("SyncEngine","New document in limbo: "+n),t.So.add(r),th(t))}function th(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bi(ri.fromString(e)),r=t.ko.next();t.Co.set(r,new Ll(n)),t.Do=t.Do.insert(n,r),Wc(t.remoteStore,new za(hs(is(n.path)),r,2,Rr.o))}}function eh(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:return r=Gr(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=$u.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Pr.d)(this,function(l){switch(l.label){case 0:n=Gr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Aa.forEach(e,function(e){return Aa.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Aa.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Na(r=l.sent()))throw r;return Vr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function nh(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return(n=Gr(t)).currentUser.isEqual(e)?[3,3]:(Vr("SyncEngine","User change. New user:",e.toKey()),[4,Yu(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Lr(Nr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,eh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function rh(t,e){var n=Gr(t),r=n.Co.get(e);if(r&&r.bo)return go().add(r.key);var i=go(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function ih(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return[4,ic((n=Gr(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Zl(n,e.targetId,i.To),i)]}})})}function sh(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){return[2,oc((e=Gr(t)).localStore).then(function(t){return eh(e,t)})]})})}function oh(t,e,n,r){return Object(Pr.b)(this,void 0,void 0,function(){var i,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Gr(t),r=Gr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Aa.resolve(null)})})}((i=Gr(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,al(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ql(i,e,r||null),Wl(i,e),function(t,e){Gr(Gr(t)._n).Gt(e)}(i.localStore,e)):Hr(),o.label=4;case 4:return[4,eh(i,s)];case 5:return o.sent(),[3,7];case 6:Vr("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function ah(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Pr.d)(this,function(c){switch(c.label){case 0:return dh(n=Gr(t)),ph(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,uh(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,pl(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Wc(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Yl(n,e),rc(n.localStore,e,!0)}),Qc(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,uh(n,a)];case 5:return c.sent(),function(t){var e=Gr(t);e.Co.forEach(function(t,n){Qc(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new no(bi.comparator)}(n),n.$o=!1,[4,pl(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function uh(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Pr.d)(this,function(g){switch(g.label){case 0:n=Gr(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,nc(n.localStore,hs(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,ih(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,sc(n.localStore,a)];case 8:return p=g.sent(),[4,nc(n.localStore,p)];case 9:return u=g.sent(),[4,Vl(n,ch(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ch(t){return rs(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function lh(t){var e=Gr(t);return Gr(Gr(e.localStore).persistence).fn()}function hh(t,e,n,r){return Object(Pr.b)(this,void 0,void 0,function(){var i,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:return(i=Gr(t)).$o?(Vr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,oc(i.localStore)];case 3:return s=a.sent(),o=bo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,eh(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,rc(i.localStore,e,!0)];case 6:return a.sent(),Yl(i,e,r),[3,8];case 7:Hr(),a.label=8;case 8:return[2]}})})}function fh(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Pr.d)(this,function(f){switch(f.label){case 0:if(!(r=dh(t)).$o)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Vr("SyncEngine","Adding an already active target "+o),[3,5]):[4,sc(r.localStore,o)]:[3,6];case 2:return a=f.sent(),[4,nc(r.localStore,a)];case 3:return u=f.sent(),[4,Vl(r,ch(a),u.targetId,!1)];case 4:f.sent(),Wc(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,rc(r.localStore,t,!1).then(function(){Qc(r.remoteStore,t),Yl(r,t)}).catch(Eu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function dh(t){var e=Gr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ql.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zl.bind(null,e),e.vo._r=xl.bind(null,e.eventManager),e.vo.Mo=Cl.bind(null,e.eventManager),e}function ph(t){var e=Gr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$l.bind(null,e),e}var gh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return this.R=Fc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Qu(this.persistence,new Ku,t.initialUser,this.R)},t.prototype.qo=function(t){return new yc(vc.bs,this.R)},t.prototype.Bo=function(t){return new Ac},t.prototype.terminate=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),mh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Pr.c)(e,t),e.prototype.initialize=function(e){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ac(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,ph(this.Ko.syncEngine)];case 4:return n.sent(),[4,al(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Qu(this.persistence,new Ku,t.initialUser,this.R)},e.prototype.Uo=function(t){return new xu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Hu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?lu.withCacheSize(this.cacheSizeBytes):lu.DEFAULT;return new Uu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Lc(),Mc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ac},e}(gh),yh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Pr.c)(e,t),e.prototype.initialize=function(e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r=this;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Ic?(this.sharedClientState.syncEngine={ui:oh.bind(null,n),ai:hh.bind(null,n),hi:fh.bind(null,n),fn:lh.bind(null,n),ci:sh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Pr.b)(r,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return[4,ah(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Lc();if(!Ic.yt(e))throw new Lr(Nr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ic(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(mh),bh=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n=this;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Hl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nh.bind(null,this.syncEngine),[4,pl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new El},t.prototype.createDatastore=function(t){var e=Fc(t.databaseInfo.databaseId),n=new Nc(t.databaseInfo);return function(t,e,n){return new Hc(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Hl(o.syncEngine,t,0)},s=Dc.yt()?new Dc:new jc,new Gc(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Ml(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=Gr(t),Vr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Kc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),vh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),_h=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ia,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Al(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Pr.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Lr(Nr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Pr.d)(this,function(u){switch(u.label){case 0:return n=Gr(t),r=Uo(n.R)+"/documents",i={documents:e.map(function(t){return Lo(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){zr(!!e.found);var n=Mo(t,e.found.name),r=Po(e.found.updateTime),i=new Pi({mapValue:{fields:e.found.fields}});return Ni.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){zr(!!e.missing),zr(!!e.readTime);var n=Mo(t,e.missing),r=Po(e.readTime);return Ni.newNoDocument(n,r)}(t,e):Hr()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());zr(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Xs(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e=this;return Object(Pr.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=bi.fromPath(n);e.mutations.push(new Zs(r,e.precondition(r)))}),[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return n=Gr(t),r=Uo(n.R)+"/documents",i={writes:e.map(function(t){return zo(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Hr();e=Zr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Lr(Nr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ls.updateTime(e):Ls.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Zr.min()))throw new Lr(Nr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ls.updateTime(e)}return Ls.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),wh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Vc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Pr.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Pr.d)(this,function(r){return t=new _h(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!gi(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!to(e)}return!1},t}(),Sh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=_c.UNAUTHENTICATED,this.clientId=Kr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Pr.b)(r,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return Vr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Lr(Nr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Pr.b)(t,void 0,void 0,function(){var t,n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=bl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Eh(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Vr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Pr.b)(i,void 0,void 0,function(){return Object(Pr.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Yu(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Oh(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Th(t)];case 1:return n=i.sent(),Vr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,r;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return(n=Gr(t)).asyncQueue.verifyOperationInProgress(),Vr("RemoteStore","RemoteStore received new credentials"),r=tl(n),n.Or.add(3),[4,Kc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,$c(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Th(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Vr("FirestoreClient","Using default OfflineComponentProvider"),[4,Eh(t,new gh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function xh(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Vr("FirestoreClient","Using default OnlineComponentProvider"),[4,Oh(t,new bh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Ch(t){return Th(t).then(function(t){return t.persistence})}function kh(t){return Th(t).then(function(t){return t.localStore})}function Ih(t){return xh(t).then(function(t){return t.remoteStore})}function Ah(t){return xh(t).then(function(t){return t.syncEngine})}function jh(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return[4,xh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Fl.bind(null,e.syncEngine),n.onUnlisten=Ul.bind(null,e.syncEngine),n)]}})})}function Dh(t,e,n){var r=this;void 0===n&&(n={});var i=new Ia;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(r,void 0,void 0,function(){var r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new vh({next:function(s){e.enqueueAndForget(function(){return Tl(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Lr(Nr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Lr(Nr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Il(is(n.path),s,{includeMetadataChanges:!0,so:!0});return Ol(t,o)},[4,jh(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ph(t,e,n){var r=this;void 0===n&&(n={});var i=new Ia;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(r,void 0,void 0,function(){var r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new vh({next:function(n){e.enqueueAndForget(function(){return Tl(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Lr(Nr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Il(n,s,{includeMetadataChanges:!0,so:!0});return Ol(t,o)},[4,jh(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Rh=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},Nh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Lh=new Map,Mh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Fh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(_c.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Vh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Uh=function(){function t(t){var e=this;this.currentUser=_c.UNAUTHENTICATED,this.oc=new Ia,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Vr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Vr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Vr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(zr("string"==typeof n.accessToken),new Mh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(Pr.b)(n,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return zr(null===t||"string"==typeof t),new _c(t)},t}(),Bh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=_c.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),qh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Bh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(_c.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Hh(t,e,n){if(!n)throw new Lr(Nr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function zh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Gh(t,e,n,r){if(!0===e&&!0===r)throw new Lr(Nr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function $h(t){if(!bi.isDocumentKey(t))throw new Lr(Nr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Kh(t){if(bi.isDocumentKey(t))throw new Lr(Nr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Hr()}function Qh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Lr(Nr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wh(t);throw new Lr(Nr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Yh(t,e){if(e<=0)throw new Lr(Nr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Xh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Lr(Nr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lr(Nr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Gh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Zh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xh({}),this._settingsFrozen=!1,t instanceof Nh?(this._databaseId=t,this._credentials=new Fh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Lr(Nr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nh(t.options.projectId)}(t),this._credentials=new Uh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Lr(Nr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Lr(Nr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Fh;switch(t.type){case"gapi":var e=t.client;return zr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new qh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Lr(Nr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Lh.get(this))&&(Vr("ComponentProvider","Removing Datastore"),Lh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Jh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ef(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),tf=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,is(r))||this)._path=r,i.type="collection",i}return Object(Pr.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Jh(this.firestore,null,new bi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(tf);function nf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(S.i)(t),Hh("collection","path",e),t instanceof Zh)return Kh(n=ri.fromString.apply(ri,Object(Pr.f)([e],r))),new ef(t,null,n);if(!(t instanceof Jh||t instanceof ef))throw new Lr(Nr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kh(n=ri.fromString.apply(ri,Object(Pr.f)([t.path],r)).child(ri.fromString(e))),new ef(t.firestore,null,n)}function rf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(S.i)(t),1===arguments.length&&(e=Kr.u()),Hh("doc","path",e),t instanceof Zh)return $h(n=ri.fromString.apply(ri,Object(Pr.f)([e],r))),new Jh(t,null,new bi(n));if(!(t instanceof Jh||t instanceof ef))throw new Lr(Nr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $h(n=t._path.child(ri.fromString.apply(ri,Object(Pr.f)([e],r)))),new Jh(t.firestore,t instanceof ef?t.converter:null,new bi(n))}function sf(t,e){return t=Object(S.i)(t),e=Object(S.i)(e),(t instanceof Jh||t instanceof ef)&&(e instanceof Jh||e instanceof ef)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function of(t,e){return t=Object(S.i)(t),e=Object(S.i)(e),t instanceof tf&&e instanceof tf&&t.firestore===e.firestore&&ds(t._query,e._query)&&t.converter===e.converter}var af=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Vc(this,"async_queue_retry"),this.Tc=function(){var e=Mc();e&&Vr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Mc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Mc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e=this;return Object(Pr.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Na(t=n.sent()))throw t;return Vr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Ur("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=yl.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&Hr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t;return Object(Pr.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function uf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ia,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var cf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new af,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Pr.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||hf(this),this._firestoreClient.terminate()},e}(Zh);function lf(t){return t._firestoreClient||hf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Rh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Sh(t._credentials,t._queue,r)}function ff(t,e,n){var r=this,i=new Ia;return t.asyncQueue.enqueue(function(){return Object(Pr.b)(r,void 0,void 0,function(){var r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Eh(t,n)];case 1:return s.sent(),[4,Oh(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Nr.FAILED_PRECONDITION||t.code===Nr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function df(t){if(t._initialized||t._terminated)throw new Lr(Nr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var pf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),gf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ai.fromBase64String(e))}catch(e){throw new Lr(Nr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ai.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),mf=function(t){this._methodName=t},yf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lr(Nr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lr(Nr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Wr(this._lat,t._lat)||Wr(this._long,t._long)},t}(),bf=/^__.*__$/,vf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Gs(t,this.data,this.fieldMask,e,this.fieldTransforms):new zs(t,this.data,e,this.fieldTransforms)},t}(),_f=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Gs(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function wf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hr()}}var Sf=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return qf(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(wf(this.Cc)&&bf.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),Ef=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Fc(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new Sf({Cc:t,methodName:e,Bc:n,path:si.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Of(t){var e=t._freezeSettings(),n=Fc(t._databaseId);return new Ef(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tf(t,e,n,r,i,s){void 0===s&&(s={});var o=t.qc(s.merge||s.mergeFields?2:0,e,n,i);Ff("Data must be an object, but it was:",o,r);var a,u,c=Lf(r,o);if(s.merge)a=new oi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Vf(e,f[h],n);if(!o.contains(d))throw new Lr(Nr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Hf(l,d)||l.push(d)}a=new oi(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new vf(new Pi(c),a,u)}var xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(mf);function Cf(t,e,n){return new Sf({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){return new Rs(t.path,new xs)},e.prototype.isEqual=function(t){return t instanceof e},e}(mf),If=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Cf(this,t,!0),n=this.Uc.map(function(t){return Nf(t,e)}),r=new Cs(n);return new Rs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(mf),Af=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Cf(this,t,!0),n=this.Uc.map(function(t){return Nf(t,e)}),r=new Is(n);return new Rs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(mf),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new js(t.R,ws(t.R,this.Qc));return new Rs(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(mf);function Df(t,e,n,r){var i=t.qc(1,e,n);Ff("Data must be an object, but it was:",i,r);var s=[],o=Pi.empty();ti(r,function(t,r){var a=Bf(e,t,n);r=Object(S.i)(r);var u=i.$c(a);if(r instanceof xf)s.push(a);else{var c=Nf(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new oi(s);return new _f(o,a,i.fieldTransforms)}function Pf(t,e,n,r,i,s){var o=t.qc(1,e,n),a=[Vf(e,r,n)],u=[i];if(s.length%2!=0)throw new Lr(Nr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Vf(e,s[c])),u.push(s[c+1]);for(var l=[],h=Pi.empty(),f=a.length-1;f>=0;--f)if(!Hf(l,a[f])){var d=a[f],p=u[f];p=Object(S.i)(p);var g=o.$c(d);if(p instanceof xf)l.push(d);else{var m=Nf(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new oi(l);return new _f(h,y,o.fieldTransforms)}function Rf(t,e,n,r){return void 0===r&&(r=!1),Nf(n,t.qc(r?4:3,e))}function Nf(t,e){if(Mf(t=Object(S.i)(t)))return Ff("Unsupported field value:",e,t),Lf(t,e);if(t instanceof mf)return function(t,e){if(!wf(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Nf(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(S.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ws(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Xr.fromDate(t);return{timestampValue:Ao(e.R,n)}}if(t instanceof Xr)return n=new Xr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ao(e.R,n)};if(t instanceof yf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gf)return{bytesValue:jo(e.R,t._byteString)};if(t instanceof Jh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ro(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+Wh(t))}(t,e)}function Lf(t,e){var n={};return ei(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(t,function(t,r){var i=Nf(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Mf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xr||t instanceof yf||t instanceof gf||t instanceof Jh||t instanceof mf)}function Ff(t,e,n){if(!Mf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Wh(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Vf(t,e,n){if((e=Object(S.i)(e))instanceof pf)return e._internalPath;if("string"==typeof e)return Bf(t,e);throw qf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Uf=new RegExp("[~\\*/\\[\\]]");function Bf(t,e,n){if(e.search(Uf)>=0)throw qf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(pf.bind.apply(pf,Object(Pr.f)([void 0],e.split(".")))))._internalPath}catch(r){throw qf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function qf(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Lr(Nr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Hf(t,e){return t.some(function(t){return t.isEqual(e)})}var zf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Jh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Gf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field($f("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(zf);function $f(t,e){return"string"==typeof e?Bf(t,e):e instanceof pf?e._internalPath:e._delegate._internalPath}var Kf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Wf=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Pr.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field($f("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(zf),Qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Wf),Yf=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Kf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Qf(n._firestore,n._userDataWriter,r.key,r,new Kf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lr(Nr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Qf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Kf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Qf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Kf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Xf(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Xf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hr()}}function Zf(t,e){return t instanceof Wf&&e instanceof Wf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Yf&&e instanceof Yf&&t._firestore===e._firestore&&of(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Jf(t){if(os(t)&&0===t.explicitOrderBy.length)throw new Lr(Nr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var td=function(){};function ed(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var nd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(Pr.c)(e,t),e.prototype._apply=function(t){var e=Of(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){cd(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(ud(r,t,l[c]));a={arrayValue:{values:u}}}else a=ud(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||cd(o,s),a=Rf(n,"where",o,"in"===s||"not-in"===s);var h=Bi.create(i,s,a);return function(t,e){if(e.g()){var n=us(t);if(null!==n&&!n.isEqual(e.field))throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=as(t);null!==r&&ld(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Lr(Nr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new tf(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(td),rd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return Object(Pr.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Zi(e,n);return function(t,e){if(null===as(t)){var n=us(t);null!==n&&ld(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new tf(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ns(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(td),id=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(Pr.c)(e,t),e.prototype._apply=function(t){return new tf(t.firestore,t.converter,fs(t._query,this.zc,this.Hc))},e}(td),sd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Pr.c)(e,t),e.prototype._apply=function(t){var e=ad(t,this.type,this.Jc,this.Yc);return new tf(t.firestore,t.converter,function(t,e){return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(td),od=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Pr.c)(e,t),e.prototype._apply=function(t){var e=ad(t,this.type,this.Jc,this.Yc);return new tf(t.firestore,t.converter,function(t,e){return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(td);function ad(t,e,n,r){if(n[0]=Object(S.i)(n[0]),n[0]instanceof zf)return function(t,e,n,r,i){if(!r)throw new Lr(Nr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=ls(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(xi(e,r.key));else{var c=r.data.field(u.field);if(fi(c))throw new Lr(Nr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Yi(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Of(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Lr(Nr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!cs(t)&&-1!==c.indexOf("/"))throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ri.fromString(c));if(!bi.isDocumentKey(l))throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new bi(l);a.push(xi(e,h))}else{var f=Rf(n,r,c);a.push(f)}}return new Yi(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function ud(t,e,n){if("string"==typeof(n=Object(S.i)(n))){if(""===n)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cs(e)&&-1!==n.indexOf("/"))throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ri.fromString(n));if(!bi.isDocumentKey(r))throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return xi(t,new bi(r))}if(n instanceof Jh)return xi(t,n._key);throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wh(n)+".")}function cd(t,e){if(!Array.isArray(t)||0===t.length)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ld(t,e,n){if(!n.isEqual(e))throw new Lr(Nr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var hd=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),vi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return li(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Hr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ti(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new yf(li(t.latitude),li(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=di(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(pi(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ci(t);return new Xr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ri.fromString(t);zr(sa(n));var r=new Nh(n.get(1),n.get(3)),i=new bi(n.popFirst(5));return r.isEqual(e)||Ur("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function fd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var dd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pr.c)(e,t),e.prototype.convertBytes=function(t){return new gf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jh(this.firestore,null,e)},e}(hd),pd=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Of(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=gd(t,this._firestore),i=fd(r.converter,e,n),s=Tf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ls.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=gd(t,this._firestore);return s="string"==typeof(e=Object(S.i)(e))||e instanceof pf?Pf(this._dataReader,"WriteBatch.update",o._key,e,n,r):Df(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Ls.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=gd(t,this._firestore);return this._mutations=this._mutations.concat(new Xs(e._key,Ls.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Lr(Nr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function gd(t,e){if((t=Object(S.i)(t)).firestore!==e)throw new Lr(Nr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var md=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pr.c)(e,t),e.prototype.convertBytes=function(t){return new gf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jh(this.firestore,null,e)},e}(hd);function yd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Qh(t,Jh);var s=Qh(t.firestore,cf),o=Of(s);return vd(s,[("string"==typeof(e=Object(S.i)(e))||e instanceof pf?Pf(o,"updateDoc",t._key,e,n,r):Df(o,"updateDoc",t._key,e)).toMutation(t._key,Ls.exists(!0))])}function bd(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(S.i)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||uf(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(uf(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Jh)c=Qh(t.firestore,cf),l=is(t._key.path),u={next:function(e){i[a]&&i[a](_d(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Qh(t,tf);c=Qh(d.firestore,cf),l=d._query;var p=new md(c);u={next:function(t){i[a]&&i[a](new Yf(c,p,d,t))},error:i[a+1],complete:i[a+2]},Jf(t._query)}return function(t,e,n,r){var i=this,s=new vh(r),o=new Il(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(i,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=Ol,[4,jh(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(i,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=Tl,[4,jh(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(lf(c),l,h,u)}function vd(t,e){return function(t,e){var n=this,r=new Ia;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return n=Bl,[4,Ah(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(lf(t),e)}function _d(t,e,n){var r=n.docs.get(e._key),i=new md(t);return new Wf(t,i,e._key,r,new Kf(n.hasPendingWrites,n.fromCache),e.converter)}var wd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Pr.c)(e,t),e.prototype.get=function(e){var n=this,r=gd(e,this._firestore),i=new md(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Wf(n._firestore,i,r._key,t._document,new Kf(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Of(t)}return t.prototype.get=function(t){var e=this,n=gd(t,this._firestore),r=new dd(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Hr();var i=t[0];if(i.isFoundDocument())return new zf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zf(e._firestore,r,n._key,null,n.converter);throw Hr()})},t.prototype.set=function(t,e,n){var r=gd(t,this._firestore),i=fd(r.converter,e,n),s=Tf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=gd(t,this._firestore);return s="string"==typeof(e=Object(S.i)(e))||e instanceof pf?Pf(this._dataReader,"Transaction.update",o._key,e,n,r):Df(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=gd(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Sd(){if("undefined"==typeof Uint8Array)throw new Lr(Nr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ed(){if("undefined"==typeof atob)throw new Lr(Nr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Od=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Ed(),new t(gf.fromBase64String(e))},t.fromUint8Array=function(e){return Sd(),new t(gf.fromUint8Array(e))},t.prototype.toBase64=function(){return Ed(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Sd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Td=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){df(t=Qh(t,cf));var n=lf(t),r=t._freezeSettings(),i=new bh;return ff(n,i,new mh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){df(t=Qh(t,cf));var e=lf(t),n=t._freezeSettings(),r=new bh;return ff(e,r,new yh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Lr(Nr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ia;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Pr.b)(e,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return Da.yt()?[4,Da.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Hu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),xd=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Nh||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Br("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Qh(t,Zh))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Br("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(S.e)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Lr(Nr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Vh(new Mh(s,new _c(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Pr.b)(e,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return[4,Ch(t)];case 1:return e=r.sent(),[4,Ih(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Gr(t);return e.Or.delete(0),$c(e)}(n))]}})})})}(lf(Qh(this._delegate,cf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Pr.b)(e,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return[4,Ch(t)];case 1:return e=r.sent(),[4,Ih(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return(e=Gr(t)).Or.add(0),[4,Kc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(lf(Qh(this._delegate,cf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Gh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ia;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(e,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return e=Kl,[4,Ah(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(lf(Qh(this._delegate,cf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new vh(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Gr(t).Gr.add(e),e.next()},[4,jh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Gr(t).Gr.delete(e)},[4,jh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(lf(t=Qh(t,cf)),uf(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Lr(Nr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ud(this,nf(this._delegate,t))}catch(t){throw Dd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new jd(this,rf(this._delegate,t))}catch(t){throw Dd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Md(this,function(t,e){if(t=Qh(t,Zh),Hh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tf(t,null,function(t){return new ns(ri.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Dd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ia;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return xh(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new wh(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(lf(t),function(n){return e(new wd(t,n))})}(this._delegate,function(n){return t(new kd(e,n))})},t.prototype.batch=function(){var t=this;return lf(this._delegate),new Id(new pd(this._delegate,function(e){return vd(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Lr(Nr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Lr(Nr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Cd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pr.c)(e,t),e.prototype.convertBytes=function(t){return new Od(new gf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return jd.tu(e,this.firestore,null)},e}(hd),kd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Cd(t)}return t.prototype.get=function(t){var e=this,n=Bd(t);return this._delegate.get(n).then(function(t){return new Nd(e._firestore,new Wf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Bd(t);return n?(zh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Bd(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Pr.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Bd(t);return this._delegate.delete(e),this},t}(),Id=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Bd(t);return n?(zh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Bd(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Pr.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=Bd(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Ad=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Qf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ld(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Cd(e),n),i.set(n,s)),s},t}();Ad.nu=new WeakMap;var jd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Cd(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Lr(Nr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Jh(n._delegate,r,new bi(e)))},t.tu=function(e,n,r){return new t(n,new Jh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ud(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ud(this.firestore,nf(this._delegate,t))}catch(t){throw Dd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(S.i)(t))instanceof Jh&&sf(this._delegate,t)},t.prototype.set=function(t,e){e=zh("DocumentReference.set",e);try{return function(t,e,n){t=Qh(t,Jh);var r=Qh(t.firestore,cf),i=fd(t.converter,e,n);return vd(r,[Tf(Of(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ls.none())])}(this._delegate,t,e)}catch(t){throw Dd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?yd(this._delegate,t):yd.apply(void 0,Object(Pr.f)([this._delegate,t,e],n))}catch(t){throw Dd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return vd(Qh((t=this._delegate).firestore,cf),[new Xs(t._key,Ls.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Pd(e),i=Rd(e,function(e){return new Nd(t.firestore,new Wf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return bd(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Qh(t,Jh);var e=Qh(t.firestore,cf),n=lf(e),r=new md(e);return function(t,e){var n=this,r=new Ia;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Gr(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Lr(Nr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=bl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,kh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Wf(e,r,t._key,n,new Kf(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Qh(t,Jh);var e=Qh(t.firestore,cf);return Dh(lf(e),t._key,{source:"server"}).then(function(n){return _d(e,t,n)})}(this._delegate):function(t){t=Qh(t,Jh);var e=Qh(t.firestore,cf);return Dh(lf(e),t._key).then(function(n){return _d(e,t,n)})}(this._delegate)).then(function(t){return new Nd(e.firestore,new Wf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Ad.eu(this.firestore,e):null))},t}();function Dd(t,e,n){return t.message=t.message.replace(e,n),t}function Pd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!uf(r))return r}return{}}function Rd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=uf(t[0])?t[0]:uf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Nd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new jd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Zf(this._delegate,t._delegate)},t}(),Ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Nd),Md=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Cd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,ed(this._delegate,function(t,e,n){var r=e,i=$f("where",t);return new nd(i,r,n)}(e,n,r)))}catch(e){throw Dd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,ed(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=$f("orderBy",t);return new rd(r,n)}(e,n)))}catch(e){throw Dd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,ed(this._delegate,function(t){return Yh("limit",t),new id("limit",t,"F")}(e)))}catch(e){throw Dd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,ed(this._delegate,function(t){return Yh("limitToLast",t),new id("limitToLast",t,"L")}(e)))}catch(e){throw Dd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ed(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sd("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Dd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ed(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sd("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Dd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ed(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new od("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Dd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ed(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new od("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Dd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return of(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Qh(t,tf);var e=Qh(t.firestore,cf),n=lf(e),r=new md(e);return function(t,e){var n=this,r=new Ia;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Pr.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ic(t,e,!0)];case 1:return a=u.sent(),r=new Rl(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=bl(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,kh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Yf(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Qh(t,tf);var e=Qh(t.firestore,cf),n=lf(e),r=new md(e);return Ph(n,t._query,{source:"server"}).then(function(n){return new Yf(e,r,t,n)})}(this._delegate):function(t){t=Qh(t,tf);var e=Qh(t.firestore,cf),n=lf(e),r=new md(e);return Jf(t._query),Ph(n,t._query).then(function(n){return new Yf(e,r,t,n)})}(this._delegate)).then(function(t){return new Vd(e.firestore,new Yf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Pd(e),i=Rd(e,function(e){return new Vd(t.firestore,new Yf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return bd(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Ad.eu(this.firestore,e):null))},t}(),Fd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ld(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Vd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Md(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Ld(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Fd(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Ld(n._firestore,r))})},t.prototype.isEqual=function(t){return Zf(this._delegate,t._delegate)},t}(),Ud=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Pr.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new jd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new jd(this.firestore,void 0===t?rf(this._delegate):rf(this._delegate,t))}catch(t){throw Dd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Qh(t.firestore,cf),r=rf(t),i=fd(t.converter,e);return vd(n,[Tf(Of(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ls.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new jd(e.firestore,t)})},e.prototype.isEqual=function(t){return sf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ad.eu(this.firestore,t):null))},e}(Md);function Bd(t){return Qh(t,Jh)}var qd,Hd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(pf.bind.apply(pf,Object(Pr.f)([void 0],t)))}return t.documentId=function(){return new t(si.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(S.i)(t))instanceof pf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),zd=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new kf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new xf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new If("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Af("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new jf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Gd=n("/6Yf"),$d={Firestore:xd,GeoPoint:yf,Timestamp:Xr,Blob:Od,Transaction:kd,WriteBatch:Id,DocumentReference:jd,DocumentSnapshot:Nd,Query:Md,QueryDocumentSnapshot:Ld,QuerySnapshot:Vd,CollectionReference:Ud,FieldPath:Hd,FieldValue:zd,setLogLevel:function(t){Mr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Gd.a("firestore",function(t){return function(t,e){return new xd(t,new cf(t,e),new Td)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},$d)))})(qd=w.a),qd.registerVersion("@firebase/firestore","2.3.7");var Kd=n("UbJi");function Wd(t,e){return function(t,e=i.b){return new s.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Qd(t,e){return Wd(t,e).pipe(Object(d.a)(t=>({payload:t,type:"query"})))}function Yd(t,e){return Qd(t,e).pipe(Object(u.a)(void 0),l(),Object(d.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Xd(t,e,n){return Yd(t,n).pipe(Object(p.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zd(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Zd(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zd(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(g.a)(),Object(d.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Zd(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Jd(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class tp{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Yd(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(d.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(u.a)(void 0),l(),Object(m.a)(([t,e])=>e.length>0||!t),Object(d.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Jd(t);return Xd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Qd(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new ep(this.ref.doc(t),this.afs)}}class ep{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ap(n,e);return new tp(r,i,this.afs)}snapshotChanges(){return Wd(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(void 0),l(),Object(d.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(d.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(o.a)(this.ref.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}class np{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Yd(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(m.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Yd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(p.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Jd(t);return Xd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Qd(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}const rp=new r.r("angularfire2.enableFirestorePersistence"),ip=new r.r("angularfire2.firestore.persistenceSettings"),sp=new r.r("angularfire2.firestore.settings"),op=new r.r("angularfire2.firestore.use-emulator");function ap(t,e=(t=>t)){return{query:e(t),ref:t}}let up=(()=>{class t{constructor(t,e,n,r,i,s,u,c,l){this.schedulers=new b.d(s),this.keepUnstableUntilFirst=Object(b.h)(this.schedulers);const h=Object(b.g)(t,s,e);!_.a.auth&&l&&Object(b.j)();const f=c;[this.firestore,this.persistenceEnabled$]=Object(b.f)(`${h.name}.firestore`,"AngularFirestore",h,()=>{const t=s.runOutsideAngular(()=>h.firestore());if(r&&t.settings(r),f&&t.useEmulator(...f),n&&!Object(v.z)(i)){const e=()=>{try{return Object(o.a)(t.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(qd){return"undefined"!=typeof console&&console.warn(qd),Object(a.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(a.a)(!1)]},[r,f,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ap(n,e),s=this.schedulers.ngZone.run(()=>r);return new tp(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new np(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new ep(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b.c),r.ac(b.b,8),r.ac(rp,8),r.ac(sp,8),r.ac(r.C),r.ac(r.A),r.ac(ip,8),r.ac(op,8),r.ac(Kd.c,8))},t.\u0275prov=r.Kb({factory:function(){return new t(r.ac(b.c),r.ac(b.b,8),r.ac(rp,8),r.ac(sp,8),r.ac(r.C),r.ac(r.A),r.ac(ip,8),r.ac(op,8),r.ac(Kd.c,8))},token:t,providedIn:"any"}),t})(),cp=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:rp,useValue:!0},{provide:ip,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[up]}),t})()},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("GyhO"),i=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.6.8";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},Kj3r:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("D0XW");function s(t,e=i.a){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends r.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function u(t){t.debouncedNext()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},UbJi:function(t,e,n){"use strict";n.d(e,"a",function(){return j}),n.d(e,"b",function(){return D}),n.d(e,"c",function(){return T});var r=n("fXoL"),i=n("XNiG"),s=n("LRne"),o=n("HDdC"),a=n("Cfvw"),u=n("VRyK"),c=n("pxpQ"),l=n("eIep"),h=n("lJxs"),f=n("qgXg"),d=n("quSY"),p=n("9ppp"),g=n("Ylt2");class m extends i.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new y(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new p.a;if(this.isStopped||this.hasError?s=d.a.EMPTY:(this.observers.push(t),s=new g.a(this,t)),r&&t.add(t=new c.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||f.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class y{constructor(t,e){this.time=t,this.value=e}}function b(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new m(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}var v=n("SxV6");function _(t,e){return e?Object(l.a)(()=>t,e):Object(l.a)(()=>t)}var w=n("tf+s"),S=n("pLZG"),E=n("spgP"),O=n("ofXK");const T=new r.r("angularfire2.auth.use-emulator"),x=new r.r("angularfire2.auth.settings"),C=new r.r("angularfire2.auth.tenant-id"),k=new r.r("angularfire2.auth.langugage-code"),I=new r.r("angularfire2.auth.use-device-language"),A=new r.r("angularfire.auth.persistence");let j=(()=>{class t{constructor(t,e,r,f,d,p,g,m,y,T){const x=new E.d(f),C=Object(E.h)(x),k=new i.a,I=Object(s.a)(void 0).pipe(Object(c.b)(x.outsideAngular),Object(l.a)(()=>f.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(h.a)(()=>Object(E.g)(t,f,e)),Object(h.a)(t=>f.runOutsideAngular(()=>{const e=d,n=p;return Object(E.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=f.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),g&&(r.tenantId=g),r.languageCode=m,y&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return T&&r.setPersistence(T),r},[e,g,m,y,n,T])})),b({bufferSize:1,refCount:!1}));if(Object(O.z)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(s.a)(null);else{I.pipe(Object(v.a)()).subscribe();const t=I.pipe(Object(l.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),C,b({bufferSize:1,refCount:!1})),e=t=>new o.a(e=>({unsubscribe:f.runOutsideAngular(()=>t(e))})),n=I.pipe(Object(l.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=I.pipe(Object(l.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(_(n),Object(w.a)(x.outsideAngular),Object(c.b)(x.insideAngular)),this.user=t.pipe(_(r),Object(w.a)(x.outsideAngular),Object(c.b)(x.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdToken()):Object(s.a)(null))),this.idTokenResult=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdTokenResult()):Object(s.a)(null))),this.credential=Object(u.a)(t,k,this.authState.pipe(Object(S.a)(t=>!t))).pipe(Object(h.a)(t=>(null==t?void 0:t.user)?t:null),Object(w.a)(x.outsideAngular),Object(c.b)(x.insideAngular))}return Object(E.i)(this,I,f,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>k.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(E.c),r.ac(E.b,8),r.ac(r.C),r.ac(r.A),r.ac(T,8),r.ac(x,8),r.ac(C,8),r.ac(k,8),r.ac(I,8),r.ac(A,8))},t.\u0275prov=r.Kb({factory:function(){return new t(r.ac(E.c),r.ac(E.b,8),r.ac(r.C),r.ac(r.A),r.ac(T,8),r.ac(x,8),r.ac(C,8),r.ac(k,8),r.ac(I,8),r.ac(A,8))},token:t,providedIn:"any"}),t})();Object(E.e)(j,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[j]}),t})()},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("HDdC");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("sVev"),i=n("7o/Q");function s(t=u){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Yj9t:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthModule",function(){return b});var r=n("1kSV"),i=n("cxbk"),s=n("fXoL"),o=n("UbJi"),a=n("I/3d"),u=n("tyNb"),c=n("ofXK"),l=n("3Pt+");function h(t,e){if(1&t){const t=s.Ub();s.Tb(0,"div",21,22),s.Tb(2,"button",23),s.ec("click",function(){return s.wc(t),s.ic().closeAlert()}),s.Tb(3,"span",24),s.Dc(4,"\xd7"),s.Sb(),s.Sb(),s.Dc(5),s.Sb()}if(2&t){const t=s.ic();s.Cb(5),s.Fc(" ",t.errorMessage,"\n")}}let f=(()=>{class t{constructor(t,e,n){this.auth=t,this.fire=e,this.router=n,this.loading=!1,this.showError=!1,this.errorMessage="",this.register={},t.authState.subscribe(t=>{t&&n.navigateByUrl("/me")})}ngOnInit(){}tapRegister(t){this.loading=!0,this.auth.createUserWithEmailAndPassword(t.value.email,t.value.password).then(t=>{this.router.navigateByUrl("signin"),this.register.role="user",this.fire.collection("user").add(this.register),this.loading=!1}).catch(t=>{this.loading=!1,this.errorMessage=t.message,this.showError=!0})}closeAlert(){this.showError=!1}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.a),s.Ob(a.a),s.Ob(u.b))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-register"]],decls:31,vars:5,consts:[["class","alert alert-danger alert-dismissible fade show auth-alert","role","alert",4,"ngIf"],[1,"container","center-page","col-xl-10","col-xxl-8","px-4","py-5"],[1,"row","align-items-center","g-lg-5","py-5"],[1,"col-lg-7","text-center","text-lg-start"],[1,"display-4","fw-bold","font-medium","lh-1","mb-3"],[1,"col-lg-10","fs-4"],[1,"col-md-10","mx-auto","col-lg-5"],[1,"p-4","p-md-5","bg-yellow","border-black","rounded-3",3,"ngSubmit"],["formData","ngForm"],[1,"display-4","text-right","fw-bold","lh-1"],[1,"form-floating","mb-3"],["type","username","id","username","placeholder","John","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","username"],["type","email","id","email","placeholder","email address","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","password","id","password","placeholder","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","submit",1,"w-100","btn","btn-lg","btn-primary",3,"disabled"],[1,"my-4"],[1,"text-center"],["type","button","routerLink","/login",1,"btn","btn-link","mt-2"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","auth-alert"],["alert",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){if(1&t){const t=s.Ub();s.Bc(0,h,6,1,"div",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Tb(3,"div",3),s.Tb(4,"h1",4),s.Dc(5,"Tulisin"),s.Sb(),s.Tb(6,"p",5),s.Dc(7,"Baca dan bagikan perspektif baru tentang topik apa pun."),s.Sb(),s.Sb(),s.Tb(8,"div",6),s.Tb(9,"form",7,8),s.ec("ngSubmit",function(){s.wc(t);const n=s.vc(10);return e.tapRegister(n)}),s.Tb(11,"h1",9),s.Dc(12,"Sign Up"),s.Sb(),s.Tb(13,"div",10),s.Tb(14,"input",11),s.ec("ngModelChange",function(t){return e.register.username=t}),s.Sb(),s.Tb(15,"label",12),s.Dc(16,"Username"),s.Sb(),s.Sb(),s.Tb(17,"div",10),s.Tb(18,"input",13),s.ec("ngModelChange",function(t){return e.register.email=t}),s.Sb(),s.Tb(19,"label",14),s.Dc(20,"Email address"),s.Sb(),s.Sb(),s.Tb(21,"div",10),s.Tb(22,"input",15),s.ec("ngModelChange",function(t){return e.register.password=t}),s.Sb(),s.Tb(23,"label",16),s.Dc(24,"Password"),s.Sb(),s.Sb(),s.Tb(25,"button",17),s.Dc(26,"Sign up"),s.Sb(),s.Pb(27,"hr",18),s.Tb(28,"div",19),s.Tb(29,"button",20),s.Dc(30,"Sudah punya akun ?"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()}if(2&t){const t=s.vc(10);s.nc("ngIf",e.showError),s.Cb(14),s.nc("ngModel",e.register.username),s.Cb(4),s.nc("ngModel",e.register.email),s.Cb(4),s.nc("ngModel",e.register.password),s.Cb(3),s.nc("disabled",!t.valid)}},directives:[c.m,l.k,l.f,l.g,l.a,l.j,l.e,l.h,u.c],styles:[""]}),t})();function d(t,e){if(1&t){const t=s.Ub();s.Tb(0,"div",20,21),s.Tb(2,"button",22),s.ec("click",function(){return s.wc(t),s.ic().closeAlert()}),s.Tb(3,"span",23),s.Dc(4,"\xd7"),s.Sb(),s.Sb(),s.Dc(5),s.Sb()}if(2&t){const t=s.ic();s.Cb(5),s.Fc(" ",t.errorMessage,"\n")}}const p=function(t){return{loading:t}};let g=(()=>{class t{constructor(t,e){this.auth=t,this.loading=!1,this.showError=!1,t.authState.subscribe(t=>{t&&e.navigateByUrl("/me")})}ngOnInit(){}tapLogin(){this.loading=!0,this.auth.signInWithEmailAndPassword(this.email,this.password).then(t=>{this.loading=!1}).catch(t=>{switch(this.loading=!1,t.code){case"auth/invalid-email":this.errorMessage="Email anda salah !";break;case"auth/user-not-found":this.errorMessage="User tidak ditemukan !";break;default:this.errorMessage="Periksa kembali data anda !",console.log(t)}this.showError=!0})}closeAlert(){this.showError=!1}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.a),s.Ob(u.b))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-login"]],decls:28,vars:7,consts:[["class","alert alert-danger alert-dismissible fade show auth-alert","role","alert",4,"ngIf"],[1,"container","center-page","col-xl-10","col-xxl-8","px-4","py-5"],[1,"row","align-items-center","g-lg-5","py-5"],[1,"col-lg-7","text-center","text-lg-start"],["routerLink","/",1,"display-4","fw-bold","font-medium","lh-1","mb-3","currentColor","cursor-pointer"],[1,"col-lg-10","fs-4"],[1,"col-md-10","mx-auto","col-lg-5"],[3,"ngClass"],[1,"p-4","p-md-5","border-black","bg-yellow","rounded-3",3,"ngSubmit"],["formData","ngForm"],[1,"display-4","text-right","fw-bold","lh-1"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-primary",3,"disabled"],[1,"my-4"],[1,"text-center"],["type","button","routerLink","/register",1,"btn","btn-link","mt-2"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","auth-alert"],["alert",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){if(1&t&&(s.Bc(0,d,6,1,"div",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Tb(3,"div",3),s.Tb(4,"h1",4),s.Dc(5,"Tulisin"),s.Sb(),s.Tb(6,"p",5),s.Dc(7,"Baca dan bagikan perspektif baru tentang topik apa pun."),s.Sb(),s.Sb(),s.Tb(8,"div",6),s.Tb(9,"div",7),s.Tb(10,"form",8,9),s.ec("ngSubmit",function(){return e.tapLogin()}),s.Tb(12,"h1",10),s.Dc(13,"Sign in"),s.Sb(),s.Tb(14,"div",11),s.Tb(15,"input",12),s.ec("ngModelChange",function(t){return e.email=t}),s.Sb(),s.Tb(16,"label",13),s.Dc(17,"Email address"),s.Sb(),s.Sb(),s.Tb(18,"div",11),s.Tb(19,"input",14),s.ec("ngModelChange",function(t){return e.password=t}),s.Sb(),s.Tb(20,"label",15),s.Dc(21,"Password"),s.Sb(),s.Sb(),s.Tb(22,"button",16),s.Dc(23,"Sign up"),s.Sb(),s.Pb(24,"hr",17),s.Tb(25,"div",18),s.Tb(26,"button",19),s.Dc(27,"Belum punya akun ?"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t){const t=s.vc(11);s.nc("ngIf",e.showError),s.Cb(9),s.nc("ngClass",s.rc(5,p,e.loading)),s.Cb(6),s.nc("ngModel",e.email),s.Cb(4),s.nc("ngModel",e.password),s.Cb(3),s.nc("disabled",!t.valid)}},directives:[c.m,u.c,c.k,l.k,l.f,l.g,l.a,l.j,l.e,l.h],styles:[""]}),t})();var m=n("spgP");const y=[{path:"",children:[{path:"login",component:g},{path:"register",component:f},{path:"",redirectTo:"/login",pathMatch:"full"}]}];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({imports:[[c.c,l.b,u.f.forChild(y),r.a,m.a.initializeApp(i.a.firebase),a.b,o.b]]}),t})()},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n("SeVD"),o=n("HDdC");function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(s.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},cxbk:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r={production:!0,firebase:{apiKey:"AIzaSyDu3kIbCLekwmprjfscPPiYmbl1oqT3Vss",authDomain:"angular-blogs-91db4.firebaseapp.com",projectId:"angular-blogs-91db4",storageBucket:"angular-blogs-91db4.appspot.com",messagingSenderId:"172955181222",appId:"1:172955181222:web:fb10df50e09e8f1ac29467",measurementId:"G-3RDFFK2H9N"}}},deo1:function(t,e,n){"use strict";n.r(e),n.d(e,"MeModule",function(){return ue});var r=n("AytR"),i=n("spgP"),s=n("1kSV"),o=n("tyNb"),a=n("ofXK"),u=n("fXoL"),c=n("UbJi");let l=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}ngOnInit(){}logOut(){confirm("Yakin ingin keluar ?")&&this.auth.signOut().then(t=>{this.router.navigateByUrl("auth")})}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(c.a),u.Ob(o.b))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-me"]],decls:2,vars:0,template:function(t,e){1&t&&(u.Pb(0,"app-navbar"),u.Pb(1,"router-outlet"))},styles:[".mt-6[_ngcontent-%COMP%]{margin-top:5rem!important}h1[_ngcontent-%COMP%]{font-size:34px!important;font-weight:400}.btn-create[_ngcontent-%COMP%]{border-radius:500px!important;padding:7px 16px 9px!important}.border-bottom[_ngcontent-%COMP%]{border-bottom:.9px solid #00000020!important}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px!important;color:#b3b3b3!important}nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000!important;border-bottom:.9px solid #000!important}h1.muted-text[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#b3b3b3!important;font-weight:500!important;line-height:2}textarea.title[_ngcontent-%COMP%]{font-size:34px!important;font-weight:500}textarea[_ngcontent-%COMP%]{border:none!important}textarea[_ngcontent-%COMP%]:focus{border-color:#000;box-shadow:0 0 0 .2rem #00000080}"]}),t})(),h=(()=>{class t{constructor(t){this.me=t}ngOnInit(){}logOut(){this.me.logOut()}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(l))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-navbar"]],decls:19,vars:0,consts:[[1,"navbar","fixed-top","px-4","shadow-sm","navbar-expand-md","navbar-light","bg-white","absolute-top"],[1,"container"],["routerLink","/",1,"d-flex","cursor-pointer","align-items-center","link-black","text-decoration-none"],[1,"row","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 18 18"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],[1,"fs-4"],[1,"order-4","order-md-4"],["type","button","routerLinkActive","active","routerLink","/me/home",1,"btn","mr-2","cursor-pointer"],["type","button","routerLinkActive","active","routerLink","/me/user",1,"btn","mr-2","cursor-pointer"],["type","button",1,"btn","btn-outline-dark","border","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",2,"margin-top","-3px"],["fill-rule","evenodd","d","M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"],["fill-rule","evenodd","d","M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"]],template:function(t,e){1&t&&(u.Tb(0,"nav",0),u.Tb(1,"div",1),u.Tb(2,"a",2),u.Tb(3,"div",3),u.hc(),u.Tb(4,"svg",4),u.Pb(5,"path",5),u.Pb(6,"path",6),u.Sb(),u.gc(),u.Tb(7,"span",7),u.Dc(8,"Tulisin"),u.Sb(),u.Sb(),u.Sb(),u.Tb(9,"div",8),u.Tb(10,"button",9),u.Dc(11,"List blog"),u.Sb(),u.Tb(12,"button",10),u.Dc(13,"Detail User"),u.Sb(),u.Tb(14,"button",11),u.ec("click",function(){return e.logOut()}),u.hc(),u.Tb(15,"svg",12),u.Pb(16,"path",13),u.Pb(17,"path",14),u.Sb(),u.Dc(18," Log Out "),u.Sb(),u.Sb(),u.Sb(),u.Sb())},directives:[s.b,o.e,o.d,o.c],styles:["[_ngcontent-%COMP%]::placeholder{color:grey!important}.form-control-rounded[_ngcontent-%COMP%]{border-radius:1rem}.navbar[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all .15s ease-in-out}.form-control[_ngcontent-%COMP%]{transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.active[_ngcontent-%COMP%]{font-weight:700!important}.btn-outline-dark[_ngcontent-%COMP%]{border-radius:100px!important}.btn[_ngcontent-%COMP%]{font-size:.9rem!important}"]}),t})();var f=n("nYR2"),d=n("I/3d"),p=n("HDdC"),g=n("LRne"),m=n("Cfvw"),y=n("Kj3r"),b=n("lJxs"),v=n("pxpQ"),_=n("eIep"),w=n("zIRd"),S=n("mrSG"),E=n("qOnz"),O=n("/6Yf"),T="firebasestorage.googleapis.com",x=function(t){function e(n,r){var i=t.call(this,C(n),"Firebase Storage: "+r+" ("+C(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(S.c)(e,t),e.prototype._codeEquals=function(t){return C(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(E.c);function C(t){return"storage/"+t}function k(){return new x("unknown","An unknown error occurred, please check the error payload for server response.")}function I(){return new x("canceled","User canceled the upload/download.")}function A(){return new x("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function j(t){return new x("invalid-argument",t)}function D(){return new x("app-deleted","The Firebase app was deleted.")}function P(t){return new x("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function R(t,e){return new x("invalid-format","String does not match format '"+t+"': "+e)}function N(t){throw new x("internal-error","Internal error: "+t)}var L={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},M=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function F(t,e){switch(t){case L.RAW:return new M(V(e));case L.BASE64:case L.BASE64URL:return new M(U(t,e));case L.DATA_URL:return new M((n=new B(e)).base64?U(L.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw R(L.DATA_URL,"Malformed data URL.")}return V(e)}(n.rest),new B(e).contentType)}var n;throw k()}function V(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function U(t,e){switch(t){case L.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw R(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case L.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw R(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(c){throw R(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var B=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw R(L.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),q={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function H(t){switch(t){case"running":case"pausing":case"canceling":return q.RUNNING;case"paused":return q.PAUSED;case"success":return q.SUCCESS;case"canceled":return q.CANCELED;case"error":default:return q.ERROR}}var z=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),G=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=z.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=z.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=z.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw N("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw N("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw N("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw N("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),$=function(){function t(){}return t.prototype.createXhrIo=function(){return new G},t}(),K=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new x("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",s=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:s,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===T?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.path];f||(f=""),r=new t(h[l.indices.bucket],f),l.postModify(r);break}}if(null==r)throw function(t){return new x("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),W=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Q(t){return"string"==typeof t||t instanceof String}function Y(t){return X()&&t instanceof Blob}function X(){return"undefined"!=typeof Blob}function Z(t,e,n,r){if(r<e)throw j("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw j("Invalid value for '"+t+"'. Expected "+n+" or less.")}function J(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function tt(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var et=function(){function t(t,e,n,r,i,s,o,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(u){s(u)}else null!==o?((r=k()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?D():I():new x("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new nt(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new nt(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===z.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new nt(o,n))}else{var a=n.getErrorCode()===z.ABORT;e(!1,new nt(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(S.f)([null,t],e));else{var r;u()||o?l.call.apply(l,Object(S.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),nt=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function rt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=rt();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(X())return new Blob(t);throw new x("unsupported-environment","This browser doesn't seem to support creating Blobs")}var st=function(){function t(t,e){var n=0,r="";Y(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Y(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(X()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(it.apply(null,r))}var i=e.map(function(t){return Q(t)?F(L.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}();function ot(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function at(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function ut(t,e){return e}var ct=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||ut}}(),lt=null;function ht(){if(lt)return lt;var t=[];t.push(new ct("bucket")),t.push(new ct("generation")),t.push(new ct("metageneration")),t.push(new ct("name","fullPath",!0));var e=new ct("name");e.xform=function(t,e){return function(t){return!Q(t)||t.length<2?t:at(t)}(e)},t.push(e);var n=new ct("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new ct("timeCreated")),t.push(new ct("updated")),t.push(new ct("md5Hash",null,!0)),t.push(new ct("cacheControl",null,!0)),t.push(new ct("contentDisposition",null,!0)),t.push(new ct("contentEncoding",null,!0)),t.push(new ct("contentLanguage",null,!0)),t.push(new ct("contentType",null,!0)),t.push(new ct("metadata","customMetadata",!0)),lt=t}function ft(t,e,n){var r=ot(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new K(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function dt(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var pt=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function gt(t){if(!t)throw k()}function mt(t,e){return function(n,r){var i=ft(t,r,e);return gt(null!==i),i}}function yt(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new x("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new x("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new x("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new x("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function bt(t){var e=yt(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new x("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function vt(t,e,n){var r=J(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new pt(r,"GET",mt(t,n),i);return s.errorHandler=bt(e),s}function _t(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var wt=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function St(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){gt(!1)}return gt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Et=262144,Ot=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function Tt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var xt=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=ht(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=_t(e,r,i),a={name:o.fullPath},u=J(s,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=dt(o,n),h=new pt(u,"POST",function(t){var e;St(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){gt(!1)}return gt(Q(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=yt(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new pt(n,"POST",function(t){var e=St(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){gt(!1)}n||gt(!1);var i=Number(n);return gt(!isNaN(i)),new wt(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=yt(e),i}(t._ref.storage,t._ref._location,e,t._blob),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=Et*this._chunkMultiplier,n=new wt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,s){var o;try{o=function(t,e,n,r,i,s,o,a){var u=new wt(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new x("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw A();var p=new pt(n,"POST",function(t,n){var i,o=St(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===o?mt(e,s)(t,n):null,new wt(a,c,"final"===o,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=yt(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i,s);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){Et*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=vt(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=_t(e,r,i),c=dt(u,n),l=st.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw A();var h={name:u.fullPath},f=J(s,t.host),d=t.maxUploadRetryTime,p=new pt(f,"POST",mt(t,n),d);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=yt(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=I(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=H(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new Ot(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(H(this._state)){case q.SUCCESS:Tt(this._resolve.bind(null,this.snapshot))();break;case q.CANCELED:case q.ERROR:Tt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(H(this._state)){case q.RUNNING:case q.PAUSED:t.next&&Tt(t.next.bind(t,this.snapshot))();break;case q.SUCCESS:t.complete&&Tt(t.complete.bind(t))();break;case q.CANCELED:case q.ERROR:t.error&&Tt(t.error.bind(t,this._error))();break;default:t.error&&Tt(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Ct=function(){function t(t,e){this._service=t,this._location=e instanceof K?e:K.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new K(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return at(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new K(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw P(t)},t}();function kt(t){var e={prefixes:[],items:[]};return It(t,e).then(function(){return e})}function It(t,e,n){return Object(S.b)(this,void 0,void 0,function(){var r,i,s;return Object(S.d)(this,function(o){switch(o.label){case 0:return[4,At(t,{pageToken:n})];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,It(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function At(t,e){return Object(S.b)(this,void 0,void 0,function(){var n,r;return Object(S.d)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Z("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=J(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new pt(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=ot(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t._makeStorageReference(new K(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new K(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return gt(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=yt(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function jt(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new K(t._location.bucket,n);return new Ct(t.storage,r)}function Dt(t){return/^[A-Za-z]+:\/\//.test(t)}function Pt(t,e){if(t instanceof Lt){var n=t;if(null==n._bucket)throw new x("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Ct(n,n._bucket);return null!=e?Pt(r,e):r}if(void 0!==e){if(e.includes(".."))throw j('`path` param cannot contain ".."');return jt(t,e)}return t}function Rt(t,e){if(e&&Dt(e)){if(t instanceof Lt)return new Ct(t,e);throw j("To use ref(service, url), the first argument must be a Storage instance.")}return Pt(t,e)}function Nt(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:K.makeFromBucketSpec(n,t)}var Lt=function(){function t(t,e,n,r,i,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=T,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?K.makeFromBucketSpec(i,this._host):Nt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?K.makeFromBucketSpec(this._url,t):Nt(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Z("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Z("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(S.b)(this,void 0,void 0,function(){var t,e;return Object(S.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(S.b)(this,void 0,void 0,function(){var t;return Object(S.d)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Ct(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new W(D());var i=function(t,e,n,r,i,s){var o=tt(t.urlParams),a=t.url+o,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new et(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(S.b)(this,void 0,void 0,function(){var e;return Object(S.d)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function Mt(t,e){return Rt(t=Object(E.i)(t),e)}var Ft,Vt,Ut=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Bt=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Ut(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Ut(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new Ut(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Ut(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),qt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Ht(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Ht(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Ht=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return jt(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Bt(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new xt(t,new st(e),n)}(t=Object(E.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=L.RAW),this._throwIfRoot("putString");var r=F(e,t),i=Object(S.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Bt(new xt(this._delegate,new st(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,kt(t=Object(E.i)(t))).then(function(t){return new qt(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return At(t=Object(E.i)(t),e)}(this._delegate,t||void 0).then(function(t){return new qt(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(S.b)(this,void 0,void 0,function(){var e;return Object(S.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=vt(t.storage,t._location,ht()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(E.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(S.b)(this,void 0,void 0,function(){var n;return Object(S.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=J(e.fullServerUrl(),t.host),s=dt(n,r),o=t.maxOperationRetryTime,a=new pt(i,"PATCH",mt(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=bt(e),a}(t.storage,t._location,e,ht()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=Object(E.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(S.b)(this,void 0,void 0,function(){var e;return Object(S.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=J(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new pt(r,"GET",function(t,e){return function(n,r){var i=ft(t,r,e);return gt(null!==i),function(t,e,n){var r=ot(e);if(null===r)return null;if(!Q(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var s=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return J("/b/"+s(t.bucket)+"/o/"+s(r),n)+tt({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return s.errorHandler=bt(e),s}(t.storage,t._location,ht()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new x("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(E.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(S.b)(this,void 0,void 0,function(){var e;return Object(S.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=J(e.fullServerUrl(),t.host),r=new pt(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=bt(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(E.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw P(t)},t}(),zt=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Dt(t))throw j("ref() expected a child path but got a URL, use refFromURL instead.");return new Ht(Mt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Dt(t))throw j("refFromURL() expected a full URL but got a child path, use ref() instead.");try{K.makeFromUrl(t,this._delegate.host)}catch(e){throw j("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ht(Mt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function Gt(t){const e=function(t){return new p.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(Object(y.a)(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(b.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function $t(t,e,n){return{getDownloadURL:()=>Object(g.a)(void 0).pipe(Object(v.b)(e.outsideAngular),Object(_.a)(()=>t.getDownloadURL()),n),getMetadata:()=>Object(g.a)(void 0).pipe(Object(v.b)(e.outsideAngular),Object(_.a)(()=>t.getMetadata()),n),delete:()=>Object(m.a)(t.delete()),child:r=>$t(t.child(r),e,n),updateMetadata:e=>Object(m.a)(t.updateMetadata(e)),put:(e,n)=>Gt(t.put(e,n)),putString:(e,n,r)=>Gt(t.putString(e,n,r)),listAll:()=>Object(m.a)(t.listAll())}}Vt={TaskState:q,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:L,Storage:Lt,Reference:Ht},(Ft=w.a).INTERNAL.registerComponent(new O.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new zt(r,new Lt(r,i,s,new $,n,w.a.SDK_VERSION))},"PUBLIC").setServiceProps(Vt).setMultipleInstances(!0)),Ft.registerVersion("@firebase/storage","0.5.5");const Kt=new u.r("angularfire2.storageBucket"),Wt=new u.r("angularfire2.storage.maxUploadRetryTime"),Qt=new u.r("angularfire2.storage.maxOperationRetryTime");let Yt=(()=>{class t{constructor(t,e,n,r,s,o,a){this.schedulers=new i.d(s),this.keepUnstableUntilFirst=Object(i.h)(this.schedulers);const u=Object(i.g)(t,s,e);this.storage=Object(i.f)(`${u.name}.storage.${n}`,"AngularFireStorage",u,()=>{const t=s.runOutsideAngular(()=>u.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),a&&t.setMaxOperationRetryTime(a),t},[o,a])}ref(t){return $t(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return $t(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return $t(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(u.ac(i.c),u.ac(i.b,8),u.ac(Kt,8),u.ac(u.C),u.ac(u.A),u.ac(Wt,8),u.ac(Qt,8))},t.\u0275prov=u.Kb({factory:function(){return new t(u.ac(i.c),u.ac(i.b,8),u.ac(Kt,8),u.ac(u.C),u.ac(u.A),u.ac(Wt,8),u.ac(Qt,8))},token:t,providedIn:"any"}),t})();var Xt=n("3Pt+");function Zt(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}let Jt=(()=>{let t=class{constructor(t,e){this.elem=t,this.renderer=e,this.overflow="hidden",this.rows=1}ngAfterViewInit(){this.resize()}ngDoCheck(){this.resize()}resize(){const t=this.elem.nativeElement,e=t.offsetHeight-t.clientHeight;this.setHeight("auto"),this.setHeight(`${t.scrollHeight+e}px`)}setHeight(t){this.renderer.setStyle(this.elem.nativeElement,"height",t)}};return t.\u0275fac=function(e){return new(e||t)(u.Ob(u.l),u.Ob(u.E))},t.\u0275dir=u.Jb({type:t,selectors:[["textarea","autosize",""]],hostVars:3,hostBindings:function(t,e){1&t&&u.ec("input",function(){return e.resize()}),2&t&&(u.Wb("rows",e.rows),u.Ac("overflow",e.overflow))},inputs:{rows:"rows"}}),t=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Zt("design:paramtypes",[u.l,u.E])],t),t})(),te=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({imports:[[a.c]]}),t})();function ee(t,e){1&t&&(u.Tb(0,"div",3),u.Pb(1,"div",4),u.Tb(2,"p",5),u.Dc(3,"Please wait a second"),u.Sb(),u.Sb())}function ne(t,e){if(1&t){const t=u.Ub();u.Tb(0,"img",33),u.ec("click",function(){return u.wc(t),u.ic(),u.vc(16).click()}),u.Sb()}if(2&t){const t=u.ic(2);u.nc("src",t.imgSrc,u.xc)}}function re(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",34),u.ec("click",function(){return u.wc(t),u.ic(),u.vc(16).click()}),u.Tb(1,"div",35),u.hc(),u.Tb(2,"svg",36),u.Pb(3,"path",37),u.Pb(4,"path",38),u.Sb(),u.Sb(),u.gc(),u.Tb(5,"p",3),u.Dc(6," (click) tambahkan gambar "),u.Sb(),u.Sb()}}function ie(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",39),u.Pb(1,"div",13),u.Tb(2,"div",22),u.Tb(3,"textarea",40),u.ec("change",function(n){u.wc(t);const r=e.index;return u.ic(2).changeListParagraph(n,r)}),u.Dc(4),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=e.$implicit;u.Cb(4),u.Ec(t)}}function se(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",39),u.Pb(1,"div",13),u.Tb(2,"div",22),u.Tb(3,"textarea",41),u.ec("change",function(e){return u.wc(t),u.ic(2).saveParagraph(e)}),u.Sb(),u.Sb(),u.Sb()}}function oe(t,e){if(1&t){const t=u.Ub();u.Rb(0),u.Tb(1,"form",6,7),u.ec("ngSubmit",function(){return u.wc(t),u.ic().saveForm()}),u.Tb(3,"div",8),u.Tb(4,"div",9),u.Tb(5,"div",10),u.Tb(6,"button",11),u.ec("click",function(){return u.wc(t),u.ic().tapPublished()}),u.Dc(7," Published "),u.Sb(),u.Sb(),u.Tb(8,"div",12),u.Pb(9,"div",13),u.Tb(10,"div",14),u.Tb(11,"div",15),u.Tb(12,"div",16),u.Bc(13,ne,1,1,"img",17),u.Bc(14,re,7,0,"div",18),u.Sb(),u.Tb(15,"input",19,20),u.ec("change",function(e){return u.wc(t),u.ic().getImage(e)}),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Tb(17,"div",12),u.Tb(18,"div",13),u.Tb(19,"h1",21),u.Dc(20,"Title"),u.Sb(),u.Sb(),u.Tb(21,"div",22),u.Tb(22,"textarea",23),u.ec("ngModelChange",function(e){return u.wc(t),u.ic().data.title=e}),u.Sb(),u.Sb(),u.Sb(),u.Tb(23,"div",12),u.Tb(24,"div",13),u.Tb(25,"h6",21),u.Dc(26,"Description"),u.Sb(),u.Sb(),u.Tb(27,"div",22),u.Tb(28,"textarea",24),u.ec("ngModelChange",function(e){return u.wc(t),u.ic().data.description=e}),u.Sb(),u.Sb(),u.Sb(),u.Bc(29,ie,5,1,"div",25),u.Bc(30,se,4,0,"div",26),u.Tb(31,"div",27),u.Pb(32,"div",13),u.Tb(33,"div",22),u.Tb(34,"div",15),u.Tb(35,"button",28),u.Dc(36," Cancel "),u.Sb(),u.Tb(37,"button",29),u.ec("click",function(){return u.wc(t),u.ic().addParagraph()}),u.hc(),u.Tb(38,"svg",30),u.Pb(39,"path",31),u.Sb(),u.Dc(40," Add new paragraph "),u.Sb(),u.gc(),u.Tb(41,"button",32),u.ec("click",function(){return u.wc(t),u.ic().saveForm()}),u.Dc(42," Save "),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Qb()}if(2&t){const t=u.vc(2),e=u.ic();u.Cb(6),u.nc("disabled",!t.valid)("disabled",e.showParagraph),u.Cb(7),u.nc("ngIf",null!=e.imgSrc),u.Cb(1),u.nc("ngIf",null==e.imgSrc),u.Cb(1),u.nc("disabled",e.loading),u.Cb(7),u.nc("ngModel",e.data.title),u.Cb(6),u.nc("ngModel",e.data.description),u.Cb(1),u.nc("ngForOf",e.listParagraph),u.Cb(1),u.nc("ngIf",e.showParagraph),u.Cb(5),u.nc("disabled",e.showParagraph),u.Cb(2),u.nc("disabled",e.showParagraph),u.Cb(4),u.nc("disabled",!t.valid)("disabled",e.showParagraph)}}const ae=[{path:"",component:l,children:[{path:"detail",component:(()=>{class t{constructor(t,e,n,r,i,s){this.fire=t,this.router=e,this.auth=n,this.datePipe=r,this.storage=i,this.listParagraph=[],this.data={},this.dataUser={},this.showParagraph=!1,this.loading=!0,this.publish=!1,this.now=Date.now(),this.checkUser(),this.idBlogs=s.snapshot.queryParams.id,this.getData()}ngOnInit(){}checkUser(){this.auth.authState.subscribe(t=>{t?this.fire.collection("user").ref.where("email","==",t.email).onSnapshot(t=>{t.forEach(t=>{this.dataUser=t.data()})}):this.router.navigateByUrl("/auth")})}addParagraph(){this.showParagraph=!0}getImage(t){if(t.target.files&&t.target.files[0]){const e=new FileReader;e.onload=t=>this.imgSrc=t.target.result,e.readAsDataURL(t.target.files[0]),this.selectedImage=t.target.files[0],this.imgUrl=t.target.files[0].name}}getData(){null!=this.idBlogs?this.fire.collection("blogs").doc(this.idBlogs).get().subscribe(t=>{this.data=t.data(),this.listParagraph=this.data.paragraph,this.imgSrc=this.data.image_url,this.loading=!1}):this.loading=!1}saveParagraph(t){this.listParagraph.push(t.target.value),this.showParagraph=!1}changeListParagraph(t,e){this.listParagraph[e]=t.target.value}tapPublished(){this.publish=!0}saveForm(){if(this.loading=!0,this.data.created_at=this.datePipe.transform(this.now,"MMM d, y, h:mm:ss a"),this.data.paragraph=this.listParagraph,this.data.author=this.dataUser.username,this.data.status=this.publish?"published":"drafts",null==this.imgUrl)this.fire.collection("blogs").doc(this.idBlogs).update(this.data).then(t=>{this.loading=!1,this.router.navigateByUrl("/me")});else{var t=`blogs/${this.imgUrl.split(".").slice(0,-1).join(".")}_${(new Date).getTime()}`,e=this.storage.ref(t);this.storage.upload(t,this.selectedImage).snapshotChanges().pipe(Object(f.a)(()=>e.getDownloadURL().subscribe(t=>{this.data.image_url=t,null==this.idBlogs?this.fire.collection("blogs").add(this.data).then(t=>{this.loading=!1,this.router.navigateByUrl("/me")}):this.fire.collection("blogs").doc(this.idBlogs).update(this.data).then(t=>{this.loading=!1,this.router.navigateByUrl("/me")}),this.loading=!1}))).subscribe()}}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(d.a),u.Ob(o.b),u.Ob(c.a),u.Ob(a.e),u.Ob(Yt),u.Ob(o.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-detail"]],decls:3,vars:2,consts:[[1,"container","mt-6"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow"],[1,"muted-text"],[3,"ngSubmit"],["formData","ngForm"],[1,"row","justify-content-center","m-0"],[1,"col-md-10"],[1,"row","my-2","justify-content-end"],["type","submit",1,"btn","btn-sm","btn-success","cursor-pointer","btn-create","border","mr-2",3,"disabled","click"],[1,"row","align-items-center","mb-5"],[1,"col-md-2"],[1,"col","p-2"],[1,"row","justify-content-center"],[1,"col-10"],["class","ml-auto rounded cursor-pointer img-fluid img-list","style","width: 100% !important;",3,"src","click",4,"ngIf"],["class","border cursor-pointer rounded shadow-sm","style","height: 100px; width: 100%;",3,"click",4,"ngIf"],["type","file","accept","image/*","id","image","size","20","required","","hidden","",1,"form-control-file",3,"disabled","change"],["fileUpload",""],[1,"muted-text","border-right"],[1,"col"],["autosize","","placeholder","Leave a comment here","name","title","required","",1,"form-control","title",3,"ngModel","ngModelChange"],["autosize","","placeholder","Leave a comment here","name","description","required","",1,"form-control","border-bottom",3,"ngModel","ngModelChange"],["class","row align-items-center mb-3",4,"ngFor","ngForOf"],["class","row align-items-center mb-3",4,"ngIf"],[1,"row","my-5"],["type","button","routerLink","/me/home",1,"btn","btn-sm","btn-danger","cursor-pointer","btn-create","border","mr-2",3,"disabled"],["type","button",1,"btn","btn-sm","btn-outline-dark","cursor-pointer","btn-create","border","mr-2",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["type","button",1,"btn","btn-sm","btn-dark","cursor-pointer","btn-create","border","mr-2",3,"disabled","click"],[1,"ml-auto","rounded","cursor-pointer","img-fluid","img-list",2,"width","100% !important",3,"src","click"],[1,"border","cursor-pointer","rounded","shadow-sm",2,"height","100px","width","100%",3,"click"],[1,"d-flex","justify-content-center","py-2"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-image"],["d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],["d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"],[1,"row","align-items-center","mb-3"],["autosize","","placeholder","Leave a comment here","name","paragraph","required","",1,"form-control","border",3,"change"],["autosize","","autofocus","","placeholder","Leave a comment here","name","description","required","",1,"form-control","border-bottom",3,"change"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Bc(1,ee,4,0,"div",1),u.Bc(2,oe,43,13,"ng-container",2),u.Sb()),2&t&&(u.Cb(1),u.nc("ngIf",e.loading),u.Cb(1),u.nc("ngIf",!e.loading))},directives:[a.m,Xt.k,Xt.f,Xt.g,Jt,Xt.a,Xt.j,Xt.e,Xt.h,a.l,o.c],styles:[".mt-6[_ngcontent-%COMP%]{margin-top:5rem!important}h1[_ngcontent-%COMP%]{font-size:34px!important;font-weight:400}.btn-create[_ngcontent-%COMP%]{border-radius:500px!important;padding:7px 16px 9px!important}.border-bottom[_ngcontent-%COMP%]{border-bottom:.9px solid #00000020!important}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px!important;color:#b3b3b3!important}nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000!important;border-bottom:.9px solid #000!important}h1.muted-text[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#b3b3b3!important;font-weight:500!important;line-height:2}textarea.title[_ngcontent-%COMP%]{font-size:34px!important;font-weight:500}textarea[_ngcontent-%COMP%]{border:none!important}textarea[_ngcontent-%COMP%]:focus{border-color:#000;box-shadow:0 0 0 .2rem #00000080}"]}),t})()},{path:"user",component:(()=>{class t{constructor(t,e,n){this.dataUser={},e.authState.subscribe(e=>{e?n.collection("user").ref.where("email","==",e.email).onSnapshot(t=>{t.forEach(t=>{this.dataUser=t.data()})}):t.navigateByUrl("/auth")})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(o.b),u.Ob(c.a),u.Ob(d.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-user"]],decls:8,vars:2,consts:[[1,"row","justify-content-center","m-0"],[1,"col-6"],[1,"container","mt-6"],[1,"mb-3"],[1,"my-2","pb-2","border-bottom"],[1,"text-muted"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Tb(1,"div",1),u.Tb(2,"div",2),u.Tb(3,"h1",3),u.Dc(4),u.Sb(),u.Tb(5,"div",4),u.Tb(6,"div",5),u.Dc(7),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.Cb(4),u.Ec(e.dataUser.username),u.Cb(3),u.Fc(" ",e.dataUser.email," "))},styles:[".mt-6[_ngcontent-%COMP%]{margin-top:5rem!important}h1[_ngcontent-%COMP%]{font-size:34px!important;font-weight:400}.btn-create[_ngcontent-%COMP%]{border-radius:500px!important;padding:7px 16px 9px!important}.border-bottom[_ngcontent-%COMP%]{border-bottom:.9px solid #00000020!important}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px!important;color:#b3b3b3!important}nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#000!important;border-bottom:.9px solid #000!important}h1.muted-text[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#b3b3b3!important;font-weight:500!important;line-height:2}textarea.title[_ngcontent-%COMP%]{font-size:34px!important;font-weight:500}textarea[_ngcontent-%COMP%]{border:none!important}textarea[_ngcontent-%COMP%]:focus{border-color:#000;box-shadow:0 0 0 .2rem #00000080}"]}),t})()},{path:"home",loadChildren:()=>n.e(4).then(n.bind(null,"Zn4l")).then(t=>t.HomeModule)},{path:"",redirectTo:"/me/home/drafts",pathMatch:"full"}]}];let ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({providers:[a.e],imports:[[a.c,o.f.forChild(ae),s.a,Xt.b,te,i.a.initializeApp(r.a.firebase)]]}),t})();u.yc(l,[h,o.g],[])},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return dn}),n.d(e,"b",function(){return nl}),n.d(e,"c",function(){return Xc}),n.d(e,"d",function(){return Qc}),n.d(e,"e",function(){return Yc}),n.d(e,"f",function(){return Ql}),n.d(e,"g",function(){return Vl}),n.d(e,"h",function(){return Gu}),n.d(e,"i",function(){return dl}),n.d(e,"j",function(){return gu}),n.d(e,"k",function(){return sl}),n.d(e,"l",function(){return vu}),n.d(e,"m",function(){return Ir}),n.d(e,"n",function(){return kc}),n.d(e,"o",function(){return ks}),n.d(e,"p",function(){return Rn}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return fn}),n.d(e,"s",function(){return zs}),n.d(e,"t",function(){return Fu}),n.d(e,"u",function(){return Uu}),n.d(e,"v",function(){return il}),n.d(e,"w",function(){return nc}),n.d(e,"x",function(){return Bl}),n.d(e,"y",function(){return ec}),n.d(e,"z",function(){return Rl}),n.d(e,"A",function(){return ml}),n.d(e,"B",function(){return Nn}),n.d(e,"C",function(){return el}),n.d(e,"D",function(){return tl}),n.d(e,"E",function(){return Su}),n.d(e,"F",function(){return wu}),n.d(e,"G",function(){return Nr}),n.d(e,"H",function(){return Ou}),n.d(e,"I",function(){return Or}),n.d(e,"J",function(){return Ln}),n.d(e,"K",function(){return zl}),n.d(e,"L",function(){return Xu}),n.d(e,"M",function(){return El}),n.d(e,"N",function(){return pn}),n.d(e,"O",function(){return xu}),n.d(e,"P",function(){return Tu}),n.d(e,"Q",function(){return ic}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return Nl}),n.d(e,"T",function(){return Dl}),n.d(e,"U",function(){return d}),n.d(e,"V",function(){return jn}),n.d(e,"W",function(){return jl}),n.d(e,"X",function(){return Kl}),n.d(e,"Y",function(){return xl}),n.d(e,"Z",function(){return rl}),n.d(e,"ab",function(){return As}),n.d(e,"bb",function(){return ha}),n.d(e,"cb",function(){return m}),n.d(e,"db",function(){return Sr}),n.d(e,"eb",function(){return ir}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Wn}),n.d(e,"hb",function(){return Zn}),n.d(e,"ib",function(){return Yn}),n.d(e,"jb",function(){return Qn}),n.d(e,"kb",function(){return Xn}),n.d(e,"lb",function(){return aa}),n.d(e,"mb",function(){return $l}),n.d(e,"nb",function(){return ua}),n.d(e,"ob",function(){return ca}),n.d(e,"pb",function(){return Kn}),n.d(e,"qb",function(){return B}),n.d(e,"rb",function(){return to}),n.d(e,"sb",function(){return So}),n.d(e,"tb",function(){return _o}),n.d(e,"ub",function(){return wo}),n.d(e,"vb",function(){return oa}),n.d(e,"wb",function(){return kt}),n.d(e,"xb",function(){return l}),n.d(e,"yb",function(){return Gn}),n.d(e,"zb",function(){return $s}),n.d(e,"Ab",function(){return wt}),n.d(e,"Bb",function(){return fu}),n.d(e,"Cb",function(){return ji}),n.d(e,"Db",function(){return so}),n.d(e,"Eb",function(){return Uo}),n.d(e,"Fb",function(){return ea}),n.d(e,"Gb",function(){return Vo}),n.d(e,"Hb",function(){return qc}),n.d(e,"Ib",function(){return J}),n.d(e,"Jb",function(){return at}),n.d(e,"Kb",function(){return w}),n.d(e,"Lb",function(){return S}),n.d(e,"Mb",function(){return it}),n.d(e,"Nb",function(){return ut}),n.d(e,"Ob",function(){return co}),n.d(e,"Pb",function(){return mo}),n.d(e,"Qb",function(){return bo}),n.d(e,"Rb",function(){return yo}),n.d(e,"Sb",function(){return go}),n.d(e,"Tb",function(){return po}),n.d(e,"Ub",function(){return vo}),n.d(e,"Vb",function(){return an}),n.d(e,"Wb",function(){return na}),n.d(e,"Xb",function(){return nu}),n.d(e,"Yb",function(){return iu}),n.d(e,"Zb",function(){return ru}),n.d(e,"ac",function(){return An}),n.d(e,"bc",function(){return cn}),n.d(e,"cc",function(){return Wc}),n.d(e,"dc",function(){return lo}),n.d(e,"ec",function(){return Eo}),n.d(e,"fc",function(){return Hc}),n.d(e,"gc",function(){return Oe}),n.d(e,"hc",function(){return Ee}),n.d(e,"ic",function(){return xo}),n.d(e,"jc",function(){return Tc}),n.d(e,"kc",function(){return xc}),n.d(e,"lc",function(){return Io}),n.d(e,"mc",function(){return ko}),n.d(e,"nc",function(){return ho}),n.d(e,"oc",function(){return Ao}),n.d(e,"pc",function(){return jo}),n.d(e,"qc",function(){return vc}),n.d(e,"rc",function(){return _c}),n.d(e,"sc",function(){return wc}),n.d(e,"tc",function(){return Sc}),n.d(e,"uc",function(){return Uc}),n.d(e,"vc",function(){return uo}),n.d(e,"wc",function(){return Wt}),n.d(e,"xc",function(){return Tr}),n.d(e,"yc",function(){return tt}),n.d(e,"zc",function(){return st}),n.d(e,"Ac",function(){return Fo}),n.d(e,"Bc",function(){return ao}),n.d(e,"Cc",function(){return Kc}),n.d(e,"Dc",function(){return Zo}),n.d(e,"Ec",function(){return Jo}),n.d(e,"Fc",function(){return ta}),n.d(e,"Gc",function(){return Bc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${b(t)} found${n}`)}function _(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return O(t,x)||O(t,k)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(I))?t[C]:null}const x=u({"\u0275prov":u}),C=u({"\u0275inj":u}),k=u({ngInjectableDef:u}),I=u({ngInjectorDef:u});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let j;function D(t){const e=j;return j=t,e}function P(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function R(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,B=M||U||F||V,q={},H=[],z=[],G=u({"\u0275cmp":u}),$=u({"\u0275dir":u}),K=u({"\u0275pipe":u}),W=u({"\u0275mod":u}),Q=u({"\u0275loc":u}),Y=u({"\u0275fac":u}),X=u({__NG_ELEMENT_ID__:u});let Z=0;function J(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function tt(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(et),r.pipeDefs=()=>n.map(nt)}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[K]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function st(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function ot(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=J;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),Et}function Et(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _t(u&&u.currentValue,e,o===q),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}wt.ngInherit=!0;const xt="http://www.w3.org/2000/svg";let Ct;function kt(t){Ct=t}function It(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function At(t){return!!t.listen}const jt={createRenderer:(t,e)=>It()};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return Dt(e[t])}function Rt(t,e){return Dt(e[t.index])}function Nt(t,e){return t.data[e]}function Lt(t,e){return t[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Vt(t){return 4==(4&t[2])}function Ut(t){return 128==(128&t[2])}function Bt(t,e){return null==e?null:t[e]}function qt(t){t[18]=0}function Ht(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const zt={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return zt.bindingsEnabled}function $t(){return zt.lFrame.lView}function Kt(){return zt.lFrame.tView}function Wt(t){zt.lFrame.contextLView=t}function Qt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return zt.lFrame.currentTNode}function Xt(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zt(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return zt.lFrame.isParent}function te(){zt.lFrame.isParent=!1}function ee(){return zt.isInCheckNoChangesMode}function ne(t){zt.isInCheckNoChangesMode=t}function re(){const t=zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ie(){return zt.lFrame.bindingIndex}function se(){return zt.lFrame.bindingIndex++}function oe(t){const e=zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ae(t){zt.lFrame.inI18n=t}function ue(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ce(e)}function ce(t){zt.lFrame.currentDirectiveIndex=t}function le(){return zt.lFrame.currentQueryIndex}function he(t){zt.lFrame.currentQueryIndex=t}function fe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=zt.lFrame=ge();return r.currentTNode=e,r.lView=t,!0}function pe(t){const e=ge(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ge(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const be=ye;function ve(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _e(){return zt.lFrame.selectedIndex}function we(t){zt.lFrame.selectedIndex=t}function Se(){const t=zt.lFrame;return Nt(t.tView,t.selectedIndex)}function Ee(){zt.lFrame.currentNamespace=xt}function Oe(){zt.lFrame.currentNamespace=null}function Te(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function xe(t,e,n){Ie(t,e,3,n)}function Ce(t,e,n,r){(3&t[2])===n&&Ie(t,e,n,r)}function ke(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ie(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ae(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ae(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const je=-1;class De{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Pe(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ne(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Re(t){return 3===t||4===t||6===t}function Ne(t){return 64===t.charCodeAt(0)}function Le(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Me(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Me(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Fe(t){return t!==je}function Ve(t){return 32767&t}function Ue(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Be=!0;function qe(t){const e=Be;return Be=t,e}let He=0;function ze(t,e){const n=$e(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ge(r.data,t),Ge(e,null),Ge(r.blueprint,null));const i=Ke(t,e),s=t.injectorIndex;if(Fe(i)){const t=Ve(i),n=Ue(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ge(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $e(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ke(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return je;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return je}function We(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=He++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Qe(t,e,n){if(n&A.Optional)return t;v(e,"NodeInjector")}function Ye(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&A.Optional):P(e,r,n&A.Optional)}finally{D(s)}}return Qe(r,e,n)}function Xe(t,e,n,r=A.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Je:e}(n);if("function"==typeof s){if(!de(e,t,r))return r&A.Host?Qe(i,n,r):Ye(e,n,r,i);try{const t=s();if(null!=t||r&A.Optional)return t;v(n)}finally{be()}}else if("number"==typeof s){let i=null,o=$e(t,e),a=je,u=r&A.Host?e[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Ke(t,e):e[o+8],a!==je&&sn(r,!1)?(i=e[1],o=Ve(a),e=Ue(a,e)):o=-1);-1!==o;){const t=e[1];if(rn(s,o,t.data)){const t=tn(o,e,n,i,r,u);if(t!==Ze)return t}a=e[o+8],a!==je&&sn(r,e[1].data[o+8]===u)&&rn(s,o,e)?(i=t,o=Ve(a),e=Ue(a,e)):o=-1}}}return Ye(e,n,r,i)}const Ze={};function Je(){return new on(Qt(),$t())}function tn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=en(a,o,n,null==r?mt(a)&&Be:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==u?nn(e,o,u,a):Ze}function en(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&bt(t)&&t.type===n)return u}return null}function nn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof De){const o=i;o.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=qe(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;de(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),qe(a),o.resolving=!1,be()}}return i}function rn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function sn(t,e){return!(t&A.Self||t&A.Host&&e)}class on{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Xe(this._tNode,this._lView,t,void 0,e)}}function an(t){return R(()=>{const e=t.prototype.constructor,n=e[Y]||un(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||un(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function un(t){return g(t)?()=>{const e=un(p(t));return e&&e()}:vt(t)}function cn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Re(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Qt(),t)}const ln="__parameters__";function hn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(ln)?t[ln]:Object.defineProperty(t,ln,{value:[]})[ln];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class fn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dn=new fn("AnalyzeForEntryComponents"),pn=Function;function gn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),gn(r,e)):e!==t&&e.push(r)}return e}function mn(t,e){t.forEach(t=>Array.isArray(t)?mn(t,e):e(t))}function yn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function _n(t,e,n){let r=Sn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wn(t,e){const n=Sn(t,e);if(n>=0)return t[1|n]}function Sn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const En={},On=/\n/gm,Tn="__source",xn=u({provide:String,useValue:u});let Cn;function kn(t){const e=Cn;return Cn=t,e}function In(t,e=A.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?P(t,void 0,e):Cn.get(t,e&A.Optional?null:void 0,e)}function An(t,e=A.Default){return(j||In)(p(t),e)}const jn=An;function Dn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(An(t,n))}else e.push(An(r))}return e}function Pn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Rn=Pn(hn("Inject",t=>({token:t})),-1),Nn=Pn(hn("Optional"),8),Ln=Pn(hn("SkipSelf"),4);let Mn;function Fn(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,B.trustedTypes))try{Mn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}class Vn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Un extends Vn{getTypeName(){return"HTML"}}class Bn extends Vn{getTypeName(){return"Style"}}class qn extends Vn{getTypeName(){return"Script"}}class Hn extends Vn{getTypeName(){return"URL"}}class zn extends Vn{getTypeName(){return"ResourceURL"}}function Gn(t){return t instanceof Vn?t.changingThisBreaksApplicationSecurity:t}function $n(t,e){const n=Kn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Kn(t){return t instanceof Vn&&t.getTypeName()||null}function Wn(t){return new Un(t)}function Qn(t){return new Bn(t)}function Yn(t){return new qn(t)}function Xn(t){return new Hn(t)}function Zn(t){return new zn(t)}function Jn(t){const e=new er(t);return function(){try{return!!(new window.DOMParser).parseFromString(Fn(""),"text/html")}catch(t){return!1}}()?new tr(e):e}class tr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class er{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Fn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ir(t){return(t=String(t)).match(nr)||t.match(rr)?t:"unsafe:"+t}function sr(t){return(t=String(t)).split(",").map(t=>ir(t.trim())).join(", ")}function or(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ar(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ur=or("area,br,col,hr,img,wbr"),cr=or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lr=or("rp,rt"),hr=ar(lr,cr),fr=ar(ur,ar(cr,or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ar(lr,or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hr),dr=or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pr=or("srcset"),gr=ar(dr,pr,or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mr=or("script,style,template");class yr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!fr.hasOwnProperty(e))return this.sanitizedSomething=!0,!mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!gr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;dr[i]&&(s=ir(s)),pr[i]&&(s=sr(s)),this.buf.push(" ",e,'="',_r(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();fr.hasOwnProperty(e)&&!ur.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(_r(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const br=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~ |!])/g;function _r(t){return t.replace(/&/g,"&amp;").replace(br,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wr;function Sr(t,e){let n=null;try{wr=wr||Jn(t);let r=e?String(e):"";n=wr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=wr.getInertBodyElement(r)}while(r!==s);return Fn((new yr).sanitizeChildren(Er(n)||n))}finally{if(n){const t=Er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Or=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tr(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(Or.URL,t)||"":$n(t,"URL")?Gn(t):ir(y(t))}function xr(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function kr(t,...e){t.error(...e)}class Ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||kr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?xr(t)?xr(t):this._findContext(Cr(t)):null}_findOriginalError(t){let e=Cr(t);for(;e&&Cr(e);)e=Cr(e);return e}}const Ar=/^>|^->|<!--|-->|--!>|<!-$/g,jr=/(<|>)/;function Dr(t,e){t.__ngContext__=e}const Pr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Rr(t){return t instanceof Function?t():t}var Nr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Lr;function Mr(t,e){return Lr(t,e)}function Fr(t){const e=t[3];return pt(e)?e[3]:e}function Vr(t){return Br(t[13])}function Ur(t){return Br(t[4])}function Br(t){for(;null!==t&&!pt(t);)t=t[4];return t}function qr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?ti(e,n,a):Jr(e,n,a,i||null,!0):1===t&&null!==n?Jr(e,n,a,i||null,!0):2===t?fi(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Dt(n)&&qr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];pi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Hr(t,e){return At(t)?t.createText(e):t.createTextNode(e)}function zr(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}function Gr(t,e){return t.createComment(function(t){return t.replace(Ar,t=>t.replace(jr,"\u200b$1\u200b"))}(e))}function $r(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Kr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ht(i,-1)),n.splice(r,1)}function Wr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Kr(s,r),e>0&&(t[n-1][4]=r[4]);const o=bn(t,ft+e);pi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Qr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&pi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Yr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Yr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Yr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Yr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof De)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Dt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Kr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Xr(t,e,n){return Zr(t,e.parent,n)}function Zr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Rt(r,n)}function Jr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ti(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function ei(t,e,n,r,i){null!==r?Jr(t,e,n,r,i):ti(t,e,n)}function ni(t,e){return At(t)?t.parentNode(e):e.parentNode}function ri(t,e,n){return oi(t,e,n)}function ii(t,e,n){return 40&t.type?Rt(t,n):null}let si,oi=ii;function ai(t,e){oi=t,si=e}function ui(t,e,n,r){const i=Xr(t,r,e),s=e[11],o=ri(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)ei(s,i,n[a],o,!1);else ei(s,i,n,o,!1);void 0!==si&&si(s,r,e,n,i)}function ci(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return hi(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ci(t,n);{const n=t[e.index];return pt(n)?hi(-1,n):Dt(n)}}if(32&n)return Mr(e,t)()||Dt(t[e.index]);{const n=li(t,e);return null!==n?Array.isArray(n)?n[0]:ci(Fr(t[16]),n):ci(t,e.next)}}return null}function li(t,e){return null!==e?t[16][6].projection[e.projection]:null}function hi(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ci(t,r)}return e[7]}function fi(t,e,n){const r=ni(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function di(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Dr(Dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)di(t,e,n.child,r,i,s,!1),qr(e,t,i,a,s);else if(32&u){const o=Mr(n,r);let u;for(;u=o();)qr(e,t,i,u,s);qr(e,t,i,a,s)}else 16&u?gi(t,e,r,n,i,s):qr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function pi(t,e,n,r,i,s){di(n,r,t.firstChild,e,i,s,!1)}function gi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)qr(e,t,i,a[u],s);else di(t,e,a,o[3],i,s,!0)}function mi(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function yi(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function bi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const vi="ng-template";function _i(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==bi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function wi(t){return 4===t.type&&t.value!==vi}function Si(t,e,n){return e===(4!==t.type||n?t.value:vi)}function Ei(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Re(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Si(t,u,n)||""===u&&1===e.length){if(Oi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!_i(t.attrs,c,n)){if(Oi(r))return!1;o=!0}continue}const l=Ti(8&r?"class":u,i,wi(t),n);if(-1===l){if(Oi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==bi(e,c,0)||2&r&&c!==t){if(Oi(r))return!1;o=!0}}}}else{if(!o&&!Oi(r)&&!Oi(u))return!1;if(o&&Oi(u))continue;o=!1,r=u|1&r}}return Oi(r)||o}function Oi(t){return 0==(1&t)}function Ti(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ei(t,e[r],n))return!0;return!1}function Ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ki(t,e){return t?":not("+e.trim()+")":e}function Ii(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Oi(o)||(e+=ki(s,i),i=""),r=o,s=s||!Oi(r);n++}return""!==i&&(e+=ki(s,i)),e}const Ai={};function ji(t){Di(Kt(),$t(),_e()+t,ee())}function Di(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&xe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ce(e,r,0,n)}we(n)}function Pi(t,e){return t<<17|e<<2}function Ri(t){return t>>17&32767}function Ni(t){return 2|t}function Li(t){return(131068&t)>>2}function Mi(t,e){return-131069&t|e<<2}function Fi(t){return 1|t}function Vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];he(i),n.contentQueries(2,e[s],s)}}}function Ui(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,qt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Bi(t,e,n,r,i){let s=t.data[e];if(null===s)s=qi(t,e,n,r,i),zt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Xt();s.injectorIndex=null===t?-1:t.injectorIndex}return Zt(s,!0),s}function qi(t,e,n,r,i){const s=Yt(),o=Jt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Hi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zi(t,e,n){pe(e);try{const r=t.viewQuery;null!==r&&ws(1,r,n);const i=t.template;null!==i&&Ki(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Vi(t,e),t.staticViewQueries&&ws(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ms(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ve()}}function Gi(t,e,n,r){const i=e[2];if(256==(256&i))return;pe(e);const s=ee();try{qt(e),zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ki(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&xe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ce(e,n,0,null),ke(e,0)}if(function(t){for(let e=Vr(t);null!==e;e=Ur(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ht(r,1),n[2]|=1024}}}(e),function(t){for(let e=Vr(t);null!==e;e=Ur(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ut(n)&&Gi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Vi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&xe(e,n)}else{const n=t.contentHooks;null!==n&&Ce(e,n,1),ke(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,s=n[++t],o=n[++t];ue(s,i),o(2,e[i])}}}finally{we(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ps(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ws(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&xe(e,n)}else{const n=t.viewHooks;null!==n&&Ce(e,n,2),ke(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ht(e[3],-1))}finally{ve()}}function $i(t,e,n,r){const i=e[10],s=!ee(),o=Vt(e);try{s&&!o&&i.begin&&i.begin(),o&&zi(t,e,r),Gi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ki(t,e,n,r,i){const s=_e(),o=2&r;try{we(-1),o&&e.length>ht&&Di(t,e,ht,ee()),n(r,i)}finally{we(s)}}function Wi(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Qi(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ze(n,e),Dr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=bt(r);s&&cs(e,n,r);const u=nn(e,t,a,n);Dr(u,e),null!==o&&hs(0,a-i,u,r,0,o),s&&(Mt(n.index,e)[8]=u)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=zt.lFrame.currentDirectiveIndex;try{we(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ce(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||is(r,i)}}finally{we(-1),ce(o)}}(t,e,n))}function Yi(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zi(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ai);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ji(t,e,n,r){const i=Es(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Os(t).push(r,i.length-1))}function ts(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function es(t,e,n,r,i,s,o,a){const u=Rt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(xs(t,n,c,r,i),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,At(s)?s.setProperty(u,r,i):Ne(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ns(t,e,n,r){let i=!1;if(Gt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];xi(n,o.selectors,!1)&&(i||(i=[]),We(ze(n,e),t,o.type),bt(o)?(ss(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,as(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Hi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Le(n.mergedAttrs,c.hostAttrs),us(t,n,e,u,c),os(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||wi(e)?null:fs(n,i);s.push(c),o=ts(n,u,o),a=ts(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Le(n.mergedAttrs,n.attrs),i}function rs(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function is(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ss(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function os(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function as(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function us(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=vt(i.type)),o=new De(s,bt(i),null);t.blueprint[r]=o,n[r]=o,rs(t,e,0,r,Hi(t,n,i.hostVars,Ai),i)}function cs(t,e,n){const r=Rt(e,t),i=Xi(n),s=t[10],o=ys(t,Ui(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function ls(t,e,n,r,i,s,o){if(null==s)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function hs(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function fs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ds(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ps(t,e){const n=Mt(e,t);if(Ut(n)){const t=n[1];80&n[2]?Gi(t,n,t.template,n[8]):n[5]>0&&gs(n)}}function gs(t){for(let n=Vr(t);null!==n;n=Ur(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Gi(t,e,t.template,e[8])}else e[5]>0&&gs(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);Ut(r)&&r[5]>0&&gs(r)}}function ms(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),zi(r,n,n[8])}function ys(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bs(t){for(;t;){t[2]|=64;const e=Fr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function vs(t,e,n){const r=e[10];r.begin&&r.begin();try{Gi(t,e,t.template,n)}catch(i){throw Ts(e,i),i}finally{r.end&&r.end()}}function _s(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];$i(i,r,i.template,n)}}(t[8])}function ws(t,e,n){he(0),e(t,n)}const Ss=(()=>Promise.resolve(null))();function Es(t){return t[7]||(t[7]=[])}function Os(t){return t.cleanup||(t.cleanup=[])}function Ts(t,e){const n=t[9],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function xs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Cs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ks=new fn("INJECTOR",-1);class Is{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const As=new fn("Set Injector scope."),js={},Ds={},Ps=[];let Rs;function Ns(){return void 0===Rs&&(Rs=new Is),Rs}function Ls(t,e=null,n=null,r){return new Ms(t,n,e||Ns(),r)}class Ms{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mn(e,n=>this.processProvider(n,t,e)),mn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ks,Us(void 0,this));const s=this.records.get(As);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=A.Default){this.assertNotDestroyed();const r=kn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof fn)&&E(t);e=n&&this.injectableDefInScope(n)?Us(Fs(t),js):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?Ns():this.parent).get(t,e=n&A.Optional&&e===En?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Tn]&&i.unshift(e[Tn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{kn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mn(r,t=>this.processProvider(t,n,r||Ps))}}this.injectorDefTypes.add(s);const a=vt(s)||(()=>new s);this.records.set(s,Us(a,js));const u=r.providers;if(null!=u&&!o){const e=t;mn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=qs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Bs(t)?Us(void 0,t.useValue):Us(Vs(t),js)}(t);if(qs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Us(void 0,js,!0),e.factory=()=>Dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===js&&(e.value=Ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Fs(t){const e=E(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof fn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=vn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Vs(t,e,n){let r;if(qs(t)){const e=p(t);return vt(e)||Fs(e)}if(Bs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||Fs(e);r=()=>new e(...Dn(t.deps))}var i;return r}function Us(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Bs(t){return null!==t&&"object"==typeof t&&xn in t}function qs(t){return"function"==typeof t}const Hs=function(t,e,n){return function(t,e=null,n=null,r){const i=Ls(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let zs=(()=>{class t{static create(t,e){return Array.isArray(t)?Hs(t,e,""):Hs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new Is,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>An(ks)}),t.__NG_ELEMENT_ID__=-1,t})();function Gs(t,e){Te(Ft(t)[1],Qt())}function $s(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ks(t.inputs),e.declaredInputs=Ks(t.declaredInputs),e.outputs=Ks(t.outputs);const n=i.hostBindings;n&&Ys(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ws(t,s),o&&Qs(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===$s&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Le(i.hostAttrs,n=Le(n,i.hostAttrs))}}(r)}function Ks(t){return t===q?{}:t===z?[]:t}function Ws(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Qs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ys(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Xs=null;function Zs(){if(!Xs){const t=B.Symbol;if(t&&t.iterator)Xs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Xs=n)}}}return Xs}class Js{constructor(t){this.wrapped=t}static wrap(t){return new Js(t)}static unwrap(t){return Js.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Js}}function to(t){return!!eo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zs()in t)}function eo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function no(t,e,n){return t[e]=n}function ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function io(t,e,n,r){const i=ro(t,e,n);return ro(t,e+1,r)||i}function so(t,e,n,r){const i=$t();return ro(i,se(),e)&&(Kt(),function(t,e,n,r,i,s){const o=Rt(t,e);ls(e[11],o,s,t.value,n,r,i)}(Se(),i,t,e,n,r)),so}function oo(t,e,n,r){return ro(t,se(),n)?e+y(n)+r:Ai}function ao(t,e,n,r,i,s,o,a){const u=$t(),c=Kt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Bi(e,t,4,o||null,Bt(c,a));ns(e,n,l,Bt(c,u)),Te(e,l);const h=l.tViews=Zi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Zt(h,!1);const f=u[11].createComment("");ui(c,u,f,h),Dr(f,u),ys(u,u[l]=ds(f,u,f,h)),yt(h)&&Qi(c,u,h),null!=o&&Yi(u,h,a)}function uo(t){return Lt(zt.lFrame.contextLView,ht+t)}function co(t,e=A.Default){const n=$t();return null===n?An(t,e):Xe(Qt(),n,p(t),e)}function lo(){throw new Error("invalid")}function ho(t,e,n){const r=$t();return ro(r,se(),e)&&es(Kt(),Se(),r,t,e,r[11],n,!1),ho}function fo(t,e,n,r,i){const s=i?"class":"style";xs(t,n,e.inputs[s],s,r)}function po(t,e,n,r){const i=$t(),s=Kt(),o=ht+t,a=i[11],u=i[o]=$r(a,e,zt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Bi(e,t,2,i,Bt(a,s));return ns(e,n,u,Bt(a,o)),null!==u.attrs&&Cs(u,u.attrs,!1),null!==u.mergedAttrs&&Cs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Zt(c,!0);const l=c.mergedAttrs;null!==l&&Pe(a,u,l);const h=c.classes;null!==h&&yi(a,u,h);const f=c.styles;null!==f&&mi(a,u,f),64!=(64&c.flags)&&ui(s,i,u,c),0===zt.lFrame.elementDepthCount&&Dr(u,i),zt.lFrame.elementDepthCount++,yt(c)&&(Qi(s,i,c),Wi(s,c,i)),null!==r&&Yi(i,c)}function go(){let t=Qt();Jt()?te():(t=t.parent,Zt(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Kt();n.firstCreatePass&&(Te(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&fo(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&fo(n,e,$t(),e.stylesWithoutHost,!1)}function mo(t,e,n,r){po(t,e,n,r),go()}function yo(t,e,n){const r=$t(),i=Kt(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Bt(s,r),a=Bi(e,t,8,"ng-container",o);return null!==o&&Cs(a,o,!0),ns(e,n,a,Bt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Zt(o,!0);const a=r[s]=r[11].createComment("");ui(i,r,a,o),Dr(a,r),yt(o)&&(Qi(i,r,o),Wi(i,o,r)),null!=n&&Yi(r,o)}function bo(){let t=Qt();const e=Kt();Jt()?te():(t=t.parent,Zt(t,!1)),e.firstCreatePass&&(Te(e,t),gt(t)&&e.queries.elementEnd(t))}function vo(){return $t()}function _o(t){return!!t&&"function"==typeof t.then}function wo(t){return!!t&&"function"==typeof t.subscribe}const So=wo;function Eo(t,e,n=!1,r){const i=$t(),s=Kt(),o=Qt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&Os(t),l=Es(e);let h=!0;if(3&r.type){const f=Rt(r,e),d=a?a(f):q,p=d.target||f,g=l.length,m=a?t=>a(Dt(t[r.index])).target:r.index;if(At(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=To(r,e,0,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=To(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=To(r,e,0,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Eo}function Oo(t,e,n,r){try{return!1!==n(r)}catch(i){return Ts(t,i),!1}}function To(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&bs(o);let a=Oo(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Oo(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function xo(t=1){return function(t){return(zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,zt.lFrame.contextLView))[8]}(t)}function Co(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?xi(t,s,!0):Ci(r,s))return i}else n=i}return n}function ko(t){const e=$t()[16][6];if(!e.projection){const n=e.projection=vn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Co(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Io(t,e=0,n){const r=$t(),i=Kt(),s=Bi(i,ht+t,16,null,n||null);null===s.projection&&(s.projection=e),te(),64!=(64&s.flags)&&function(t,e,n){gi(e[11],0,e,n,Xr(t,n,e),ri(n.parent||e[6],n,e))}(i,r,s)}function Ao(t,e,n){return jo(t,"",e,"",n),Ao}function jo(t,e,n,r,i){const s=$t(),o=oo(s,e,n,r);return o!==Ai&&es(Kt(),Se(),s,t,o,s[11],i,!1),jo}function Do(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ri(s):Li(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Po(t[a],e)&&(u=!0,t[a+1]=r?Fi(n):Ni(n)),a=r?Ri(n):Li(n)}u&&(t[n+1]=r?Ni(s):Fi(s))}function Po(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Sn(t,e)>=0}const Ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function No(t){return t.substring(Ro.key,Ro.keyEnd)}function Lo(t,e){const n=Ro.textEnd;return n===e?-1:(e=Ro.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ro.key=e,n),Mo(t,e,n))}function Mo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fo(t,e,n){return qo(t,e,n,!1),Fo}function Vo(t,e){return qo(t,e,null,!0),Vo}function Uo(t){Ho(_n,Bo,t,!0)}function Bo(t,e){for(let n=function(t){return function(t){Ro.key=0,Ro.keyEnd=0,Ro.value=0,Ro.valueEnd=0,Ro.textEnd=t.length}(t),Lo(t,Mo(t,0,Ro.textEnd))}(e);n>=0;n=Lo(e,n))_n(t,No(e),!0)}function qo(t,e,n,r){const i=$t(),s=Kt(),o=oe(2);s.firstUpdatePass&&Go(s,t,o,r),e!==Ai&&ro(i,o,e)&&Wo(s,s.data[_e()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Gn(t)))),t}(e,n),r,o)}function Ho(t,e,n,r){const i=Kt(),s=oe(2);i.firstUpdatePass&&Go(i,null,s,r);const o=$t();if(n!==Ai&&ro(o,s,n)){const a=i.data[_e()];if(Xo(a,r)&&!zo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),fo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Ai&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Wo(t,e,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=Gn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function zo(t,e){return e>=t.expandoStartIndex}function Go(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_e()],o=zo(t,n);Xo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ko(n=$o(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=$o(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Li(r))return t[Ri(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=$o(null,t,e,n[1],r),n=Ko(n,e.attrs,r),function(t,e,n,r){t[Ri(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ko(r,t[s].hostAttrs,n);return Ko(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ri(o),u=Li(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Sn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ri(t[a+1]);t[r+1]=Pi(e,a),0!==e&&(t[e+1]=Mi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Pi(a,0),0!==a&&(t[a+1]=Mi(t[a+1],r)),a=r;else t[r+1]=Pi(u,0),0===a?a=r:t[u+1]=Mi(t[u+1],r),u=r;l&&(t[r+1]=Ni(t[r+1])),Do(t,c,r,!0),Do(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Sn(s,e)>=0&&(n[r+1]=Fi(n[r+1]))}(e,c,t,r,s),o=Pi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function $o(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ko(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ko(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_n(t,o,!!n||e[++s]))}return void 0===t?null:t}function Wo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Yo(1==(1&c)?Qo(u,e,n,i,Li(c),o):void 0)||(Yo(s)||2==(2&c)&&(s=Qo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=At(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Nr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Nr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Pt(_e(),n),i,s))}function Qo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Ai&&(l=c?H:void 0);let h=c?wn(l,r):u===r?l:void 0;if(s&&!Yo(h)&&(h=wn(e,r)),Yo(h)&&(a=h,o))return a;const f=t[i+1];i=o?Ri(f):Li(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=wn(t,r))}return a}function Yo(t){return void 0!==t}function Xo(t,e){return 0!=(t.flags&(e?16:32))}function Zo(t,e=""){const n=$t(),r=Kt(),i=t+ht,s=r.firstCreatePass?Bi(r,i,1,e,null):r.data[i],o=n[i]=Hr(n[11],e);ui(r,n,o,s),Zt(s,!1)}function Jo(t){return ta("",t,""),Jo}function ta(t,e,n){const r=$t(),i=oo(r,t,e,n);return i!==Ai&&function(t,e,n){const r=Pt(e,t);zr(t[11],r,n)}(r,_e(),i),ta}function ea(t,e,n,r,i,s,o,a,u){Ho(_n,Bo,function(t,e,n,r,i,s,o,a,u,c){const l=function(t,e,n,r,i,s){const o=io(t,e,n,r);return io(t,e+2,i,s)||o}(t,ie(),n,i,o,u);return oe(4),l?e+y(n)+r+y(i)+s+y(o)+a+y(u)+c:Ai}($t(),t,e,n,r,i,s,o,a,u),!0)}function na(t,e,n){const r=$t();return ro(r,se(),e)&&es(Kt(),Se(),r,t,e,r[11],n,!0),na}const ra=void 0;var ia=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let sa={};function oa(t,e,n){"string"!=typeof e&&(n=e,e=t[ha.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),sa[e]=t,n&&(sa[e][ha.ExtraData]=n)}function aa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=la(e);if(n)return n;const r=e.split("-")[0];if(n=la(r),n)return n;if("en"===r)return ia;throw new Error(`Missing locale data for the locale "${t}".`)}function ua(t){return aa(t)[ha.CurrencyCode]||null}function ca(t){return aa(t)[ha.PluralCase]}function la(t){return t in sa||(sa[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),sa[t]}var ha=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const fa=["zero","one","two","few","many"],da="en-US",pa={marker:"element"},ga={marker:"ICU"};var ma=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let ya=da;function ba(t){var e;null==(e=t)&&_("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ya=t.toLowerCase().replace(/_/g,"-"))}function va(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ii(t,0,n):Dt(n[i])}function _a(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Jr(t,o,n[s[e]],a,!1)}}function wa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Sa(r)||Ea(r,e)&&null===Oa(r)&&Ta(r,e.index)}}function Sa(t){return!(64&t.type)}function Ea(t,e){return Sa(e)||t.index>e.index}function Oa(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Ta(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ai(va,_a),t.insertBeforeIndex=e)}function xa(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ca(t,e,n){const r=qi(t,n,64,null,null);return wa(e,r),r}function ka(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Ia=0,Aa=0;function ja(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Hr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=ni(i,r)),c===o?(l=r,h=s):(l=null,h=Dt(n[c])),null!==h){const e=(131070&u)>>>1;Jr(i,h,n[e],l,!1);const r=xa(t,e);if(null!==r&&"object"==typeof r){const e=ka(r,n);null!==e&&ja(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];ls(i,Pt(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case ga:const t=e[++a],r=e[++a];null===n[r]&&Dr(n[r]=Gr(i,t),n);break;case pa:const s=e[++a],o=e[++a];null===n[o]&&Dr(n[o]=$r(i,s,null),n)}}}function Da(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=t.data[a];"string"==typeof c?ls(e[11],e[a],null,c,s,i,u):es(t,c,e,s,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&zr(e[11],l,i);break;case 2:Ra(t,xa(t,a),e,i);break;case 3:Pa(t,xa(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=xa(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Pa(t,n,r,e)}}s+=a}}function Pa(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Ia;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),Da(t,r,e.update[i],n,s)}}function Ra(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ca(e)(parseInt(t,10)),r=fa[n];return void 0!==r?r:"other"}(e,ya);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(ka(e,n)!==i&&(Na(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&ja(t,e.create[i],n,r)}}function Na(t,e,n){let r=ka(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Pt(r,n);null!==t&&fi(n[11],t)}else Na(t,xa(t,~r),n)}}}const La=/\ufffd(\d+):?\d*\ufffd/gi,Ma=/\ufffd(\d+)\ufffd/,Fa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Va=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ua=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ba=/\uE500/g;function qa(t,e,n,r,i,s,o){const a=Hi(t,r,1,null);let u=a<<ma.SHIFT,c=Xt();e===c&&(c=null),null===c&&(u|=ma.APPEND_EAGERLY),o&&(u|=ma.COMMENT,void 0===Lr&&(Lr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=ka(t,e);n=null!==i?t.remove[i]:z}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=qi(t,a,o?32:1,null===s?"":s,null);wa(n,l);const h=l.index;return Zt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ai(va,_a),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&_("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Ha(t,e,n,r,i,s,o){const a=o.match(La),u=qa(t,e,n,s,r,a?null:o,!1);a&&za(i,o,u.index,null,0,null)}function za(t,e,n,r,i,s){const o=t.length,a=o+1;t.push(null,null);const u=o+2,c=e.split(La);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=Ga(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,s),t[o]=l,t[a]=t.length-u,l}function Ga(t){return 1<<Math.min(t,31)}function $a(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Va.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Ka(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Hi(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ga(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=Ya(t,a,e,n,r,i.cases[c],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function Wa(t){const e=[],n=[];let r=1,i=0;const s=Qa(t=t.replace(Fa,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Qa(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Qa(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Fa.test(n)?r.push(Wa(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Ya(t,e,n,r,i,s,o,a){const u=[],c=[],l=[];e.cases.push(s),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Jn(It()).getInertBodyElement(o),f=Er(h)||h;return f?Xa(t,e,n,r,u,c,l,f,i,a,0):0}function Xa(t,e,n,r,i,s,o,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Hi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(fr.hasOwnProperty(p)){tu(i,pa,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(La)?gr.hasOwnProperty(n)&&za(o,e.value,a,e.name,0,dr[n]?ir:pr[n]?sr:null):eu(i,a,e)}h=Xa(t,e,n,r,i,s,o,f,a,c,l+1)|h,Za(s,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(La);tu(i,null,m?"":g,u,a),Za(s,a,l),m&&(h=za(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Ma.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];tu(i,ga,"",u,a),Ka(t,n,r,u,e,a),Ja(s,a,l)}}f=f.nextSibling}return h}function Za(t,e,n){0===n&&t.push(e)}function Ja(t,e,n){0===n&&(t.push(~e),t.push(e))}function tu(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function eu(t,e,n){t.push(e<<1|1,n.name,n.value)}function nu(t,e,n){(function(t,e,n=-1){const r=Kt(),i=$t(),s=ht+t,o=Bt(r.consts,e),a=Xt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Xt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return $a(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return $a(t.substring(n,r))}}(i,s),h.replace(Ba," ")).split(Ua);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const s=Qa(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&Ha(t,o,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Ka(t,n,u,e,r,qa(t,o,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ht+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Zt(Xt(),!1);else{const e=Ca(t,c[0],n);c.unshift([]),Zt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=Zr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],u=(o&ma.COMMENT)===ma.COMMENT,c=(o&ma.APPEND_EAGERLY)===ma.APPEND_EAGERLY,l=o>>>ma.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Hr(i,a)),c&&null!==n&&Jr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ae(!0)})(t,e,n),ae(!1)}function ru(t){return ro($t(),se(),t)&&(Ia|=1<<Math.min(Aa,31)),Aa++,ru}function iu(t){!function(t,e,n){if(Aa>0){const r=t.data[n];Da(t,e,Array.isArray(r)?r:r.update,ie()-Aa-1,Ia)}Ia=0,Aa=0}(Kt(),$t(),t+ht)}function su(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)su(t[s],e,n,r,i);else{const s=Kt(),o=$t();let a=qs(t)?t:p(t.provide),u=Vs(t);const c=Qt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(qs(t)||!t.multi){const r=new De(u,i,co),d=uu(a,e,i?l:l+f,h);-1===d?(We(ze(c,o),s,a),ou(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=uu(a,e,l+f,h),p=uu(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){We(ze(c,o),s,a);const l=function(t,e,n,r,i){const s=new De(t,n,co);return s.multi=[],s.index=e,s.componentProviders=0,au(s,i,r&&!n),s}(i?lu:cu,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ou(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ou(s,t,d>-1?d:p,au(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ou(t,e,n,r){const i=qs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function au(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function uu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cu(t,e,n,r){return hu(this.multi,[])}function lu(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=nn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),hu(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],hu(i,s);return s}function hu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Kt();if(r.firstCreatePass){const i=bt(t);su(n,r.data,r.blueprint,i,!0),su(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class du{}class pu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let gu=(()=>{class t{}return t.NULL=new pu,t})();function mu(...t){}function yu(t,e){return new vu(Rt(t,e))}const bu=function(){return yu(Qt(),$t())};let vu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=bu,t})();function _u(t){return t instanceof vu?t.nativeElement:t}class wu{}let Su=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Eu(),t})();const Eu=function(){const t=$t(),e=Mt(Qt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ou=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class Tu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xu=new Tu("11.2.14");class Cu{constructor(){}supports(t){return to(t)}create(t){return new Iu(t)}}const ku=(t,e)=>e;class Iu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ku}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Pu(n,r,i)?e:n,o=Pu(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!to(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Zs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Au(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Du),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Du),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Au{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ju{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Du{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ju,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ru{constructor(){}supports(t){return t instanceof Map||eo(t)}create(){return new Nu}}class Nu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||eo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Lu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Lu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mu(){return new Fu([new Cu])}let Fu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Mu()),deps:[[t,new Ln,new Nn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Mu}),t})();function Vu(){return new Uu([new Ru])}let Uu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Vu()),deps:[[t,new Ln,new Nn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Vu}),t})();function Bu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Dt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Bu(e[1],e,n,r)}const o=n.type;if(8&o)Bu(t,e,n.child,r);else if(32&o){const t=Mr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=li(e,n);if(Array.isArray(t))r.push(...t);else{const n=Fr(e[16]);Bu(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class qu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Bu(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Wr(t,n),bn(e,n))}this._attachedToViewContainer=!1}Qr(this._lView[1],this._lView)}onDestroy(t){Ji(this._lView[1],this._lView,null,t)}markForCheck(){bs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ne(!0);try{vs(t,e,n)}finally{ne(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,pi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Hu extends qu{constructor(t){super(t),this._view=t}detectChanges(){_s(this._view)}checkNoChanges(){!function(t){ne(!0);try{_s(t)}finally{ne(!1)}}(this._view)}get context(){return null}}const zu=$u;let Gu=(()=>{class t{}return t.__NG_ELEMENT_ID__=zu,t.__ChangeDetectorRef__=!0,t})();function $u(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Mt(t.index,e);return new qu(n,n)}return 47&t.type?new qu(e[16],e):null}(Qt(),$t(),t)}const Ku=[new Ru],Wu=new Fu([new Cu]),Qu=new Uu(Ku),Yu=function(){return tc(Qt(),$t())};let Xu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Yu,t})();const Zu=Xu,Ju=class extends Zu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ui(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),zi(e,n,t),new qu(n)}};function tc(t,e){return 4&t.type?new Ju(e,t,yu(t,e)):null}class ec{}class nc{}const rc=function(){return cc(Qt(),$t())};let ic=(()=>{class t{}return t.__NG_ELEMENT_ID__=rc,t})();const sc=ic,oc=class extends sc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new on(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ke(this._hostTNode,this._hostLView);if(Fe(t)){const e=Ue(t,this._hostLView),n=Ve(t);return new on(e[1].data[n+8],e)}return new on(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ac(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ec,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new oc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],yn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=hi(i,s),a=n[11],u=ni(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,pi(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),yn(uc(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ac(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Wr(this._lContainer,e);n&&(bn(uc(this._lContainer),e),Qr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Wr(this._lContainer,e);return n&&null!=bn(uc(this._lContainer),e)?new qu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ac(t){return t[8]}function uc(t){return t[8]||(t[8]=[])}function cc(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Jr(n,ni(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ds(r,e,i,t),ys(e,n)}return new oc(n,t,e)}const lc={};class hc extends gu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new pc(e,this.ngModule)}}function fc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const dc=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Pr});class pc extends du{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return fc(this.componentDef.inputs)}get outputs(){return fc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,lc,i);return s!==lc||r===lc?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(wu,jt),o=i.get(Ou,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):$r(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?xt:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Pr,clean:Ss,playerHandler:null,flags:0},f=Zi(0,null,null,1,0,null,null,null,null,null),d=Ui(null,f,h,l,null,null,s,a,o,i);let p,g;pe(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Bi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Cs(a,u,!0),null!==t&&(Pe(i,t,u),null!==a.classes&&yi(i,t,a.classes),null!==a.styles&&mi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ui(n,Xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(We(ze(a,n),o,e.type),ss(o,a),as(a,n.length,1)),ys(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Pe(a,c,["ng-version",xu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Oi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Pe(a,c,t),e&&e.length>0&&yi(a,c,e.join(" "))}if(g=Nt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),us(t,r,e,Hi(t,e,1,null),n));const i=nn(e,t,r.directiveStart,r);Dr(i,e);const s=Rt(r,e);return s&&Dr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Qt();e.contentQueries(1,o,t.directiveStart)}const a=Qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(a.index),rs(n[1],a,0,a.directiveStart,a.directiveEnd,e),is(e,o)),o}(t,this.componentDef,d,h,[Gs]),zi(f,d,null)}finally{ve()}return new gc(this.componentType,p,yu(g,d),d,g)}}class gc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Hu(r),this.componentType=t}get injector(){return new on(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const mc=new Map;class yc extends ec{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hc(this);const n=lt(t),r=t[Q]||null;r&&ba(r),this._bootstrapComponents=Rr(n.bootstrap),this._r3Injector=Ls(t,e,[{provide:ec,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=zs.THROW_IF_NOT_FOUND,n=A.Default){return t===zs||t===ec||t===ks?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bc extends nc{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,mc.get(i),n),mc.set(i,n));const s=Rr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new yc(this.moduleType,t)}}function vc(t,e,n){const r=re()+t,i=$t();return i[r]===Ai?no(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function _c(t,e,n,r){return Oc($t(),re(),t,e,n,r)}function wc(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return io(t,a,i,s)?no(t,a+2,o?r.call(o,i,s):r(i,s)):Ec(t,a+2)}($t(),re(),t,e,n,r,i)}function Sc(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=io(t,e,n,r);return ro(t,e+2,i)||s}(t,u,i,s,o)?no(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):Ec(t,u+3)}($t(),re(),t,e,n,r,i,s)}function Ec(t,e){const n=t[e];return n===Ai?void 0:n}function Oc(t,e,n,r,i,s){const o=e+n;return ro(t,o,i)?no(t,o+1,s?r.call(s,i):r(i)):Ec(t,o+1)}function Tc(t,e){const n=Kt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=vt(r.type)),o=D(co);try{const t=qe(!1),e=s();return qe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,$t(),i,e),e}finally{D(o)}}function xc(t,e,n){const r=t+ht,i=$t(),s=Lt(i,r);return function(t,e){return Js.isWrapped(e)&&(e=Js.unwrap(e),t[ie()]=Ai),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Oc(i,re(),e,s.transform,n,s):s.transform(n))}function Cc(t){return e=>{setTimeout(t,void 0,e)}}const kc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=Cc(u),a&&(a=Cc(a)),c&&(c=Cc(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function Ic(){return this._results[Zs()]()}class Ac{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Zs(),n=Ac.prototype;n[e]||(n[e]=Ic)}get changes(){return this._changes||(this._changes=new kc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=gn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class jc{constructor(t){this.queryList=t,this.matches=null}clone(){return new jc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Dc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==$c(t,e).matches&&this.queries[e].setDirty()}}class Pc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Rc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Rc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Nc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Nc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Lc(e,i)),this.matchTNodeWithReadOption(t,e,en(e,t,i,!1,!1))}else n===Xu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,en(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===vu||r===ic||r===Xu&&4&e.type)this.addMatch(e.index,-2);else{const n=en(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Lc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Mc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?yu(t,e):4&t.type?tc(t,e):null}(e,t):-2===n?function(t,e,n){return n===vu?yu(e,t):n===Xu?tc(e,t):n===ic?cc(e,t):void 0}(t,e,r):nn(t,t[1],n,e)}function Fc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Mc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Vc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Fc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&Vc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Vc(n[1],n,i,r)}}}}}return r}function Uc(t){const e=$t(),n=Kt(),r=le();he(r+1);const i=$c(n,r);if(t.dirty&&Vt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Vc(n,e,r,[]):Fc(n,e,i,r);t.reset(s,_u),t.notifyOnChanges()}return!0}return!1}function Bc(t,e,n){const r=Kt();r.firstCreatePass&&(Gc(r,new Pc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),zc(r,$t(),e)}function qc(t,e,n,r){const i=Kt();if(i.firstCreatePass){const s=Qt();Gc(i,new Pc(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}zc(i,$t(),n)}function Hc(){return t=$t(),e=le(),t[19].queries[e].queryList;var t,e}function zc(t,e,n){const r=new Ac(4==(4&n));Ji(t,e,r,r.destroy),null===e[19]&&(e[19]=new Dc),e[19].queries.push(new jc(r))}function Gc(t,e,n){null===t.queries&&(t.queries=new Rc),t.queries.track(new Nc(e,n))}function $c(t,e){return t.queries.getByIndex(e)}function Kc(t,e){return tc(t,e)}function Wc(t=A.Default){const e=$u(!0);if(null!=e||t&A.Optional)return e;v("ChangeDetectorRef")}const Qc=new fn("Application Initializer");let Yc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=mu,this.reject=mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();_o(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An(Qc,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Xc=new fn("AppId"),Zc={provide:Xc,useFactory:function(){return`${Jc()}${Jc()}${Jc()}`},deps:[]};function Jc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tl=new fn("Platform Initializer"),el=new fn("Platform ID"),nl=new fn("appBootstrapListener");let rl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const il=new fn("LocaleId"),sl=new fn("DefaultCurrencyCode");class ol{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const al=function(t){return new bc(t)},ul=al,cl=function(t){return Promise.resolve(al(t))},ll=function(t){const e=al(t),n=Rr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new pc(n)),t},[]);return new ol(e,n)},hl=ll,fl=function(t){return Promise.resolve(ll(t))};let dl=(()=>{class t{constructor(){this.compileModuleSync=ul,this.compileModuleAsync=cl,this.compileModuleAndAllComponentsSync=hl,this.compileModuleAndAllComponentsAsync=fl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const pl=(()=>Promise.resolve(0))();function gl(t){"undefined"==typeof Zone?pl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ml{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kc(!1),this.onMicrotaskEmpty=new kc(!1),this.onStable=new kc(!1),this.onError=new kc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vl(t),bl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return _l(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wl(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return _l(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vl(t),bl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ml.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ml.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,yl,mu,mu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const yl={};function bl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _l(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wl(t){t._nesting--,bl(t)}class Sl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kc,this.onMicrotaskEmpty=new kc,this.onStable=new kc,this.onError=new kc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let El=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ml.assertNotInAngularZone(),gl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(ml))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Ol=(()=>{class t{constructor(){this._applications=new Map,kl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return kl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Tl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function xl(t){kl=t}let Cl,kl=new Tl,Il=!0,Al=!1;function jl(){return Al=!0,Il}function Dl(){if(Al)throw new Error("Cannot enable prod mode after platform setup.");Il=!1}const Pl=new fn("AllowMultipleToken");class Rl{constructor(t,e){this.name=t,this.token=e}}function Nl(t,e,n=[]){const r=`Platform: ${e}`,i=new fn(r);return(e=[])=>{let s=Ll();if(!s||s.injector.get(Pl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:As,useValue:"platform"});!function(t){if(Cl&&!Cl.destroyed&&!Cl.injector.get(Pl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cl=t.get(Ml);const e=t.get(tl,null);e&&e.forEach(t=>t())}(zs.create({providers:t,name:r}))}return function(t){const e=Ll();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ll(){return Cl&&!Cl.destroyed?Cl:null}let Ml=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Sl:("zone.js"===t?void 0:t)||new ml({enableLongStackTrace:jl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:ml,useValue:n}];return n.run(()=>{const e=zs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Ir,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Ul(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return _o(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Yc);return t.runInitializers(),t.donePromise.then(()=>(ba(i.injector.get(il,da)||da),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Fl({},e);return function(t,e,n){const r=new bc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(zs))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Fl(t,e){return Array.isArray(e)?e.reduce(Fl,t):Object.assign(Object.assign({},t),e)}let Vl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ml.assertNotInAngularZone(),gl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ml.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof du?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ec),i=n.create(zs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(El,null),a=o&&i.injector.get(Ol);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Ul(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ul(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(ml),An(zs),An(Ir),An(gu),An(Yc))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ul(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Bl{}class ql{}const Hl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let zl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Hl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Gl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Gl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(dl),An(ql,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Gl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const $l=function(t){return null},Kl=Nl(null,"core",[{provide:el,useValue:"unknown"},{provide:Ml,deps:[zs]},{provide:Ol,deps:[]},{provide:rl,deps:[]}]),Wl=[{provide:Vl,useClass:Vl,deps:[ml,zs,Ir,gu,Yc]},{provide:dc,deps:[ml],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Yc,useClass:Yc,deps:[[new Nn,Qc]]},{provide:dl,useClass:dl,deps:[]},Zc,{provide:Fu,useFactory:function(){return Wu},deps:[]},{provide:Uu,useFactory:function(){return Qu},deps:[]},{provide:il,useFactory:function(t){return ba(t=t||"undefined"!=typeof $localize&&$localize.locale||da),t},deps:[[new Rn(il),new Nn,new Ln]]},{provide:sl,useValue:"USD"}];let Ql=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(An(Vl))},t.\u0275mod=it({type:t}),t.\u0275inj=S({providers:Wl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},itXk:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("z+Ro"),i=n("DH7j"),s=n("l7GE"),o=n("ZUHj"),a=n("yCtX");const u={};function c(...t){let e,n;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(o.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},nYR2:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("quSY");function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends r.a{constructor(t,e){super(t),this.add(new i.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return At}),n.d(e,"c",function(){return Pt}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return jt}),n.d(e,"f",function(){return k}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return h}),n.d(e,"i",function(){return E}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return mt}),n.d(e,"l",function(){return bt}),n.d(e,"m",function(){return _t}),n.d(e,"n",function(){return Et}),n.d(e,"o",function(){return Ot}),n.d(e,"p",function(){return w}),n.d(e,"q",function(){return Dt}),n.d(e,"r",function(){return c}),n.d(e,"s",function(){return I}),n.d(e,"t",function(){return Mt}),n.d(e,"u",function(){return Q}),n.d(e,"v",function(){return P}),n.d(e,"w",function(){return D}),n.d(e,"x",function(){return R}),n.d(e,"y",function(){return Nt}),n.d(e,"z",function(){return Lt}),n.d(e,"A",function(){return a}),n.d(e,"B",function(){return Rt}),n.d(e,"C",function(){return s}),n.d(e,"D",function(){return gt}),n.d(e,"E",function(){return o});var r=n("fXoL");let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const u=new r.r("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.ac)(f)}const h=new r.r("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.ac(u))},t.\u0275prov=Object(r.Kb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.ac)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.ac)(u).location;return new w(Object(r.ac)(c),e&&e.origin||"")}const _=new r.r("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(c),r.ac(_,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(c),r.ac(_,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(b),r.ac(c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Kb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new E(Object(r.ac)(b),Object(r.ac)(c))}function T(t){return t.replace(/\/index.html$/,"")}var x=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),k=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),I=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),A=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),j=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function D(t,e,n){const i=Object(r.lb)(t),s=B([i[r.bb.DayPeriodsFormat],i[r.bb.DayPeriodsStandalone]],e);return B(s,n)}function P(t,e,n){const i=Object(r.lb)(t),s=B([i[r.bb.DaysFormat],i[r.bb.DaysStandalone]],e);return B(s,n)}function R(t,e,n){const i=Object(r.lb)(t),s=B([i[r.bb.MonthsFormat],i[r.bb.MonthsStandalone]],e);return B(s,n)}function N(t,e){return B(Object(r.lb)(t)[r.bb.DateFormat],e)}function L(t,e){return B(Object(r.lb)(t)[r.bb.TimeFormat],e)}function M(t,e){return B(Object(r.lb)(t)[r.bb.DateTimeFormat],e)}function F(t,e){const n=Object(r.lb)(t),i=n[r.bb.NumberSymbols][e];if(void 0===i){if(e===j.CurrencyDecimal)return n[r.bb.NumberSymbols][j.Decimal];if(e===j.CurrencyGroup)return n[r.bb.NumberSymbols][j.Group]}return i}const V=r.ob;function U(t){if(!t[r.bb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.bb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function B(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function q(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const H=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,z={},G=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),K=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),W=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Q(t,e,n,r){let i=function(t){if(ut(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return Y(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(H))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!ut(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=X(n,e)||e;let s,o=[];for(;e;){if(s=G.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=at(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(at(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(ot[t])return ot[t];let e;switch(t){case"G":case"GG":case"GGG":e=et(W.Eras,I.Abbreviated);break;case"GGGG":e=et(W.Eras,I.Wide);break;case"GGGGG":e=et(W.Eras,I.Narrow);break;case"y":e=tt(K.FullYear,1,0,!1,!0);break;case"yy":e=tt(K.FullYear,2,0,!0,!0);break;case"yyy":e=tt(K.FullYear,3,0,!1,!0);break;case"yyyy":e=tt(K.FullYear,4,0,!1,!0);break;case"Y":e=st(1);break;case"YY":e=st(2,!0);break;case"YYY":e=st(3);break;case"YYYY":e=st(4);break;case"M":case"L":e=tt(K.Month,1,1);break;case"MM":case"LL":e=tt(K.Month,2,1);break;case"MMM":e=et(W.Months,I.Abbreviated);break;case"MMMM":e=et(W.Months,I.Wide);break;case"MMMMM":e=et(W.Months,I.Narrow);break;case"LLL":e=et(W.Months,I.Abbreviated,k.Standalone);break;case"LLLL":e=et(W.Months,I.Wide,k.Standalone);break;case"LLLLL":e=et(W.Months,I.Narrow,k.Standalone);break;case"w":e=it(1);break;case"ww":e=it(2);break;case"W":e=it(1,!0);break;case"d":e=tt(K.Date,1);break;case"dd":e=tt(K.Date,2);break;case"E":case"EE":case"EEE":e=et(W.Days,I.Abbreviated);break;case"EEEE":e=et(W.Days,I.Wide);break;case"EEEEE":e=et(W.Days,I.Narrow);break;case"EEEEEE":e=et(W.Days,I.Short);break;case"a":case"aa":case"aaa":e=et(W.DayPeriods,I.Abbreviated);break;case"aaaa":e=et(W.DayPeriods,I.Wide);break;case"aaaaa":e=et(W.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":e=et(W.DayPeriods,I.Abbreviated,k.Standalone,!0);break;case"bbbb":e=et(W.DayPeriods,I.Wide,k.Standalone,!0);break;case"bbbbb":e=et(W.DayPeriods,I.Narrow,k.Standalone,!0);break;case"B":case"BB":case"BBB":e=et(W.DayPeriods,I.Abbreviated,k.Format,!0);break;case"BBBB":e=et(W.DayPeriods,I.Wide,k.Format,!0);break;case"BBBBB":e=et(W.DayPeriods,I.Narrow,k.Format,!0);break;case"h":e=tt(K.Hours,1,-12);break;case"hh":e=tt(K.Hours,2,-12);break;case"H":e=tt(K.Hours,1);break;case"HH":e=tt(K.Hours,2);break;case"m":e=tt(K.Minutes,1);break;case"mm":e=tt(K.Minutes,2);break;case"s":e=tt(K.Seconds,1);break;case"ss":e=tt(K.Seconds,2);break;case"S":e=tt(K.FractionalSeconds,1);break;case"SS":e=tt(K.FractionalSeconds,2);break;case"SSS":e=tt(K.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=nt($.Short);break;case"ZZZZZ":e=nt($.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=nt($.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=nt($.Long);break;default:return null}return ot[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Y(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function X(t,e){const n=function(t){return Object(r.lb)(t)[r.bb.LocaleId]}(t);if(z[n]=z[n]||{},z[n][e])return z[n][e];let i="";switch(e){case"shortDate":i=N(t,A.Short);break;case"mediumDate":i=N(t,A.Medium);break;case"longDate":i=N(t,A.Long);break;case"fullDate":i=N(t,A.Full);break;case"shortTime":i=L(t,A.Short);break;case"mediumTime":i=L(t,A.Medium);break;case"longTime":i=L(t,A.Long);break;case"fullTime":i=L(t,A.Full);break;case"short":const e=X(t,"shortTime"),n=X(t,"shortDate");i=Z(M(t,A.Short),[e,n]);break;case"medium":const r=X(t,"mediumTime"),s=X(t,"mediumDate");i=Z(M(t,A.Medium),[r,s]);break;case"long":const o=X(t,"longTime"),a=X(t,"longDate");i=Z(M(t,A.Long),[o,a]);break;case"full":const u=X(t,"fullTime"),c=X(t,"fullDate");i=Z(M(t,A.Full),[u,c])}return i&&(z[n][e]=i),i}function Z(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function J(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function tt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case K.FullYear:return e.getFullYear();case K.Month:return e.getMonth();case K.Date:return e.getDate();case K.Hours:return e.getHours();case K.Minutes:return e.getMinutes();case K.Seconds:return e.getSeconds();case K.FractionalSeconds:return e.getMilliseconds();case K.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===K.Hours)0===a&&-12===n&&(a=12);else if(t===K.FractionalSeconds)return u=e,J(a,3).substr(0,u);var u;const c=F(o,j.MinusSign);return J(a,e,c,r,i)}}function et(t,e,n=k.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case W.Months:return R(e,s,i)[t.getMonth()];case W.Days:return P(e,s,i)[t.getDay()];case W.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.lb)(t);return U(e),(e[r.bb.ExtraData][2]||[]).map(t=>"string"==typeof t?q(t):[q(t[0]),q(t[1])])}(e),n=function(t,e,n){const i=Object(r.lb)(t);U(i);const s=B([i[r.bb.ExtraData][0],i[r.bb.ExtraData][1]],e)||[];return B(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return D(e,s,i)[a<12?0:1];case W.Eras:return function(t,e){return B(Object(r.lb)(t)[r.bb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function nt(t){return function(e,n,r){const i=-1*r,s=F(n,j.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case $.Short:return(i>=0?"+":"")+J(o,2,s)+J(Math.abs(i%60),2,s);case $.ShortGMT:return"GMT"+(i>=0?"+":"")+J(o,1,s);case $.Long:return"GMT"+(i>=0?"+":"")+J(o,2,s)+":"+J(Math.abs(i%60),2,s);case $.Extended:return 0===r?"Z":(i>=0?"+":"")+J(o,2,s)+":"+J(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function rt(t){return Y(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function it(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=rt(n),e=function(t){const e=Y(t,0,1).getDay();return Y(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return J(i,t,F(r,j.MinusSign))}}function st(t,e=!1){return function(n,r){return J(rt(n).getFullYear(),t,F(r,j.MinusSign),e)}}const ot={};function at(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ut(t){return t instanceof Date&&!isNaN(t.valueOf())}const ct=/^(\d+)?\.((\d+)(-(\d+))?)?$/,lt=".",ht="0";function ft(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class dt{}let pt=(()=>{class t extends dt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(V(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.v))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function gt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let mt=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.t),r.Ob(r.u),r.Ob(r.l),r.Ob(r.E))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class yt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new yt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new vt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new vt(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.Q),r.Ob(r.L),r.Ob(r.t))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class vt{constructor(t,e){this.record=t,this.view=e}}let _t=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){St("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){St("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.Q),r.Ob(r.L))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class wt{constructor(){this.$implicit=null,this.ngIf=null}}function St(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}let Et=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.u),r.Ob(r.E))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Ot=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.Q))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.Ab]}),t})();function Tt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.xb)(t)}'`)}class xt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ct{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const kt=new Ct,It=new xt;let At=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return kt;if(Object(r.ub)(e))return It;throw Tt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.cc())},t.\u0275pipe=r.Nb({name:"async",type:t,pure:!1}),t})(),jt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return Q(e,n,i||this.locale,r)}catch(s){throw Tt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.v))},t.\u0275pipe=r.Nb({name:"date",type:t,pure:!0}),t})(),Dt=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(lt))>-1&&(o=o.replace(lt,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===ht;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===ht;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){const t=s.match(ct);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=ft(e)),null!=n&&(h=ft(n)),null!=r?f=ft(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const y=[];for(d.length>=e.lgSize&&y.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)y.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(F(n,r)),m.length&&(a+=F(n,i)+m.join("")),g&&(a+=F(n,j.Exponential)+"+"+g)}else a=F(n,j.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(lt)?i.split(lt):[i.substring(0,i.lastIndexOf(ht)+1),i.substring(i.lastIndexOf(ht)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===ht?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.lb)(t)[r.bb.NumberFormats][e]}(e,x.Percent),F(e,j.MinusSign)),e,j.Group,j.Decimal,n,!0).replace(new RegExp("%","g"),F(e,j.PercentSign))}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,n)}catch(s){throw Tt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.v))},t.\u0275pipe=r.Nb({name:"percent",type:t,pure:!0}),t})(),Pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[{provide:dt,useClass:pt}]}),t})();const Rt="browser";function Nt(t){return t===Rt}function Lt(t){return"server"===t}let Mt=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new Ft(Object(r.ac)(u),window)}),t})();class Ft{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Vt(this.window.history)||Vt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Vt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return S}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return o}),n.d(e,"i",function(){return x}),n.d(e,"j",function(){return c}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return d}),n.d(e,"m",function(){return g}),n.d(e,"n",function(){return m}),n.d(e,"o",function(){return l}),n.d(e,"p",function(){return h}),n.d(e,"q",function(){return p}),n.d(e,"r",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,v.prototype.create),s}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?_(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new b(i,a,r);return u},t}();function _(t,e){return t.replace(w,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var w=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function x(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,v]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.ac(u.C))},t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return $t}),n.d(e,"b",function(){return dn}),n.d(e,"c",function(){return pn}),n.d(e,"d",function(){return yn}),n.d(e,"e",function(){return gn}),n.d(e,"f",function(){return kn}),n.d(e,"g",function(){return bn});var r=n("ofXK"),i=n("fXoL"),s=n("Cfvw"),o=n("LRne"),a=n("2Vo4"),u=n("itXk"),c=n("HDdC"),l=n("sVev"),h=n("GyhO"),f=n("EY2u");function d(t){return new c.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(f.b)()).subscribe(e)})}var p=n("EQ5u"),g=n("XNiG"),m=n("lJxs"),y=n("eIep"),b=n("IzEk"),v=n("JX91"),_=n("Kqap"),w=n("pLZG"),S=n("zx2A");function E(t){return function(e){const n=new O(t),r=e.lift(n);return n.caught=r}}class O{constructor(t){this.selector=t}call(t,e){return e.subscribe(new T(t,this.selector,this.caught))}}class T extends S.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new S.a(this);this.add(r);const i=Object(S.c)(n,r);i!==r&&this.add(i)}}}var x=n("5+tZ");function C(t,e){return Object(x.a)(t,e,1)}var k=n("7o/Q"),I=n("4I5i");function A(t){return function(e){return 0===t?Object(f.b)():e.lift(new j(t))}}class j{constructor(t){if(this.total=t,this.total<0)throw new I.a}call(t,e){return e.subscribe(new D(t,this.total))}}class D extends k.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var P=n("XDbj"),R=n("xbPD"),N=n("SpAZ"),L=n("SxV6"),M=n("vkgz"),F=n("x+ZX"),V=n("nYR2"),U=n("bHdf");class B{constructor(t,e){this.id=t,this.url=e}}class q extends B{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class H extends B{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class z extends B{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class G extends B{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $ extends B{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends B{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W extends B{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q extends B{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y extends B{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tt{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class et{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const it="primary";class st{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ot(t){return new st(t)}function at(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ut(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ct(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lt(t[i],e[i]))return!1;return!0}function lt(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function ht(t){return Array.prototype.concat.apply([],t)}function ft(t){return t.length>0?t[t.length-1]:null}function dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function pt(t){return Object(i.sb)(t)?t:Object(i.tb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function gt(t,e,n){return n?function(t,e){return ct(t,e)}(t.queryParams,e.queryParams)&&mt(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lt(t[n],e[n]))}(t.queryParams,e.queryParams)&&yt(t.root,e.root)}function mt(t,e){if(!St(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!mt(t.children[n],e.children[n]))return!1}return!0}function yt(t,e){return bt(t,e,e.segments)}function bt(t,e,n){if(t.segments.length>n.length)return!!St(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!St(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!yt(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!St(t.segments,r)&&!!t.children.primary&&bt(t.children.primary,e,i)}}class vt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return Tt.serialize(this)}}class _t{constructor(t,e){this.segments=t,this.children=e,this.parent=null,dt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xt(this)}}class wt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ot(this.parameters)),this._parameterMap}toString(){return Pt(this)}}function St(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Et{}class Ot{parse(t){const e=new Ft(t);return new vt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Ct(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${It(e)}=${It(t)}`).join("&"):`${It(e)}=${It(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Tt=new Ot;function xt(t){return t.segments.map(t=>Pt(t)).join("/")}function Ct(t,e){if(!t.hasChildren())return xt(t);if(e){const e=t.children.primary?Ct(t.children.primary,!1):"",n=[];return dt(t.children,(t,e)=>{e!==it&&n.push(`${e}:${Ct(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return dt(t.children,(t,r)=>{r===it&&(n=n.concat(e(t,r)))}),dt(t.children,(t,r)=>{r!==it&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===it?[Ct(t.children.primary,!1)]:[`${n}:${Ct(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${xt(t)}/${e[0]}`:`${xt(t)}/(${e.join("//")})`}}function kt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function It(t){return kt(t).replace(/%3B/gi,";")}function At(t){return kt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jt(t){return decodeURIComponent(t)}function Dt(t){return jt(t.replace(/\+/g,"%20"))}function Pt(t){return`${At(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${At(t)}=${At(e[t])}`).join("")}`;var e}const Rt=/^[^\/()?;=#]+/;function Nt(t){const e=t.match(Rt);return e?e[0]:""}const Lt=/^[^=?&#]+/,Mt=/^[^?&#]+/;class Ft{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _t(t,e)),n}parseSegment(){const t=Nt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wt(jt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Nt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Nt(this.remaining);t&&(n=t,this.capture(n))}t[jt(e)]=jt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Lt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Mt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Dt(e),i=Dt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Nt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=it);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new _t([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Vt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ut(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ut(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Bt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Bt(t,this._root).map(t=>t.value)}}function Ut(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ut(t,n);if(e)return e}return null}function Bt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Bt(t,n);if(r.length)return r.unshift(e),r}return[]}class qt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ht(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class zt extends Vt{constructor(t,e){super(t),this.snapshot=e,Yt(this,t)}toString(){return this.snapshot.toString()}}function Gt(t,e){const n=function(t,e){const n=new Wt([],{},{},"",{},it,e,null,t.root,-1,{});return new Qt("",new qt(n,[]))}(t,e),r=new a.a([new wt("",{})]),i=new a.a({}),s=new a.a({}),o=new a.a({}),u=new a.a(""),c=new $t(r,i,o,u,s,it,e,n.root);return c.snapshot=n.root,new zt(new qt(c,[]),n)}class $t{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(m.a)(t=>ot(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(m.a)(t=>ot(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wt{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qt extends Vt{constructor(t,e){super(e),this.url=t,Yt(this,e)}toString(){return Xt(this._root)}}function Yt(t,e){e.value._routerState=t,e.children.forEach(e=>Yt(t,e))}function Xt(t){const e=t.children.length>0?` { ${t.children.map(Xt).join(", ")} } `:"";return`${t.value}${e}`}function Zt(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ct(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ct(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ct(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ct(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jt(t,e){var n,r;return ct(t.params,e.params)&&St(n=t.url,r=e.url)&&n.every((t,e)=>ct(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Jt(t.parent,e.parent))}function te(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return te(t,e,r);return te(t,e)})}(t,e,n);return new qt(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return ee(e,t),t}}const n=new $t(new a.a((r=e.value).url),new a.a(r.params),new a.a(r.queryParams),new a.a(r.fragment),new a.a(r.data),r.outlet,r.component,r),i=e.children.map(e=>te(t,e));return new qt(n,i)}var r}function ee(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ee(t.children[n],e.children[n])}function ne(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function re(t){return"object"==typeof t&&null!=t&&t.outlets}function ie(t,e,n,r,i){let s={};return r&&dt(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new vt(n.root===t?e:se(n.root,t,e),s,i)}function se(t,e,n){const r={};return dt(t.children,(t,i)=>{r[i]=t===e?n:se(t,e,n)}),new _t(t.segments,r)}class oe{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ne(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(re);if(r&&r!==ft(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ae{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ue(t,e,n){if(t||(t=new _t([],{})),0===t.segments.length&&t.hasChildren())return ce(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(re(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!de(a,u,e))return s;r+=2}else{if(!de(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new _t(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new _t(t.segments.slice(r.pathIndex),t.children),ce(e,0,i)}return r.match&&0===i.length?new _t(t.segments,{}):r.match&&!t.hasChildren()?le(t,e,n):r.match?ce(t,0,i):le(t,e,n)}function ce(t,e,n){if(0===n.length)return new _t(t.segments,{});{const r=function(t){return re(t[0])?t[0].outlets:{[it]:t}}(n),i={};return dt(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ue(t.children[r],e,n))}),dt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new _t(t.segments,i)}}function le(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(re(s)){const t=he(s.outlets);return new _t(r,t)}if(0===i&&ne(n[0])){r.push(new wt(t.segments[e].path,fe(n[0]))),i++;continue}const o=re(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ne(a)?(r.push(new wt(o,fe(a))),i+=2):(r.push(new wt(o,{})),i++)}return new _t(r,{})}function he(t){const e={};return dt(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=le(new _t([],{}),0,t))}),e}function fe(t){const e={};return dt(t,(t,n)=>e[n]=`${t}`),e}function de(t,e,n){return t==n.path&&ct(e,n.parameters)}class pe{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zt(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ht(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),dt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Ht(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Ht(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new nt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new tt(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Zt(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ge(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ge(t){Zt(t.value),t.children.forEach(ge)}class me{constructor(t,e){this.routes=t,this.module=e}}function ye(t){return"function"==typeof t}function be(t){return t instanceof vt}const ve=Symbol("INITIAL_VALUE");function _e(){return Object(y.a)(t=>Object(u.a)(t.map(t=>t.pipe(Object(b.a)(1),Object(v.a)(ve)))).pipe(Object(_.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ve)return t;if(r===ve&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||be(r))return r}return t},t)},ve),Object(w.a)(t=>t!==ve),Object(m.a)(t=>be(t)?t:!0===t),Object(b.a)(1)))}let we=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Pb(0,"router-outlet")},directives:function(){return[bn]},encapsulation:2}),t})();function Se(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ee(r,Oe(e,r))}}function Ee(t,e){t.children&&Se(t.children,e)}function Oe(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Te(t){const e=t.children&&t.children.map(Te),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=we),n}function xe(t){return t.outlet||it}function Ce(t,e){const n=t.filter(t=>xe(t)===e);return n.push(...t.filter(t=>xe(t)!==e)),n}const ke={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ie(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ke):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ut)(n,t,e);if(!i)return Object.assign({},ke);const s={};dt(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ae(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>je(t,e,n)&&xe(n)!==it)}(t,n,r)){const i=new _t(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&xe(s)!==it){const n=new _t([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[xe(s)]=n}return i}(t,e,r,new _t(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>je(t,e,n))}(t,n,r)){const s=new _t(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(je(t,n,a)&&!i[xe(a)]){const n=new _t([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[xe(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new _t(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function je(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function De(t,e,n,r){return!!(xe(t)===r||r!==it&&je(e,n,t))&&("**"===t.path||Ie(e,t,n).matched)}function Pe(t,e,n){return 0===e.length&&!t.children[n]}class Re{constructor(t){this.segmentGroup=t||null}}class Ne{constructor(t){this.urlTree=t}}function Le(t){return new c.a(e=>e.error(new Re(t)))}function Me(t){return new c.a(e=>e.error(new Ne(t)))}function Fe(t){return new c.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ve{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.y)}apply(){const t=Ae(this.urlTree.root,[],[],this.config).segmentGroup,e=new _t(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,it).pipe(Object(m.a)(t=>this.createUrlTree(Ue(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(E(t=>{if(t instanceof Ne)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Re)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,it).pipe(Object(m.a)(e=>this.createUrlTree(Ue(e),t.queryParams,t.fragment))).pipe(E(t=>{if(t instanceof Re)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new _t([],{[it]:t}):t;return new vt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(m.a)(t=>new _t([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(s.a)(r).pipe(C(r=>{const i=n.children[r],s=Ce(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(m.a)(t=>({segment:t,outlet:r})))}),Object(_.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(w.a)((e,n)=>t(e,n,r)):N.a,A(1),n?Object(R.a)(e):Object(P.a)(()=>new l.a))}())}expandSegment(t,e,n,r,i,a){return Object(s.a)(n).pipe(C(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,a).pipe(E(t=>{if(t instanceof Re)return Object(o.a)(null);throw t}))),Object(L.a)(t=>!!t),E((t,n)=>{if(t instanceof l.a||"EmptyError"===t.name){if(Pe(e,r,i))return Object(o.a)(new _t([],{}));throw new Re(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return De(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Le(e):Le(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Me(i):this.lineralizeSegments(n,i).pipe(Object(x.a)(n=>{const i=new _t(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ie(e,r,i);if(!o)return Le(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Me(l):this.lineralizeSegments(r,l).pipe(Object(x.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(o.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(m.a)(t=>(n._loadedConfig=t,new _t(r,{})))):Object(o.a)(new _t(r,{}));const{matched:s,consumedSegments:a,lastChild:u}=Ie(e,n,r);if(!s)return Le(e);const c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(x.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:u,slicedSegments:l}=Ae(e,a,c,s),h=new _t(u.segments,u.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,s,h).pipe(Object(m.a)(t=>new _t(a,t)));if(0===s.length&&0===l.length)return Object(o.a)(new _t(a,{}));const f=xe(n)===i;return this.expandSegment(r,h,s,l,f?it:i,!0).pipe(Object(m.a)(t=>new _t(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new me(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(x.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(m.a)(t=>(e._loadedConfig=t,t))):function(t){return new c.a(e=>e.error(at(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new me([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&ye(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!ye(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return pt(s)});return Object(o.a)(i).pipe(_e(),Object(M.a)(t=>{if(!be(t))return;const e=at(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(m.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Fe(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new vt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return dt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return dt(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new _t(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ue(t){const e={};for(const n of Object.keys(t.children)){const r=Ue(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new _t(t.segments.concat(e.segments),e.children)}return t}(new _t(t.segments,e))}class Be{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class qe{constructor(t,e){this.component=t,this.route=e}}function He(t,e,n){const r=t._root;return Ge(r,e?e._root:null,n,[r.value])}function ze(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ge(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ht(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!St(t.url,e.url);case"pathParamsOrQueryParamsChange":return!St(t.url,e.url)||!ct(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jt(t,e)||!ct(t.queryParams,e.queryParams);case"paramsChange":default:return!Jt(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Be(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ge(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qe(a.outlet.component,o))}else o&&$e(e,a,i),i.canActivateChecks.push(new Be(r)),Ge(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),dt(s,(t,e)=>$e(t,n.getContext(e),i)),i}function $e(t,e,n){const r=Ht(t),i=t.value;dt(r,(t,r)=>{$e(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new qe(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ke{}function We(t){return new c.a(e=>e.error(t))}class Qe{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Ae(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,it);if(null===e)return null;const n=new Wt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qt(n,e),i=new Qt(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Kt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Ce(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Xe(n);return r.sort((t,e)=>t.value.outlet===it?-1:e.value.outlet===it?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Pe(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!De(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?ft(n).parameters:{};i=new Wt(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tn(t),xe(t),t.component,t,Ze(e),Je(e)+n.length,en(t))}else{const r=Ie(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Wt(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tn(t),xe(t),t.component,t,Ze(e),Je(e)+s.length,en(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ae(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new qt(i,t)]}if(0===a.length&&0===c.length)return[new qt(i,[])];const l=xe(t)===r,h=this.processSegment(a,u,c,l?it:r);return null===h?null:[new qt(i,h)]}}function Ye(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Xe(t){const e=[],n=new Set;for(const r of t){if(!Ye(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Xe(r.children);e.push(new qt(r.value,t))}return e.filter(t=>!n.has(t))}function Ze(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Je(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function tn(t){return t.data||{}}function en(t){return t.resolve||{}}function nn(t){return Object(y.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(m.a)(()=>e)):Object(o.a)(e)})}class rn extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const sn=new i.r("ROUTES");class on{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(m.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new me(ht(r.injector.get(sn,void 0,i.q.Self|i.q.Optional)).map(Te),r)}),E(t=>{throw e._loader$=void 0,t}));return e._loader$=new p.a(n,()=>new g.a).pipe(Object(F.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):pt(t()).pipe(Object(x.a)(t=>t instanceof i.w?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class an{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new un,this.attachRef=null}}class un{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new an,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class cn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ln(t){throw t}function hn(t,e,n){return e.parse("/")}function fn(t,e){return Object(o.a)(null)}let dn=(()=>{class t{constructor(t,e,n,r,s,o,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new g.a,this.errorHandler=ln,this.malformedUriErrorHandler=hn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fn,afterPreactivation:fn},this.urlHandlingStrategy=new cn,this.routeReuseStrategy=new rn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.y),this.console=s.get(i.Z);const l=s.get(i.A);this.isNgZoneEnabled=l instanceof i.A&&i.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new vt(new _t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new on(o,u,t=>this.triggerEvent(new X(t)),t=>this.triggerEvent(new Z(t))),this.routerState=Gt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(w.a)(t=>0!==t.id),Object(m.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(y.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(M.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(y.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(y.a)(t=>{const n=this.transitions.getValue();return e.next(new q(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?f.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,Object(y.a)(t=>function(t,e,n,r,i){return new Ve(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(m.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(M.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(x.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const a=new Qe(t,e,n,r,i,s).recognize();return null===a?We(new Ke):Object(o.a)(a)}catch(a){return We(a)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(m.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(M.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new $(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new q(n,this.serializeUrl(r),i,s);e.next(u);const c=Gt(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),f.a}),nn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(M.a)(t=>{const e=new K(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(m.a)(t=>Object.assign(Object.assign({},t),{guards:He(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(x.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(x.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(s=>{const o=ze(s,e,i);let a;if(function(t){return t&&ye(t.canDeactivate)}(o))a=pt(o.canDeactivate(t,e,n,r));else{if(!ye(o))throw new Error("Invalid CanDeactivate guard");a=pt(o(t,e,n,r))}return a.pipe(Object(L.a)())});return Object(o.a)(a).pipe(_e())}(t.component,t.route,n,e,r)),Object(L.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(x.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(C(e=>Object(h.a)(function(t,e){return null!==t&&e&&e(new J(t)),Object(o.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new et(t)),Object(o.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>d(()=>{const i=e.guards.map(i=>{const s=ze(i,e.node,n);let o;if(function(t){return t&&ye(t.canActivateChild)}(s))o=pt(s.canActivateChild(r,t));else{if(!ye(s))throw new Error("Invalid CanActivateChild guard");o=pt(s(r,t))}return o.pipe(Object(L.a)())});return Object(o.a)(i).pipe(_e())}));return Object(o.a)(i).pipe(_e())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>d(()=>{const i=ze(r,e,n);let s;if(function(t){return t&&ye(t.canActivate)}(i))s=pt(i.canActivate(e,t));else{if(!ye(i))throw new Error("Invalid CanActivate guard");s=pt(i(e,t))}return s.pipe(Object(L.a)())}));return Object(o.a)(i).pipe(_e())}(t,e.route,n))),Object(L.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(m.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(M.a)(t=>{if(be(t.guardsResult)){const e=at(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new W(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(w.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new z(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),nn(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(M.a)(t=>{const e=new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(y.a)(t=>{let n=!1;return Object(o.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(x.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(C(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});const a={};return Object(s.a)(i).pipe(Object(x.a)(i=>function(t,e,n,r){const i=ze(t,e,r);return pt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(M.a)(t=>{a[i]=t}))),A(1),Object(x.a)(()=>Object.keys(a).length===i.length?Object(o.a)(a):f.a))}(t._resolve,t,e,r).pipe(Object(m.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Kt(t,n).resolve),null)))}(t.route,e,r,i)),Object(M.a)(()=>a++),A(1),Object(x.a)(e=>a===n.length?Object(o.a)(t):f.a))})),Object(M.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new z(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(M.a)(t=>{const e=new Y(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),nn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(m.a)(t=>{const e=function(t,e,n){const r=te(t,e._root,n?n._root:void 0);return new zt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(M.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,a=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(m.a)(t=>(new pe(a,t.targetRouterState,t.currentRouterState,u).activate(i),t))),Object(M.a)({next(){n=!0},complete(){n=!0}}),Object(V.a)(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new z(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),E(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=be(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new z(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new G(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return f.a}));var i,a,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Se(t),this.config=t.map(Te),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ie(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new oe(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return dt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new oe(n,e,r)}(n);if(s.toRoot())return ie(e.root,new _t([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ae(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ae(t,t===e.root,0)}const r=ne(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ae(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ce(o.segmentGroup,o.index,s.commands):ue(o.segmentGroup,o.index,s.commands);return ie(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=be(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(be(t))return gt(this.currentUrlTree,t,e);const n=this.parseUrl(t);return gt(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new H(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.N),i.ac(Et),i.ac(un),i.ac(r.i),i.ac(i.s),i.ac(i.x),i.ac(i.i),i.ac(void 0))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),pn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new g.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:mn(this.skipLocationChange),replaceUrl:mn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(dn),i.Ob($t),i.bc("tabindex"),i.Ob(i.E),i.Ob(i.l))},t.\u0275dir=i.Jb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.ec("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.Ab]}),t})(),gn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new g.a,this.subscription=t.events.subscribe(t=>{t instanceof H&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:mn(this.skipLocationChange),replaceUrl:mn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(dn),i.Ob($t),i.Ob(r.j))},t.\u0275dir=i.Jb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.ec("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Wb("href",e.href,i.xc),i.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.Ab]}),t})();function mn(t){return""===t||!!t}let yn=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof H&&this.update()})}ngAfterContentInit(){Object(o.a)(this.links.changes,this.linksWithHrefs.changes,Object(o.a)(null)).pipe(Object(U.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(s.a)(e).pipe(Object(U.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(dn),i.Ob(i.l),i.Ob(i.E),i.Ob(i.h),i.Ob(pn,8),i.Ob(gn,8))},t.\u0275dir=i.Jb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(i.Hb(n,pn,1),i.Hb(n,gn,1)),2&t){let t;i.uc(t=i.fc())&&(e.links=t),i.uc(t=i.fc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.Ab]}),t})(),bn=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||it,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(un),i.Ob(i.Q),i.Ob(i.j),i.bc("name"),i.Ob(i.h))},t.\u0275dir=i.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class vn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===$t?this.route:t===un?this.childContexts:this.parent.get(t,e)}}class _n{}class wn{preload(t,e){return Object(o.a)(null)}}let Sn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new on(e,n,e=>t.triggerEvent(new X(e)),e=>t.triggerEvent(new Z(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(w.a)(t=>t instanceof H),C(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(U.a)(),Object(m.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(o.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(x.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(dn),i.ac(i.x),i.ac(i.i),i.ac(i.s),i.ac(_n))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),En=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof q?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof H&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new rt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(dn),i.ac(r.t),i.ac(void 0))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const On=new i.r("ROUTER_CONFIGURATION"),Tn=new i.r("ROUTER_FORROOT_GUARD"),xn=[r.i,{provide:Et,useClass:Ot},{provide:dn,useFactory:function(t,e,n,i,s,o,a,u={},c,l){const h=new dn(null,t,e,n,i,s,o,ht(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=Object(r.C)();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Et,un,r.i,i.s,i.x,i.i,sn,On,[class{},new i.B],[class{},new i.B]]},un,{provide:$t,useFactory:function(t){return t.routerState.root},deps:[dn]},{provide:i.x,useClass:i.K},Sn,wn,class{preload(t,e){return e().pipe(E(()=>Object(o.a)(null)))}},{provide:On,useValue:{enableTracing:!1}}];function Cn(){return new i.z("Router",dn)}let kn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[xn,Dn(e),{provide:Tn,useFactory:jn,deps:[[dn,new i.B,new i.J]]},{provide:On,useValue:n||{}},{provide:r.j,useFactory:An,deps:[r.r,[new i.p(r.a),new i.B],On]},{provide:En,useFactory:In,deps:[dn,r.t,On]},{provide:_n,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:wn},{provide:i.z,multi:!0,useFactory:Cn},[Pn,{provide:i.d,multi:!0,useFactory:Rn,deps:[Pn]},{provide:Ln,useFactory:Nn,deps:[Pn]},{provide:i.b,multi:!0,useExisting:Ln}]]}}static forChild(e){return{ngModule:t,providers:[Dn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Tn,8),i.ac(dn,8))},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})();function In(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new En(t,e,n)}function An(t,e,n={}){return n.useHash?new r.g(t,e):new r.p(t,e)}function jn(t){return"guarded"}function Dn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:sn,multi:!0,useValue:t}]}let Pn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new g.a}appInitializer(){return this.injector.get(r.h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(dn),r=this.injector.get(On);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(On),n=this.injector.get(Sn),r=this.injector.get(En),s=this.injector.get(dn),o=this.injector.get(i.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.s))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();function Rn(t){return t.appInitializer.bind(t)}function Nn(t){return t.bootstrapListener.bind(t)}const Ln=new i.r("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n,c){return Object(s.a)(n)&&(c=n,n=void 0),c?a(t,e,n).pipe(Object(o.a)(t=>Object(i.a)(t)?c(...t):c(t))):new r.a(r=>{u(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function u(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)u(t[s],e,n,r,i)}r.add(s)}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.8",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.h)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.h)(e,t)},createSubscribe:o.f,ErrorFactory:o.b,deepExtend:o.h}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.p)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.27",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("fXoL");class s extends r.A{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(r.E)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=u||(u=document.querySelector("base"),u)?u.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.D)(document.cookie,t)}}let a,u=null;const c=new i.r("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.C)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.d,i.s],multi:!0}];class h{static init(){Object(i.Y)(new h)}addToWindow(t){i.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.qb.getAllAngularRootElements=()=>t.getAllRootElements(),i.qb.frameworkStabilizers||(i.qb.frameworkStabilizers=[]),i.qb.frameworkStabilizers.push(t=>{const e=i.qb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.C)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const f=new i.r("EventManagerPlugins");let d=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(f),i.ac(i.A))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.C)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(y),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(y))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(r.d))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();function y(t){Object(r.C)().remove(t)}const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},v=/%COMP%/g;function _(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_(t,i,n):(i=i.replace(v,t),n.push(i))}return n}function w(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let S=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new E(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new O(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.R.ShadowDom:return new T(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=_(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.ac(d),i.ac(m),i.ac(i.c))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class E{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(b[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=b[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=b[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.G.DashCase|i.G.Important)?t.style.setProperty(e,n,r&i.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,w(n)):this.eventManager.addEventListener(t,e,w(n))}}class O extends E{constructor(t,e,n,r){super(t),this.component=n;const i=_(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(v,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(v,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class T extends E{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=_(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let x=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(r.d))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const C=["alt","control","meta","shift"],k={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},A={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let j=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.C)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(C.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&I.hasOwnProperty(e)&&(e=I[e]))}return k[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),C.forEach(r=>{r!=n&&(0,A[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(r.d))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const D=[{provide:i.C,useValue:r.B},{provide:i.D,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.d,useFactory:function(){return Object(i.wb)(document),document},deps:[]}],P=Object(i.S)(i.X,"browser",D),R=[[],{provide:i.ab,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:f,useClass:x,multi:!0,deps:[r.d,i.A,i.C]},{provide:f,useClass:j,multi:!0,deps:[r.d]},[],{provide:S,useClass:S,deps:[d,m,i.c]},{provide:i.F,useExisting:S},{provide:g,useExisting:m},{provide:m,useClass:m,deps:[r.d]},{provide:i.M,useClass:i.M,deps:[i.A]},{provide:d,useClass:d,deps:[f,i.A]},[]];let N=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:c,useExisting:i.c},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(t,12))},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:R,imports:[r.c,i.f]}),t})();"undefined"!=typeof window&&window;var L=n("Yj9t"),M=n("UbJi"),F=n("I/3d"),V=n("cxbk"),U=n("spgP"),B=n("tyNb");let q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-navbar"]],decls:15,vars:0,consts:[[1,"bg-yellow","fixed-top","border-bottom"],[1,"container","py-2"],[1,"d-flex","flex-column","flex-md-row","align-items-center"],["href","/",1,"d-flex","align-items-center","link-black","text-decoration-none"],[1,"row","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 18 18"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],[1,"fs-4"],[1,"d-inline-flex","mt-2","mt-md-0","ms-md-auto"],["routerLink","/login",1,"me-3","py-2","link-black","text-decoration-none"],["type","button","routerLink","/register",1,"btn","btn-primary","btn-sm","fw-bold"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Tb(3,"a",3),i.Tb(4,"div",4),i.hc(),i.Tb(5,"svg",5),i.Pb(6,"path",6),i.Pb(7,"path",7),i.Sb(),i.gc(),i.Tb(8,"span",8),i.Dc(9,"Tulisin"),i.Sb(),i.Sb(),i.Sb(),i.Tb(10,"nav",9),i.Tb(11,"a",10),i.Dc(12,"Sign In"),i.Sb(),i.Tb(13,"button",11),i.Dc(14,"Get Started"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb())},directives:[B.e,B.c],styles:[".mt-2[_ngcontent-%COMP%]{margin-top:.5rem!important}@media (min-width:768px){.ms-md-auto[_ngcontent-%COMP%]{margin-left:auto!important}.mt-md-0[_ngcontent-%COMP%]{margin-top:0!important}}.py-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.me-3[_ngcontent-%COMP%]{margin-right:1rem!important}.fs-4[_ngcontent-%COMP%]{font-size:2rem!important;margin-left:10px}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10rem;padding:0 20px;background-color:#000;border-color:#000;color:#fff}"]}),t})();function H(t,e){if(1&t&&(i.Rb(0),i.Tb(1,"li",17),i.Dc(2),i.Sb(),i.Qb()),2&t){const t=e.$implicit;i.Cb(2),i.Ec(t)}}let z=(()=>{class t{constructor(t,e){this.fire=t,this.imgSrc="",this.data={},this.dataUser={},this.listParagraph={},this.loading=!0,this.getData(e.snapshot.queryParams.id)}ngOnInit(){}getData(t){this.fire.collection("blogs").doc(t).get().subscribe(t=>{this.data=t.data(),this.listParagraph=this.data.paragraph,this.imgSrc=this.data.image_url,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(F.a),i.Ob(B.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-detail"]],decls:23,vars:6,consts:[[1,"main","pt-5","mt-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-10"],[1,"card","mb-4","mx-2"],["alt","","height","200",1,"card-img",3,"src"],[1,"card-body"],[1,"row","align-items-center"],[1,"card-text"],[1,"row","ml-auto","align-items-center"],[1,"card-text","mb-0","mr-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-clock-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"],[1,"p-4","mb-3"],[1,"card-title","mb-0","fw-bold",2,"font-size","3.5rem !important"],[1,"list-group","list-group-flush","mb-5"],[4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(t,e){1&t&&(i.Pb(0,"app-navbar"),i.Tb(1,"main",0),i.Tb(2,"div",1),i.Tb(3,"div",2),i.Tb(4,"div",3),i.Tb(5,"article",4),i.Pb(6,"img",5),i.Tb(7,"div",6),i.Tb(8,"div",7),i.Tb(9,"p",8),i.Dc(10),i.Sb(),i.Tb(11,"div",9),i.Tb(12,"p",10),i.Dc(13),i.Sb(),i.hc(),i.Tb(14,"svg",11),i.Pb(15,"path",12),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.gc(),i.Tb(16,"div",13),i.Tb(17,"h4",14),i.Dc(18),i.Sb(),i.Tb(19,"p"),i.Dc(20),i.Sb(),i.Tb(21,"ul",15),i.Bc(22,H,3,1,"ng-container",16),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Cb(6),i.nc("src",e.data.image_url,i.xc),i.Cb(4),i.Ec(e.data.author),i.Cb(3),i.Ec(e.data.created_at),i.Cb(5),i.Ec(e.data.title),i.Cb(2),i.Ec(e.data.description),i.Cb(2),i.nc("ngForOf",e.data.paragraph))},directives:[q,r.l],styles:[""]}),t})();var G=n("XNiG"),$=n("2Vo4"),K=n("HDdC"),W=n("VRyK"),Q=(n("7Hc7"),n("LRne"),n("xgIS"),n("pLZG")),Y=(n("lJxs"),n("Kj3r"),n("eIep"),n("1G5W")),X=(n("IzEk"),n("vkgz"));const Z={provide:i.b,useFactory:function(t,e){return()=>{if(Object(r.y)(e)){const e=Array.from(t.querySelectorAll(`[class*=${J}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(`${J}ssr`)&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[r.d,i.C],multi:!0},J="flex-layout-";let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:[Z]}),t})();class et{constructor(t=!1,e="all",n="",r="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new et(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let nt=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const r=this.stylesheet.get(t);r?r.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let r="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(r=t+"")}return r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const rt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},it=new i.r("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>rt}),st=new i.r("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),ot=new i.r("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function at(t,e){return t=t?t.clone():new et,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const ut="inline",ct=["row","column","row-reverse","column-reverse"];function lt(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let ht=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new G.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(t);i&&r||(i=n.buildStyles(t,e),r&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,r]=this.styler.getFlowDirection(t);if(!r&&e){const e=function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return ct.find(t=>t===e)||(e=ct[0]),n===ut&&(n=r!==ut?r:"",r=ut),[e,lt(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return t.\u0275fac=function(t){i.dc()},t.\u0275dir=i.Jb({type:t,features:[i.Ab]}),t})();const ft=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],dt="(orientation: portrait) and (max-width: 599.98px)",pt="(orientation: landscape) and (max-width: 959.98px)",gt="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",mt="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",yt="(orientation: portrait) and (min-width: 840px)",bt="(orientation: landscape) and (min-width: 1280px)",vt={HANDSET:`${dt}, ${pt}`,TABLET:`${gt} , ${mt}`,WEB:`${yt}, ${bt} `,HANDSET_PORTRAIT:`${dt}`,TABLET_PORTRAIT:`${gt} `,WEB_PORTRAIT:`${yt}`,HANDSET_LANDSCAPE:`${pt}`,TABLET_LANDSCAPE:`${mt}`,WEB_LANDSCAPE:`${bt}`},_t=[{alias:"handset",priority:2e3,mediaQuery:vt.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:vt.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:vt.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:vt.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:vt.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:vt.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:vt.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:vt.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:vt.WEB_PORTRAIT,overlapping:!0}],wt=/(\.|-|_)/g;function St(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const Et=new i.r("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(i.V)(ot),e=Object(i.V)(it),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(r=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=t.alias.replace(wt,"|").split("|").map(St).join(""),t.overlapping=!!t.overlapping)}),r;var r}((e.disableDefaultBps?[]:ft).concat(e.addOrientationBps?_t:[]),n)}});function Ot(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function Tt(t,e){return(t.priority||0)-(e.priority||0)}let xt=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(Tt)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Et))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.ac)(Et))},token:t,providedIn:"root"}),t})(),Ct=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new $.a(new et(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(t=>t.matches)}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(Object(Q.a)(n=>!e||t.indexOf(n.mediaQuery)>-1)),r=new K.a(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()});return Object(W.a)(r,n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!kt[t]);if(n.length>0){const t=n.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(r),n.forEach(t=>kt[t]=r)}catch(r){console.error(r)}}}(e,this._document),e.forEach(t=>{const e=e=>{this._zone.run(()=>this.source.next(new et(e.matches,t)))};let r=this.registry.get(t);r||(r=this.buildMQL(t),r.addListener(e),this.pendingRemoveListenerFns.push(()=>r.removeListener(e)),this.registry.set(t,r)),r.matches&&n.push(new et(!0,t))}),n}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,Object(r.y)(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.A),i.ac(i.C),i.ac(r.d))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.ac)(i.A),Object(i.ac)(i.C),Object(i.ac)(r.d))},token:t,providedIn:"root"}),t})();const kt={},It="print",At={alias:It,mediaQuery:It,priority:1e3};let jt=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.layoutConfig=e,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new Dt,this.deactivations=[]}withPrintQuery(t){return[...t,It]}isPrintEvent(t){return t.mediaQuery.startsWith(It)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(Ot)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),at(t,e)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const e=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new et(!0,It))),t.updateStyles())},n=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",e),this._document.defaultView.addEventListener("afterprint",n),this.beforePrintEventListeners.push(e),this.afterPrintEventListeners.push(n)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(Ot))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(xt),i.ac(it),i.ac(r.d))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.ac)(xt),Object(i.ac)(it),Object(i.ac)(r.d))},token:t,providedIn:"root"}),t})();class Dt{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(At),t.sort(Ot),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(It)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function Pt(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let Rt=(()=>{class t{constructor(t,e,n,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=r}applyStyleToElement(t,e,n=null){let r={};"string"==typeof e&&(r[e]=n,e=r),r=this.layoutConfig.disableVendorPrefixes?e:Pt(e),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:Pt(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){const e="flex-direction";let n=this.lookupStyle(t,e);return[n||"row",this.lookupInlineStyle(t,e)||Object(r.z)(this._platformId)&&this._serverModuleLoaded?n:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return Object(r.y)(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let i="";return t&&((i=this.lookupInlineStyle(t,e))||(Object(r.y)(this._platformId)?n||(i=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(t,e)))),i?i.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const i=t[n],s=Array.isArray(i)?i:[i];s.sort();for(let t of s)t=t?t+"":"",Object(r.y)(this._platformId)||!this._serverModuleLoaded?Object(r.y)(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(t);r[e]=n||"",this._writeStyleAttribute(t,r)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.length>0){const t=r.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${r}`);e[r.substr(0,t).trim()]=r.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const r in e)e[r]&&(n+=r+":"+e[r]+";");t.setAttribute("style",n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(nt),i.ac(st),i.ac(i.C),i.ac(it))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.ac)(nt),Object(i.ac)(st),Object(i.ac)(i.C),Object(i.ac)(it))},token:t,providedIn:"root"}),t})();class Nt{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}function Lt(t,e="1",n="1"){let r=[e,n,t],i=t.indexOf("calc");if(i>0){r[2]=Mt(t.substring(i).trim());let e=t.substr(0,i).trim().split(" ");2==e.length&&(r[0]=e[0],r[1]=e[1])}else if(0==i)r[2]=Mt(t.trim());else{let i=t.split(" ");r=3===i.length?i:[e,n,t]}return r}function Mt(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Ft=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new G.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=at(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(Ot),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(Ot),this.updateStyles()))}init(t,e,n,r,i=[]){Vt(this.updateMap,t,e,n),Vt(this.clearMap,t,e,r),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,n){const r=this.elementMap.get(t);if(r){const t=void 0!==n?r.get(n):this.getActivatedValues(r,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,r){let i=this.elementMap.get(t);if(i){const s=(i.get(r)||new Map).set(e,n);i.set(r,s),this.elementMap.set(t,i)}else i=(new Map).set(r,(new Map).set(e,n)),this.elementMap.set(t,i);const s=this.getValue(t,e);void 0!==s&&this.updateElement(t,e,s)}trackValue(t,e){return this.subject.asObservable().pipe(Object(Q.a)(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let r=this.getActivatedValues(t);r&&r.forEach((t,r)=>{this.updateElement(e,r,t),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(t,n),r){const t=r.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const r=n.get(e);r&&(r(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const r=this.updateMap.get(t);if(r){const i=r.get(e);i&&(i(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const r=this.getActivatedValues(n,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){const i=Object(W.a)(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});r.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=t.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===e||n.has(e)&&null!=n.get(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Object(X.a)(this.hook.interceptEvents(this)),Object(Q.a)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ct),i.ac(xt),i.ac(jt))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.ac)(Ct),Object(i.ac)(xt),Object(i.ac)(jt))},token:t,providedIn:"root"}),t})();function Vt(t,e,n,r){if(void 0!==r){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}}const Ut=new i.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.V)(r.d)}});let Bt=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ut,8))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.ac)(Ut,8))},token:t,providedIn:"root"}),t})(),qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({}),t})();const Ht="inline",zt=["row","column","row-reverse","column-reverse"];function Gt(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return zt.find(t=>t===e)||(e=zt[0]),n===Ht&&(n=r!==Ht?r:"",r=Ht),[e,Kt(n),!!r]}function $t(t){let[e]=Gt(t);return e.indexOf("row")>-1}function Kt(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let Wt=(()=>{class t extends Nt{buildStyles(t){return function(t){let[e,n,r]=Gt(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(t)}}return t.\u0275fac=function(e){return Qt(e||t)},t.\u0275prov=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Qt=i.Vb(Wt),Yt=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Xt=(()=>{class t extends ht{constructor(t,e,n,r){super(t,n,e,r),this.DIRECTIVE_KEY="layout",this.styleCache=te,this.init()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(Rt),i.Ob(Wt),i.Ob(Ft))},t.\u0275dir=i.Jb({type:t,features:[i.zb]}),t})(),Zt=(()=>{class t extends Xt{constructor(){super(...arguments),this.inputs=Yt}}return t.\u0275fac=function(e){return Jt(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[i.zb]}),t})();const Jt=i.Vb(Zt),te=new Map,ee={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let ne=(()=>{class t extends Nt{constructor(t){super(),this._styler=t}buildStyles(t,e){return t.endsWith(he)?function(t,e){const[n,r]=t.split(" "),i=t=>`-${t}`;let s="0px",o=i(r||n),a="0px";return"rtl"===e?a=i(n):s=i(n),{margin:`0px ${s} ${o} ${a}`}}(t=t.slice(0,t.indexOf(he)),e.directionality):{}}sideEffect(t,e,n){const r=n.items;if(t.endsWith(he)){const e=function(t,e){const[n,r]=t.split(" ");let i="0px",s="0px";return"rtl"===e?s=n:i=n,{padding:`0px ${i} ${r||n} ${s}`}}(t=t.slice(0,t.indexOf(he)),n.directionality);this._styler.applyStyleToElements(e,n.items)}else{const e=r.pop(),i=function(t,e){const n=fe(e.directionality,e.layout),r=Object.assign({},ee);return r[n]=t,r}(t,n);this._styler.applyStyleToElements(i,r),this._styler.applyStyleToElements(ee,[e])}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Rt))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.ac)(Rt))},token:t,providedIn:"root"}),t})();const re=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let ie=(()=>{class t extends ht{constructor(t,e,n,r,i,s){super(t,i,r,s),this.zone=e,this.directionality=n,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new G.a;const o=[this.directionality.change,this.observerSubject.asObservable()];this.init(o),this.marshal.trackValue(this.nativeElement,"layout").pipe(Object(Y.a)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,e=[];for(let n=t.length;n--;)e[n]=t[n];return e}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],zt.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const e=this.childrenNodes.filter(t=>1===t.nodeType&&this.willDisplay(t)).sort((t,e)=>{const n=+this.styler.lookupStyle(t,"order"),r=+this.styler.lookupStyle(e,"order");return isNaN(n)||isNaN(r)||n===r?0:n>r?1:-1});if(e.length>0){const n=this.directionality.value,r=this.layout;"row"===r&&"rtl"===n?this.styleCache=ae:"row"===r&&"rtl"!==n?this.styleCache=ce:"column"===r&&"rtl"===n?this.styleCache=ue:"column"===r&&"rtl"!==n&&(this.styleCache=le),this.addStyles(t,{directionality:n,items:e,layout:r})}}clearStyles(){const t=Object.keys(this.mru).length>0,e=t?"padding":fe(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[e]:""},this.childrenNodes)}willDisplay(t){const e=this.marshal.getValue(t,"show-hide");return!0===e||void 0===e&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(t=>t.addedNodes&&t.addedNodes.length>0||t.removedNodes&&t.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(i.A),i.Ob(Bt),i.Ob(Rt),i.Ob(ne),i.Ob(Ft))},t.\u0275dir=i.Jb({type:t,features:[i.zb]}),t})(),se=(()=>{class t extends ie{constructor(){super(...arguments),this.inputs=re}}return t.\u0275fac=function(e){return oe(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[i.zb]}),t})();const oe=i.Vb(se),ae=new Map,ue=new Map,ce=new Map,le=new Map,he=" grid";function fe(t,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===t?"margin-left":"margin-right";case"row-reverse":return"rtl"===t?"margin-right":"margin-left";default:return"rtl"===t?"margin-left":"margin-right"}}function de(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}let pe=(()=>{class t extends Nt{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[n,r,...i]=t.split(" "),s=i.join(" ");const o=e.direction.indexOf("column")>-1?"column":"row",a=$t(o)?"max-width":"max-height",u=$t(o)?"min-width":"min-height",c=String(s).indexOf("calc")>-1,l=c||"auto"===s,h=String(s).indexOf("%")>-1&&!c,f=String(s).indexOf("px")>-1||String(s).indexOf("rem")>-1||String(s).indexOf("em")>-1||String(s).indexOf("vw")>-1||String(s).indexOf("vh")>-1;let d=c||f;n="0"==n?0:n,r="0"==r?0:r;const p=!n&&!r;let g={};const m={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(s||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;s="row"===o?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,s="auto";break;case"grow":s="100%";break;case"noshrink":r=0,s="auto";break;case"auto":break;case"none":n=0,r=0,s="auto";break;default:d||h||isNaN(s)||(s+="%"),"0%"===s&&(d=!0),"0px"===s&&(s="0%"),g=de(m,c?{"flex-grow":n,"flex-shrink":r,"flex-basis":d?s:"100%"}:{flex:`${n} ${r} ${d?s:"100%"}`})}return g.flex||g["flex-grow"]||(g=de(m,c?{"flex-grow":n,"flex-shrink":r,"flex-basis":s}:{flex:`${n} ${r} ${s}`})),"0%"!==s&&"0px"!==s&&"0.000000001px"!==s&&"auto"!==s&&(g[u]=p||d&&n?s:null,g[a]=p||!l&&r?s:null),g[u]||g[a]?e.hasWrap&&(g[c?"flex-basis":"flex"]=g[a]?c?g[a]:`${n} ${r} ${g[a]}`:c?g[u]:`${n} ${r} ${g[u]}`):g=de(m,c?{"flex-grow":n,"flex-shrink":r,"flex-basis":s}:{flex:`${n} ${r} ${s}`}),de(g,{"box-sizing":"border-box"})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(it))},t.\u0275prov=Object(i.Kb)({factory:function(){return new t(Object(i.ac)(it))},token:t,providedIn:"root"}),t})();const ge=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let me=(()=>{class t extends ht{constructor(t,e,n,r,i){super(t,r,e,i),this.layoutConfig=n,this.marshal=i,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Object(Y.a)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Object(Y.a)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const e=this.direction,n=e.startsWith("row"),r=this.wrap;n&&r?this.styleCache=we:n&&!r?this.styleCache=ve:!n&&r?this.styleCache=Se:n||r||(this.styleCache=_e);const i=Lt(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(i.join(" "),{direction:e,hasWrap:r})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=Lt(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(Rt),i.Ob(it),i.Ob(pe),i.Ob(Ft))},t.\u0275dir=i.Jb({type:t,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[i.zb]}),t})(),ye=(()=>{class t extends me{constructor(){super(...arguments),this.inputs=ge}}return t.\u0275fac=function(e){return be(e||t)},t.\u0275dir=i.Jb({type:t,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[i.zb]}),t})();const be=i.Vb(ye),ve=new Map,_e=new Map,we=new Map,Se=new Map;new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let Ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[tt,qt]]}),t})();function Oe(t,e){if(1&t&&(i.Tb(0,"div",33),i.Tb(1,"div",34),i.Tb(2,"div",35),i.Tb(3,"h4",36),i.Dc(4),i.Sb(),i.Tb(5,"a",37),i.Tb(6,"div",38),i.Tb(7,"p",39),i.Dc(8,"Nama penerbit"),i.Sb(),i.Tb(9,"h4",40),i.Dc(10,"Judul t as as as as as ulisan"),i.Sb(),i.Tb(11,"p",41),i.Dc(12,"5 Jun"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.index;i.Db("data-index",t),i.Cb(4),i.Ec(t+1)}}function Te(t,e){1&t&&(i.Tb(0,"div",42),i.Pb(1,"div",43),i.Tb(2,"p",44),i.Dc(3,"Please wait a second"),i.Sb(),i.Sb())}const xe=function(){return["/detail"]},Ce=function(t){return{id:t}};function ke(t,e){if(1&t&&(i.Tb(0,"div",46),i.Tb(1,"div",47),i.Pb(2,"img",48),i.Sb(),i.Tb(3,"div",49),i.Tb(4,"a",50),i.Tb(5,"p",39),i.Dc(6),i.Sb(),i.Tb(7,"h4",51),i.Dc(8),i.Sb(),i.Tb(9,"p",41),i.Dc(10),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit;i.Cb(2),i.nc("src",t.payload.doc.data().image_url,i.xc),i.Cb(2),i.nc("routerLink",i.qc(6,xe))("queryParams",i.rc(7,Ce,t.payload.doc.id)),i.Cb(2),i.Ec(t.payload.doc.data().author),i.Cb(2),i.Ec(t.payload.doc.data().title),i.Cb(2),i.Ec(t.payload.doc.data().created_at)}}function Ie(t,e){if(1&t&&(i.Rb(0),i.Bc(1,ke,11,9,"div",45),i.Qb()),2&t){const t=i.ic();i.Cb(1),i.nc("ngForOf",t.blogs)}}const Ae=function(){return[0,1,2,3,4,5]},je=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(t){this.fire=t,this.blogs={},this.isEmpty=!0,this.loading=!0,this.getData()}ngOnInit(){}getData(){this.fire.collection("blogs",t=>t.where("status","==","published")).snapshotChanges().subscribe(t=>{this.blogs=t,this.isEmpty=0===this.blogs.length,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(F.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-home"]],decls:49,vars:4,consts:[[1,"bg-yellow","mt-5","border-bottom"],[1,"container","col-xxl-8"],[1,"row","justify-content-center"],[1,"col-md-10"],[1,"row","flex-lg-row-reverse","justify-content-md-center","align-items-center","g-5","py-5"],[1,"col-md-4","ml-auto"],["src","assets/img/header.png","alt","Bootstrap Themes","width","700","height","500","loading","lazy",1,"d-block","mx-lg-auto","img-fluid"],[1,"col-md-8"],[1,"display-5","font-medium","lh-1","mb-3"],[1,"lead"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-start"],["type","button","routerLink","/login",1,"btn","bt-light","cursor-pointer","btn-lg","px-4","me-md-2"],[1,"border-bottom"],["id","icon-grid",1,"container","px-4","py-5"],[1,"row","align-items-center","pb-3"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16"],["fill-rule","evenodd","d","M0 0h1v15h15v1H0V0zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5z"],[1,"top-title","ml-2"],["fxLayout","row wrap","fxLayoutGap","grid",1,"justify-content-center"],["fxFlex","33%","fxFlex.xs","100%","fxFlex.sm","50%",4,"ngFor","ngForOf"],[1,"container","my-5"],[1,"col-10"],[1,"row"],[1,"col-md-8","col-sm-10"],["class","text-center mt-2",4,"ngIf"],[4,"ngIf"],[1,"col-md-3","ml-auto"],[1,"position-sticky",2,"top","2rem"],[1,"p-2"],[1,"list-unstyled"],["href","https://github.com/meydiansyah"],["href","https://twitter.com/meydiansyah__"],["href","https://instagram.com/meydiansyah__"],["fxFlex","33%","fxFlex.xs","100%","fxFlex.sm","50%"],[1,"row","card-top"],[1,"col","d-flex","align-items-start"],[1,"count"],["href","#",1,"link-black"],[1,"col"],[1,"description"],[1,"fw-bold","title","mb-1"],[1,"date","mb-3"],[1,"text-center","mt-2"],["role","status",1,"spinner-grow"],[1,"muted-text"],["class","row flex-row-reverse align-items-center g-5 py-3",4,"ngFor","ngForOf"],[1,"row","flex-row-reverse","align-items-center","g-5","py-3"],[1,"ml-auto","col-3","p-0"],["alt","title",1,"ml-auto","rounded","cursor-pointer","img-fluid","img-list",3,"src"],[1,"col-8"],[1,"text-dark",3,"routerLink","queryParams"],[1,"fw-bold","title-list","mb-1"]],template:function(t,e){1&t&&(i.Pb(0,"app-navbar"),i.Tb(1,"div",0),i.Tb(2,"div",1),i.Tb(3,"div",2),i.Tb(4,"div",3),i.Tb(5,"div",4),i.Tb(6,"div",5),i.Pb(7,"img",6),i.Sb(),i.Tb(8,"div",7),i.Tb(9,"h1",8),i.Dc(10,"Temukan Inspirasi baru"),i.Sb(),i.Tb(11,"p",9),i.Dc(12,"Baca dan bagikan perspektif baru tentang topik apa pun."),i.Sb(),i.Tb(13,"div",10),i.Tb(14,"button",11),i.Dc(15,"Get Started"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(16,"div",12),i.Tb(17,"div",13),i.Tb(18,"div",2),i.Tb(19,"div",3),i.Tb(20,"div",14),i.hc(),i.Tb(21,"svg",15),i.Pb(22,"path",16),i.Sb(),i.gc(),i.Tb(23,"h2",17),i.Dc(24,"Trending"),i.Sb(),i.Sb(),i.Tb(25,"div",18),i.Bc(26,Oe,13,2,"div",19),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(27,"div",20),i.Tb(28,"div",2),i.Tb(29,"div",21),i.Tb(30,"div",22),i.Tb(31,"div",23),i.Bc(32,Te,4,0,"div",24),i.Bc(33,Ie,2,1,"ng-container",25),i.Sb(),i.Tb(34,"div",26),i.Tb(35,"div",27),i.Tb(36,"div",28),i.Tb(37,"h4"),i.Dc(38,"Tell me here"),i.Sb(),i.Tb(39,"ol",29),i.Tb(40,"li"),i.Tb(41,"a",30),i.Dc(42,"GitHub"),i.Sb(),i.Sb(),i.Tb(43,"li"),i.Tb(44,"a",31),i.Dc(45,"Twitter"),i.Sb(),i.Sb(),i.Tb(46,"li"),i.Tb(47,"a",32),i.Dc(48,"Facebook"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Cb(26),i.nc("ngForOf",i.qc(3,Ae)),i.Cb(6),i.nc("ngIf",e.loading),i.Cb(1),i.nc("ngIf",!e.isEmpty))},directives:[q,B.c,Zt,se,r.l,r.m,ye,B.e],styles:[""]}),t})()},{path:"detail",component:z},{path:"me",loadChildren:()=>Promise.resolve().then(n.bind(null,"deo1")).then(t=>t.MeModule)},{path:"auth",loadChildren:()=>Promise.resolve().then(n.bind(null,"Yj9t")).then(t=>t.AuthModule)}];let De=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[B.f.forRoot(je)],B.f]}),t})(),Pe=(()=>{class t{constructor(){this.title="tulisin"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&i.Pb(0,"router-outlet")},directives:[B.g],styles:[""]}),t})();class Re{}const Ne="*";function Le(t,e=null){return{type:2,steps:t,options:e}}function Me(t){return{type:6,styles:t,offset:null}}function Fe(t){Promise.resolve(null).then(t)}class Ve{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ue{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Fe(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Be(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qe(t){switch(t.length){case 0:return new Ve;case 1:return t[0];default:return new Ue(t)}}function He(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Ne:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function ze(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ge(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ge(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ge(n,"destroy",t)))}}function Ge(t,e,n){const r=n.totalTime,i=$e(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function $e(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ke(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function We(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Qe=(t,e)=>!1,Ye=(t,e)=>!1,Xe=(t,e,n)=>[];const Ze=Be();(Ze||"undefined"!=typeof Element)&&(Qe=(t,e)=>t.contains(e),Ye=(()=>{if(Ze||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ye}})(),Xe=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Je=null,tn=!1;function en(t){Je||(Je=("undefined"!=typeof document?document.body:null)||{},tn=!!Je.style&&"WebkitAppearance"in Je.style);let e=!0;return Je.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Je.style,!e&&tn)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Je.style),e}const nn=Ye,rn=Qe,sn=Xe;function on(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let an=(()=>{class t{validateStyleProperty(t){return en(t)}matchesElement(t,e){return nn(t,e)}containsElement(t,e){return rn(t,e)}query(t,e,n){return sn(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Ve(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})(),un=(()=>{class t{}return t.NOOP=new an,t})();const cn="ng-enter",ln="ng-leave",hn="ng-trigger",fn=".ng-trigger",dn="ng-animating",pn=".ng-animating";function gn(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mn(parseFloat(e[1]),e[2])}function mn(t,e){switch(e){case"s":return 1e3*t;default:return t}}function yn(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=mn(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=mn(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function bn(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function vn(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else bn(t,n);return n}function _n(t,e,n){return n?e+":"+n+";":""}function wn(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=_n(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=_n(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Sn(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=An(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Be()&&wn(t))}function En(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=An(e);t.style[n]=""}),Be()&&wn(t))}function On(t){return Array.isArray(t)?1==t.length?t[0]:Le(t):t}const Tn=new RegExp("{{\\s*(.+?)\\s*}}","g");function xn(t){let e=[];if("string"==typeof t){let n;for(;n=Tn.exec(t);)e.push(n[1]);Tn.lastIndex=0}return e}function Cn(t,e,n){const r=t.toString(),i=r.replace(Tn,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function kn(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const In=/-+([a-z0-9])/g;function An(t){return t.replace(In,(...t)=>t[1].toUpperCase())}function jn(t,e){return 0===t||0===e}function Dn(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Rn(t,e)})}}return e}function Pn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Rn(t,e){return window.getComputedStyle(t)[e]}const Nn="*";function Ln(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Vn(i,o)),"<"!=s[0]||i==Nn&&o==Nn||e.push(Vn(o,i))}(t,n,e)):n.push(t),n}const Mn=new Set(["true","1"]),Fn=new Set(["false","0"]);function Vn(t,e){const n=Mn.has(t)||Fn.has(t),r=Mn.has(e)||Fn.has(e);return(i,s)=>{let o=t==Nn||t==i,a=e==Nn||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Mn.has(t):Fn.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Mn.has(e):Fn.has(e)),o&&a}}const Un=new RegExp("s*:selfs*,?","g");function Bn(t,e,n){return new qn(t).build(e,n)}class qn{constructor(t){this._driver=t}build(t,e){const n=new Hn(e);return this._resetContextStyleTimingState(n),Pn(this,On(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(zn(t)){const e=t;Object.keys(e).forEach(t=>{xn(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=kn(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Pn(this,On(t.animation),e);return{type:1,matchers:Ln(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Gn(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Pn(this,t,e)),options:Gn(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Pn(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Gn(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return $n(yn(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=$n(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||yn(r,e),$n(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Me({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Me(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ne?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(zn(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=xn(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(zn(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(zn(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Pn(this,On(t.animation),e),options:Gn(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gn(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gn(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Un,"")),[t=t.replace(/@\*/g,fn).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,pn),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ke(e.collectedStyles,e.currentQuerySelector,{});const o=Pn(this,On(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Gn(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:yn(t.timings,e.errors,!0);return{type:12,animation:Pn(this,On(t.animation),e),timings:n,options:null}}}class Hn{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function zn(t){return!Array.isArray(t)&&"object"==typeof t}function Gn(t){var e;return t?(t=bn(t)).params&&(t.params=(e=t.params)?bn(e):null):t={},t}function $n(t,e,n){return{duration:t,delay:e,easing:n}}function Kn(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Wn{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Qn=new RegExp(":enter","g"),Yn=new RegExp(":leave","g");function Xn(t,e,n,r,i,s={},o={},a,u,c=[]){return(new Zn).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Zn{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Wn;const l=new tr(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Pn(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Kn(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?gn(n.duration):null,s=null!=n.delay?gn(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Pn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Jn);const t=gn(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Pn(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?gn(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Pn(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return yn(e.params?Cn(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?gn(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Jn);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Pn(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Pn(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Jn={};class tr{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new er(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=gn(n.duration)),null!=n.delay&&(r.delay=gn(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Cn(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new tr(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Jn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new nr(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Qn,"."+this._enterClassName)).replace(Yn,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class er{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new er(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ne,this._currentKeyframe[t]=Ne}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Ne})):vn(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Cn(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ne),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=vn(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Ne&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?kn(t.values()):[],s=e.size?kn(e.values()):[];if(n){const t=r[0],e=bn(t);t.offset=0,e.offset=1,r=[t,e]}return Kn(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class nr extends er{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=vn(t[0],!1);a.offset=0,i.push(a);const u=vn(t[0],!1);u.offset=rr(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=vn(t[r],!1);o.offset=rr((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Kn(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function rr(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ir{}class sr extends ir{normalizePropertyName(t,e){return An(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(or[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const or=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ar(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const ur={};class cr{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||ur,f=this.buildStyles(n,o&&o.params||ur,l),d=a&&a.params||ur,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),d)},_=c?[]:Xn(t,e,this.ast.animation,i,s,f,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return ar(e,this._triggerName,n,r,b,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=Ke(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ke(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const S=kn(g.values());return ar(e,this._triggerName,n,r,b,f,p,_,S,m,y,w)}}class lr{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=bn(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Cn(s,r,e)),n[t]=s})}}),n}}class hr{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new lr(t.style,t.options&&t.options.params||{})}),fr(this.states,"true","1"),fr(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new cr(t,e,this.states))}),this.fallbackTransition=new cr(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function fr(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const dr=new Wn;class pr{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Bn(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=He(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Xn(this._driver,e,i,cn,ln,{},{},n,dr,r),s.forEach(t=>{const e=Ke(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ne)})});const a=qe(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=$e(e,"","","");return ze(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const gr="ng-animate-queued",mr="ng-animate-disabled",yr=".ng-animate-disabled",br=[],vr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_r={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class wr{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=bn(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Sr="void",Er=new wr(Sr);class Or{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,jr(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Ke(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Ke(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(jr(t,hn),jr(t,"ng-trigger-"+e),a[e]=Er),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new xr(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(jr(t,hn),jr(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new wr(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Er),u.value!==Sr&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{En(t,n),Sn(t,r)})}return}const c=Ke(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(jr(t,gr),s.onStart(()=>{Dr(t,gr)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,fn,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Sr,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&qe(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Er,a=new wr(Sr),u=new xr(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==vr||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){jr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=$e(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,ze(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Tr{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Or(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Cr(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Cr(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),jr(t,mr)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Dr(t,mr))}removeNode(t,e,n,r){if(Cr(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Cr(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,fn,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,pn,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qe(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=vr,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,yr)&&this.markElementAsDisabled(t,!1),this.driver.query(t,yr,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)jr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?qe(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Wn,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Ar(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=cn+p++;d.set(e,n),t.forEach(t=>jr(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const b=new Map,v=Ar(h,Array.from(m));v.forEach((t,e)=>{const n=ln+p++;b.set(e,n),t.forEach(t=>jr(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Dr(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Dr(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>En(i,p.fromStyles)),e.onDestroy(()=>Sn(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>En(i,p.fromStyles)),e.onDestroy(()=>Sn(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ke(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ke(S,e,[]).push(t),t.destroy()})});const O=g.filter(t=>Nr(t,a,u)),T=new Map;Ir(T,this.driver,y,u,Ne).forEach(t=>{Nr(t,a,u)&&O.push(t)});const x=new Map;f.forEach((t,e)=>{Ir(x,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=T.get(t),n=x.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const C=[],k=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Sn(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,x,T);if(s.setRealPlayer(n),t===I)C.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=qe(e)),r.push(s)}}else En(e,o.fromStyles),s.onDestroy(()=>Sn(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=qe(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Dr(t,ln),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,pn,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Pr(this,t,r):this.processLeaveNode(t)}return g.length=0,C.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),C}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Sr;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Ke(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}En(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Ve(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return Rr(t,e),e}((n.get(h)||br).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=He(0,this._normalizer,0,e.keyframes,g,m),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new xr(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Ke(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>jr(t,dn));const f=qe(h);return f.onDestroy(()=>{c.forEach(t=>Dr(t,dn)),Sn(a,e.toStyles)}),l.forEach(t=>{Ke(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ve(t.duration,t.delay)}}class xr{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ve,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>ze(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ke(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Cr(t){return t&&1===t.nodeType}function kr(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ir(t,e,n,r,i){const s=[];n.forEach(t=>s.push(kr(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=_r,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>kr(t,s[a++])),o}function Ar(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function jr(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Dr(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Pr(t,e,n){qe(n).onDone(()=>t.processLeaveNode(e))}function Rr(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Ue?Rr(r.players,e):e.push(r)}}function Nr(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Lr{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Tr(t,e,n),this._timelineEngine=new pr(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Bn(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new hr(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=We(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=We(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Mr(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Vr(e[0]),e.length>1&&(r=Vr(e[e.length-1]))):e&&(n=Vr(e)),n||r?new Fr(t,n,r):null}let Fr=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Sn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sn(this._element,this._initialStyles),this._endStyles&&(Sn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(En(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(En(this._element,this._endStyles),this._endStyles=null),Sn(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Vr(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Ur(i)&&(e=e||{},e[i]=t[i])}return e}function Ur(t){return"display"===t||"position"===t}const Br="animation",qr="animationend";class Hr{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Qr(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Wr(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Kr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){zr(this._element,this._name,"paused")}resume(){zr(this._element,this._name,"running")}setPosition(t){const e=Gr(this._element,this._name);this._position=t*this._duration,Wr(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Kr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Qr(t,"").split(","),r=$r(n,e);r>=0&&(n.splice(r,1),Wr(t,"",n.join(",")))}(this._element,this._name))}}function zr(t,e,n){Wr(t,"PlayState",n,Gr(t,e))}function Gr(t,e){const n=Qr(t,"");return n.indexOf(",")>0?$r(n.split(","),e):$r([n],e)}function $r(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Kr(t,e,n){n?t.removeEventListener(qr,e):t.addEventListener(qr,e)}function Wr(t,e,n,r){const i=Br+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Qr(t,e){return t.style[Br+e]||""}class Yr{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Hr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Rn(this.element,n))})}this.currentSnapshot=t}}class Xr extends Ve{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=on(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Zr{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return en(t)}matchesElement(t,e){return nn(t,e)}containsElement(t,e){return rn(t,e)}query(t,e,n){return sn(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>on(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Yr),u={};jn(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Dn(t,e,u));if(0==n)return new Xr(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Mr(t,e),d=new Yr(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class Jr{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Rn(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ti{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ei().toString()),this._cssKeyframesDriver=new Zr}validateStyleProperty(t){return en(t)}matchesElement(t,e){return nn(t,e)}containsElement(t,e){return rn(t,e)}query(t,e,n){return sn(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof Jr);jn(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Mr(t,e=Dn(t,e=e.map(t=>vn(t,!1)),u));return new Jr(t,e,a,l)}}function ei(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let ni=(()=>{class t extends Re{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Le(t):t;return si(this._renderer,null,e,"register",[n]),new ri(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.F),i.ac(r.d))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class ri extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ii(this._id,t,e||{},this._renderer)}}class ii{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return si(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function si(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const oi="@",ai="@.disabled";let ui=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ci("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new li(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.F),i.ac(Lr),i.ac(i.A))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();class ci{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==oi&&e==ai?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class li extends ci{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==oi?"."==e.charAt(1)&&e==ai?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==oi){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=oi&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let hi=(()=>{class t extends Lr{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(r.d),i.ac(un),i.ac(ir))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();const fi=[{provide:un,useFactory:function(){return"function"==typeof ei()?new ti:new Zr}},{provide:new i.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Re,useClass:ni},{provide:ir,useFactory:function(){return new sr}},{provide:Lr,useClass:hi},{provide:i.F,useFactory:function(t,e,n){return new ui(t,e,n)},deps:[S,Lr,i.A]}];let di=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({providers:fi,imports:[N]}),t})();new Map,new WeakMap;let pi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[tt]]}),t})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let gi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[tt]]}),t})();new i.P("12.0.0-beta.34");let mi=(()=>{class t{constructor(t,e){Object(r.z)(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:it,useValue:Object.assign(Object.assign({},rt),e)},{provide:ot,useValue:n,multi:!0},{provide:st,useValue:!0}]:[{provide:it,useValue:Object.assign(Object.assign({},rt),e)},{provide:ot,useValue:n,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(st),i.ac(i.C))},t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({imports:[[Ee,pi,gi],Ee,pi,gi]}),t})();var yi=n("deo1");let bi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Mb({type:t,bootstrap:[Pe]}),t.\u0275inj=i.Lb({providers:[],imports:[[N,De,U.a.initializeApp(V.a.firebase),F.b,M.b,di,mi,L.AuthModule,yi.MeModule]]}),t})();n("AytR").a.production&&Object(i.T)(),P().bootstrapModule(bi).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);